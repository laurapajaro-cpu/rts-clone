(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function mM(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qw={exports:{}},hv={};var cN;function JF(){if(cN)return hv;cN=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:s}}return hv.Fragment=e,hv.jsx=t,hv.jsxs=t,hv}var uN;function e5(){return uN||(uN=1,Qw.exports=JF()),Qw.exports}var C=e5(),Jw={exports:{}},ln={};var fN;function t5(){if(fN)return ln;fN=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),_=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=_&&Y[_]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function M(Y,he,De){this.props=Y,this.context=he,this.refs=E,this.updater=De||b}M.prototype.isReactComponent={},M.prototype.setState=function(Y,he){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,he,"setState")},M.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function R(){}R.prototype=M.prototype;function D(Y,he,De){this.props=Y,this.context=he,this.refs=E,this.updater=De||b}var L=D.prototype=new R;L.constructor=D,T(L,M.prototype),L.isPureReactComponent=!0;var I=Array.isArray;function z(){}var k={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function O(Y,he,De){var Le=De.ref;return{$$typeof:i,type:Y,key:he,ref:Le!==void 0?Le:null,props:De}}function U(Y,he){return O(Y.type,he,Y.props)}function X(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===i}function K(Y){var he={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(De){return he[De]})}var ne=/\/+/g;function oe(Y,he){return typeof Y=="object"&&Y!==null&&Y.key!=null?K(""+Y.key):he.toString(36)}function le(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(z,z):(Y.status="pending",Y.then(function(he){Y.status==="pending"&&(Y.status="fulfilled",Y.value=he)},function(he){Y.status==="pending"&&(Y.status="rejected",Y.reason=he)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function q(Y,he,De,Le,Ze){var me=typeof Y;(me==="undefined"||me==="boolean")&&(Y=null);var be=!1;if(Y===null)be=!0;else switch(me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(Y.$$typeof){case i:case e:be=!0;break;case m:return be=Y._init,q(be(Y._payload),he,De,Le,Ze)}}if(be)return Ze=Ze(Y),be=Le===""?"."+oe(Y,0):Le,I(Ze)?(De="",be!=null&&(De=be.replace(ne,"$&/")+"/"),q(Ze,he,De,"",function(pt){return pt})):Ze!=null&&(X(Ze)&&(Ze=U(Ze,De+(Ze.key==null||Y&&Y.key===Ze.key?"":(""+Ze.key).replace(ne,"$&/")+"/")+be)),he.push(Ze)),1;be=0;var Ke=Le===""?".":Le+":";if(I(Y))for(var qe=0;qe<Y.length;qe++)Le=Y[qe],me=Ke+oe(Le,qe),be+=q(Le,he,De,me,Ze);else if(qe=x(Y),typeof qe=="function")for(Y=qe.call(Y),qe=0;!(Le=Y.next()).done;)Le=Le.value,me=Ke+oe(Le,qe++),be+=q(Le,he,De,me,Ze);else if(me==="object"){if(typeof Y.then=="function")return q(le(Y),he,De,Le,Ze);throw he=String(Y),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return be}function J(Y,he,De){if(Y==null)return Y;var Le=[],Ze=0;return q(Y,Le,"","",function(me){return he.call(De,me,Ze++)}),Le}function ie(Y){if(Y._status===-1){var he=Y._result;he=he(),he.then(function(De){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=De)},function(De){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=De)}),Y._status===-1&&(Y._status=0,Y._result=he)}if(Y._status===1)return Y._result.default;throw Y._result}var pe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},$={map:J,forEach:function(Y,he,De){J(Y,function(){he.apply(this,arguments)},De)},count:function(Y){var he=0;return J(Y,function(){he++}),he},toArray:function(Y){return J(Y,function(he){return he})||[]},only:function(Y){if(!X(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return ln.Activity=g,ln.Children=$,ln.Component=M,ln.Fragment=t,ln.Profiler=r,ln.PureComponent=D,ln.StrictMode=n,ln.Suspense=h,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ln.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return k.H.useMemoCache(Y)}},ln.cache=function(Y){return function(){return Y.apply(null,arguments)}},ln.cacheSignal=function(){return null},ln.cloneElement=function(Y,he,De){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Le=T({},Y.props),Ze=Y.key;if(he!=null)for(me in he.key!==void 0&&(Ze=""+he.key),he)!F.call(he,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&he.ref===void 0||(Le[me]=he[me]);var me=arguments.length-2;if(me===1)Le.children=De;else if(1<me){for(var be=Array(me),Ke=0;Ke<me;Ke++)be[Ke]=arguments[Ke+2];Le.children=be}return O(Y.type,Ze,Le)},ln.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},ln.createElement=function(Y,he,De){var Le,Ze={},me=null;if(he!=null)for(Le in he.key!==void 0&&(me=""+he.key),he)F.call(he,Le)&&Le!=="key"&&Le!=="__self"&&Le!=="__source"&&(Ze[Le]=he[Le]);var be=arguments.length-2;if(be===1)Ze.children=De;else if(1<be){for(var Ke=Array(be),qe=0;qe<be;qe++)Ke[qe]=arguments[qe+2];Ze.children=Ke}if(Y&&Y.defaultProps)for(Le in be=Y.defaultProps,be)Ze[Le]===void 0&&(Ze[Le]=be[Le]);return O(Y,me,Ze)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(Y){return{$$typeof:c,render:Y}},ln.isValidElement=X,ln.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:ie}},ln.memo=function(Y,he){return{$$typeof:p,type:Y,compare:he===void 0?null:he}},ln.startTransition=function(Y){var he=k.T,De={};k.T=De;try{var Le=Y(),Ze=k.S;Ze!==null&&Ze(De,Le),typeof Le=="object"&&Le!==null&&typeof Le.then=="function"&&Le.then(z,pe)}catch(me){pe(me)}finally{he!==null&&De.types!==null&&(he.types=De.types),k.T=he}},ln.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ln.use=function(Y){return k.H.use(Y)},ln.useActionState=function(Y,he,De){return k.H.useActionState(Y,he,De)},ln.useCallback=function(Y,he){return k.H.useCallback(Y,he)},ln.useContext=function(Y){return k.H.useContext(Y)},ln.useDebugValue=function(){},ln.useDeferredValue=function(Y,he){return k.H.useDeferredValue(Y,he)},ln.useEffect=function(Y,he){return k.H.useEffect(Y,he)},ln.useEffectEvent=function(Y){return k.H.useEffectEvent(Y)},ln.useId=function(){return k.H.useId()},ln.useImperativeHandle=function(Y,he,De){return k.H.useImperativeHandle(Y,he,De)},ln.useInsertionEffect=function(Y,he){return k.H.useInsertionEffect(Y,he)},ln.useLayoutEffect=function(Y,he){return k.H.useLayoutEffect(Y,he)},ln.useMemo=function(Y,he){return k.H.useMemo(Y,he)},ln.useOptimistic=function(Y,he){return k.H.useOptimistic(Y,he)},ln.useReducer=function(Y,he,De){return k.H.useReducer(Y,he,De)},ln.useRef=function(Y){return k.H.useRef(Y)},ln.useState=function(Y){return k.H.useState(Y)},ln.useSyncExternalStore=function(Y,he,De){return k.H.useSyncExternalStore(Y,he,De)},ln.useTransition=function(){return k.H.useTransition()},ln.version="19.2.3",ln}var hN;function Eg(){return hN||(hN=1,Jw.exports=t5()),Jw.exports}var j=Eg();const Pl=mM(j);var eE={exports:{}},dv={},tE={exports:{}},nE={};var dN;function n5(){return dN||(dN=1,(function(i){function e(q,J){var ie=q.length;q.push(J);e:for(;0<ie;){var pe=ie-1>>>1,$=q[pe];if(0<r($,J))q[pe]=J,q[ie]=$,ie=pe;else break e}}function t(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var J=q[0],ie=q.pop();if(ie!==J){q[0]=ie;e:for(var pe=0,$=q.length,Y=$>>>1;pe<Y;){var he=2*(pe+1)-1,De=q[he],Le=he+1,Ze=q[Le];if(0>r(De,ie))Le<$&&0>r(Ze,De)?(q[pe]=Ze,q[Le]=ie,pe=Le):(q[pe]=De,q[he]=ie,pe=he);else if(Le<$&&0>r(Ze,ie))q[pe]=Ze,q[Le]=ie,pe=Le;else break e}}return J}function r(q,J){var ie=q.sortIndex-J.sortIndex;return ie!==0?ie:q.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var h=[],p=[],m=1,g=null,_=3,x=!1,b=!1,T=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(q){for(var J=t(p);J!==null;){if(J.callback===null)n(p);else if(J.startTime<=q)n(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(p)}}function I(q){if(T=!1,L(q),!b)if(t(h)!==null)b=!0,z||(z=!0,K());else{var J=t(p);J!==null&&le(I,J.startTime-q)}}var z=!1,k=-1,F=5,O=-1;function U(){return E?!0:!(i.unstable_now()-O<F)}function X(){if(E=!1,z){var q=i.unstable_now();O=q;var J=!0;try{e:{b=!1,T&&(T=!1,R(k),k=-1),x=!0;var ie=_;try{t:{for(L(q),g=t(h);g!==null&&!(g.expirationTime>q&&U());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,_=g.priorityLevel;var $=pe(g.expirationTime<=q);if(q=i.unstable_now(),typeof $=="function"){g.callback=$,L(q),J=!0;break t}g===t(h)&&n(h),L(q)}else n(h);g=t(h)}if(g!==null)J=!0;else{var Y=t(p);Y!==null&&le(I,Y.startTime-q),J=!1}}break e}finally{g=null,_=ie,x=!1}J=void 0}}finally{J?K():z=!1}}}var K;if(typeof D=="function")K=function(){D(X)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=X,K=function(){oe.postMessage(null)}}else K=function(){M(X,0)};function le(q,J){k=M(function(){q(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(q){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var ie=_;_=J;try{return q()}finally{_=ie}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=_;_=q;try{return J()}finally{_=ie}},i.unstable_scheduleCallback=function(q,J,ie){var pe=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ie+$,q={id:m++,callback:J,priorityLevel:q,startTime:ie,expirationTime:$,sortIndex:-1},ie>pe?(q.sortIndex=ie,e(p,q),t(h)===null&&q===t(p)&&(T?(R(k),k=-1):T=!0,le(I,ie-pe))):(q.sortIndex=$,e(h,q),b||x||(b=!0,z||(z=!0,K()))),q},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(q){var J=_;return function(){var ie=_;_=J;try{return q.apply(this,arguments)}finally{_=ie}}}})(nE)),nE}var pN;function KI(){return pN||(pN=1,tE.exports=n5()),tE.exports}var iE={exports:{}},Ts={};var mN;function i5(){if(mN)return Ts;mN=1;var i=Eg();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(h,p,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:h,containerInfo:p,implementation:m}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ts.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ts.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return s(h,p,null,m)},Ts.flushSync=function(h){var p=o.T,m=n.p;try{if(o.T=null,n.p=2,h)return h()}finally{o.T=p,n.p=m,n.d.f()}},Ts.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(h,p))},Ts.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Ts.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?n.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:_,fetchPriority:x}):m==="script"&&n.d.X(h,{crossOrigin:g,integrity:_,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ts.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);n.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(h)},Ts.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin);n.d.L(h,m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ts.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=c(p.as,p.crossOrigin);n.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(h)},Ts.requestFormReset=function(h){n.d.r(h)},Ts.unstable_batchedUpdates=function(h,p){return h(p)},Ts.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},Ts.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ts.version="19.2.3",Ts}var gN;function r5(){if(gN)return iE.exports;gN=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),iE.exports=i5(),iE.exports}var vN;function s5(){if(vN)return dv;vN=1;var i=KI(),e=Eg(),t=r5();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(n(188))}function p(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,v=l;;){var w=d.return;if(w===null)break;var A=w.alternate;if(A===null){if(v=w.return,v!==null){d=v;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===d)return h(w),a;if(A===v)return h(w),l;A=A.sibling}throw Error(n(188))}if(d.return!==v.return)d=w,v=A;else{for(var B=!1,W=w.child;W;){if(W===d){B=!0,d=w,v=A;break}if(W===v){B=!0,v=w,d=A;break}W=W.sibling}if(!B){for(W=A.child;W;){if(W===d){B=!0,d=A,v=w;break}if(W===v){B=!0,v=A,d=w;break}W=W.sibling}if(!B)throw Error(n(189))}}if(d.alternate!==v)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function m(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=m(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=X&&a[X]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Symbol.for("react.client.reference");function oe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ne?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case z:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case D:return a.displayName||"Context";case R:return(a._context.displayName||"Context")+".Consumer";case L:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return l=a.displayName||null,l!==null?l:oe(a.type)||"Memo";case F:l=a._payload,a=a._init;try{return oe(a(l))}catch{}}return null}var le=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},pe=[],$=-1;function Y(a){return{current:a}}function he(a){0>$||(a.current=pe[$],pe[$]=null,$--)}function De(a,l){$++,pe[$]=a.current,a.current=l}var Le=Y(null),Ze=Y(null),me=Y(null),be=Y(null);function Ke(a,l){switch(De(me,l),De(Ze,a),De(Le,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?L3(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=L3(l),a=P3(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}he(Le),De(Le,a)}function qe(){he(Le),he(Ze),he(me)}function pt(a){a.memoizedState!==null&&De(be,a);var l=Le.current,d=P3(l,a.type);l!==d&&(De(Ze,a),De(Le,d))}function Ut(a){Ze.current===a&&(he(Le),he(Ze)),be.current===a&&(he(be),lv._currentValue=ie)}var Wt,ee;function Pe(a){if(Wt===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Wt=l&&l[1]||"",ee=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+a+ee}var Ie=!1;function Ne(a,l){if(!a||Ie)return"";Ie=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Re){var we=Re}Reflect.construct(a,[],Ve)}else{try{Ve.call()}catch(Re){we=Re}a.call(Ve.prototype)}}else{try{throw Error()}catch(Re){we=Re}(Ve=a())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Re){if(Re&&we&&typeof Re.stack=="string")return[Re.stack,we.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=v.DetermineComponentFrameRoot(),B=A[0],W=A[1];if(B&&W){var se=B.split(`
`),xe=W.split(`
`);for(w=v=0;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;for(;w<xe.length&&!xe[w].includes("DetermineComponentFrameRoot");)w++;if(v===se.length||w===xe.length)for(v=se.length-1,w=xe.length-1;1<=v&&0<=w&&se[v]!==xe[w];)w--;for(;1<=v&&0<=w;v--,w--)if(se[v]!==xe[w]){if(v!==1||w!==1)do if(v--,w--,0>w||se[v]!==xe[w]){var ke=`
`+se[v].replace(" at new "," at ");return a.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",a.displayName)),ke}while(1<=v&&0<=w);break}}}finally{Ie=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Pe(d):""}function te(a,l){switch(a.tag){case 26:case 27:case 5:return Pe(a.type);case 16:return Pe("Lazy");case 13:return a.child!==l&&l!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Ne(a.type,!1);case 11:return Ne(a.type.render,!1);case 1:return Ne(a.type,!0);case 31:return Pe("Activity");default:return""}}function Qe(a){try{var l="",d=null;do l+=te(a,d),d=a,a=a.return;while(a);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Ge=Object.prototype.hasOwnProperty,Je=i.unstable_scheduleCallback,vt=i.unstable_cancelCallback,Rt=i.unstable_shouldYield,Z=i.unstable_requestPaint,V=i.unstable_now,de=i.unstable_getCurrentPriorityLevel,Ee=i.unstable_ImmediatePriority,Ue=i.unstable_UserBlockingPriority,Te=i.unstable_NormalPriority,lt=i.unstable_LowPriority,Ye=i.unstable_IdlePriority,bt=i.log,ot=i.unstable_setDisableYieldValue,Xe=null,nt=null;function Et(a){if(typeof bt=="function"&&ot(a),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Xe,a)}catch{}}var ft=Math.clz32?Math.clz32:re,st=Math.log,Xt=Math.LN2;function re(a){return a>>>=0,a===0?32:31-(st(a)/Xt|0)|0}var $e=256,et=262144,ct=4194304;function He(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ze(a,l,d){var v=a.pendingLanes;if(v===0)return 0;var w=0,A=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var W=v&134217727;return W!==0?(v=W&~A,v!==0?w=He(v):(B&=W,B!==0?w=He(B):d||(d=W&~a,d!==0&&(w=He(d))))):(W=v&~A,W!==0?w=He(W):B!==0?w=He(B):d||(d=v&~a,d!==0&&(w=He(d)))),w===0?0:l!==0&&l!==w&&(l&A)===0&&(A=w&-w,d=l&-l,A>=d||A===32&&(d&4194048)!==0)?l:w}function mt(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Ft(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(){var a=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),a}function ht(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function wt(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Kt(a,l,d,v,w,A){var B=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var W=a.entanglements,se=a.expirationTimes,xe=a.hiddenUpdates;for(d=B&~d;0<d;){var ke=31-ft(d),Ve=1<<ke;W[ke]=0,se[ke]=-1;var we=xe[ke];if(we!==null)for(xe[ke]=null,ke=0;ke<we.length;ke++){var Re=we[ke];Re!==null&&(Re.lane&=-536870913)}d&=~Ve}v!==0&&ut(a,v,0),A!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=A&~(B&~l))}function ut(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var v=31-ft(l);a.entangledLanes|=l,a.entanglements[v]=a.entanglements[v]|1073741824|d&261930}function Bt(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var v=31-ft(d),w=1<<v;w&l|a[v]&l&&(a[v]|=l),d&=~w}}function It(a,l){var d=l&-l;return d=(d&42)!==0?1:Vt(d),(d&(a.suspendedLanes|l))!==0?0:d}function Vt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ri(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function nn(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:nN(a.type))}function Fn(a,l){var d=J.p;try{return J.p=a,l()}finally{J.p=d}}var Wn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Wn,rn="__reactProps$"+Wn,bn="__reactContainer$"+Wn,bi="__reactEvents$"+Wn,zn="__reactListeners$"+Wn,Vi="__reactHandles$"+Wn,Nr="__reactResources$"+Wn,Jn="__reactMarker$"+Wn;function G(a){delete a[Jt],delete a[rn],delete a[bi],delete a[zn],delete a[Vi]}function ue(a){var l=a[Jt];if(l)return l;for(var d=a.parentNode;d;){if(l=d[bn]||d[Jt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=F3(a);a!==null;){if(d=a[Jt])return d;a=F3(a)}return l}a=d,d=a.parentNode}return null}function _e(a){if(a=a[Jt]||a[bn]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Me(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function fe(a){var l=a[Nr];return l||(l=a[Nr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Oe(a){a[Jn]=!0}var it=new Set,xt={};function dt(a,l){St(a,l),St(a+"Capture",l)}function St(a,l){for(xt[a]=l,a=0;a<l.length;a++)it.add(l[a])}var yt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},At={};function un(a){return Ge.call(At,a)?!0:Ge.call(Tt,a)?!1:yt.test(a)?At[a]=!0:(Tt[a]=!0,!1)}function ei(a,l,d){if(un(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Xn(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Sn(a,l,d,v){if(v===null)a.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+v)}}function Ct(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function si(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Nn(a,l,d){var v=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var w=v.get,A=v.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(B){d=""+B,A.call(this,B)}}),Object.defineProperty(a,l,{enumerable:v.enumerable}),{getValue:function(){return d},setValue:function(B){d=""+B},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function cr(a){if(!a._valueTracker){var l=si(a)?"checked":"value";a._valueTracker=Nn(a,l,""+a[l])}}function Ci(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),v="";return a&&(v=si(a)?a.checked?"true":"false":a.value),a=v,a!==d?(l.setValue(a),!0):!1}function Mn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var yo=/[\n"\\]/g;function dn(a){return a.replace(yo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ur(a,l,d,v,w,A,B,W){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),l!=null?B==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Ct(l)):a.value!==""+Ct(l)&&(a.value=""+Ct(l)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),l!=null?ui(a,B,Ct(l)):d!=null?ui(a,B,Ct(d)):v!=null&&a.removeAttribute("value"),w==null&&A!=null&&(a.defaultChecked=!!A),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Ct(W):a.removeAttribute("name")}function Dr(a,l,d,v,w,A,B,W){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),l!=null||d!=null){if(!(A!=="submit"&&A!=="reset"||l!=null)){cr(a);return}d=d!=null?""+Ct(d):"",l=l!=null?""+Ct(l):d,W||l===a.value||(a.value=l),a.defaultValue=l}v=v??w,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=W?a.checked:!!v,a.defaultChecked=!!v,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B),cr(a)}function ui(a,l,d){l==="number"&&Mn(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Si(a,l,d,v){if(a=a.options,l){l={};for(var w=0;w<d.length;w++)l["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=l.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&v&&(a[d].defaultSelected=!0)}else{for(d=""+Ct(d),l=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,v&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function Fl(a,l,d){if(l!=null&&(l=""+Ct(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Ct(d):""}function ma(a,l,d,v){if(l==null){if(v!=null){if(d!=null)throw Error(n(92));if(le(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),l=d}d=Ct(l),a.defaultValue=d,v=a.textContent,v===d&&v!==""&&v!==null&&(a.value=v),cr(a)}function Pc(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var M_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fg(a,l,d){var v=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":v?a.setProperty(l,d):typeof d!="number"||d===0||M_.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Vg(a,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var w in l)v=l[w],l.hasOwnProperty(w)&&d[w]!==v&&Fg(a,w,v)}else for(var A in l)l.hasOwnProperty(A)&&Fg(a,A,l[A])}function tp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mh(a){return Hg.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function rl(){}var np=null;function ip(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ic=null,Vl=null;function jg(a){var l=_e(a);if(l&&(a=l.stateNode)){var d=a[rn]||null;e:switch(a=l.stateNode,l.type){case"input":if(ur(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+dn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var v=d[l];if(v!==a&&v.form===a.form){var w=v[rn]||null;if(!w)throw Error(n(90));ur(v,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<d.length;l++)v=d[l],v.form===a.form&&Ci(v)}break e;case"textarea":Fl(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Si(a,!!d.multiple,l,!1)}}}var rp=!1;function Gg(a,l,d){if(rp)return a(l,d);rp=!0;try{var v=a(l);return v}finally{if(rp=!1,(Ic!==null||Vl!==null)&&(Qa(),Ic&&(l=Ic,a=Vl,Vl=Ic=null,jg(l),a)))for(l=0;l<a.length;l++)jg(a[l])}}function Bu(a,l){var d=a.stateNode;if(d===null)return null;var v=d[rn]||null;if(v===null)return null;d=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var _o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wg=!1;if(_o)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{Wg=!1}var Hs=null,sp=null,Oc=null;function gh(){if(Oc)return Oc;var a,l=sp,d=l.length,v,w="value"in Hs?Hs.value:Hs.textContent,A=w.length;for(a=0;a<d&&l[a]===w[a];a++);var B=d-a;for(v=1;v<=B&&l[d-v]===w[A-v];v++);return Oc=w.slice(a,1<v?1-v:void 0)}function vh(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Vu(){return!0}function E_(){return!1}function es(a){function l(d,v,w,A,B){this._reactName=d,this._targetInst=w,this.type=v,this.nativeEvent=A,this.target=B,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(d=a[W],this[W]=d?d(A):A[W]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Vu:E_,this.isPropagationStopped=E_,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),l}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=es(Hl),Hu=g({},Hl,{view:0,detail:0}),T_=es(Hu),_h,ap,ju,Gu=g({},Hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ju&&(ju&&a.type==="mousemove"?(_h=a.screenX-ju.screenX,ap=a.screenY-ju.screenY):ap=_h=0,ju=a),_h)},movementY:function(a){return"movementY"in a?a.movementY:ap}}),Xg=es(Gu),A_=g({},Gu,{dataTransfer:0}),C_=es(A_),qg=g({},Hu,{relatedTarget:0}),op=es(qg),R_=g({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),yw=es(R_),_w=g({},Hl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),N_=es(_w),xh=g({},Hl,{data:0}),lp=es(xh),cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=L_[a])?!!l[a]:!1}function up(){return Yg}var P_=g({},Hu,{key:function(a){if(a.key){var l=cp[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=vh(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?D_[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(a){return a.type==="keypress"?vh(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?vh(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Uc=es(P_),fp=g({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=es(fp),$g=g({},Hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),I_=es($g),O_=g({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),xw=es(O_),Lr=g({},Gu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),U_=es(Lr),z_=g({},Hl,{newState:0,oldState:0}),k_=es(z_),B_=[9,13,27,32],zc=_o&&"CompositionEvent"in window,Wu=null;_o&&"documentMode"in document&&(Wu=document.documentMode);var hp=_o&&"TextEvent"in window&&!Wu,Kg=_o&&(!zc||Wu&&8<Wu&&11>=Wu),F_=" ",bh=!1;function dp(a,l){switch(a){case"keyup":return B_.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qg(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var kc=!1;function V_(a,l){switch(a){case"compositionend":return Qg(l);case"keypress":return l.which!==32?null:(bh=!0,F_);case"textInput":return a=l.data,a===F_&&bh?null:a;default:return null}}function Jg(a,l){if(kc)return a==="compositionend"||!zc&&dp(a,l)?(a=gh(),Oc=sp=Hs=null,kc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Kg&&l.locale!=="ko"?null:l.data;default:return null}}var e0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!e0[a.type]:l==="textarea"}function pp(a,l,d,v){Ic?Vl?Vl.push(v):Vl=[v]:Ic=v,l=Xx(l,"onChange"),0<l.length&&(d=new yh("onChange","change",null,d,v),a.push({event:d,listeners:l}))}var jl=null,Bc=null;function H_(a){T3(a,0)}function Xu(a){var l=Me(a);if(Ci(l))return a}function n0(a,l){if(a==="change")return l}var xo=!1;if(_o){var Sh;if(_o){var i0="oninput"in document;if(!i0){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),i0=typeof r0.oninput=="function"}Sh=i0}else Sh=!1;xo=Sh&&(!document.documentMode||9<document.documentMode)}function ga(){jl&&(jl.detachEvent("onpropertychange",Mh),Bc=jl=null)}function Mh(a){if(a.propertyName==="value"&&Xu(Bc)){var l=[];pp(l,Bc,a,ip(a)),Gg(H_,l)}}function j_(a,l,d){a==="focusin"?(ga(),jl=l,Bc=d,jl.attachEvent("onpropertychange",Mh)):a==="focusout"&&ga()}function s0(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xu(Bc)}function G_(a,l){if(a==="click")return Xu(l)}function W_(a,l){if(a==="input"||a==="change")return Xu(l)}function a0(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ts=typeof Object.is=="function"?Object.is:a0;function qu(a,l){if(ts(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),v=Object.keys(l);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var w=d[v];if(!Ge.call(l,w)||!ts(a[w],l[w]))return!1}return!0}function wh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Yu(a,l){var d=wh(a);a=0;for(var v;d;){if(d.nodeType===3){if(v=a+d.textContent.length,a<=l&&v>=l)return{node:d,offset:l-a};a=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=wh(d)}}function hi(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?hi(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function X_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Mn(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Mn(a.document)}return l}function o0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var q_=_o&&"documentMode"in document&&11>=document.documentMode,bo=null,So=null,Zu=null,mp=!1;function $u(a,l,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;mp||bo==null||bo!==Mn(v)||(v=bo,"selectionStart"in v&&o0(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Zu&&qu(Zu,v)||(Zu=v,v=Xx(So,"onSelect"),0<v.length&&(l=new yh("onSelect","select",null,l,d),a.push({event:l,listeners:v}),l.target=bo)))}function Gr(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Fc={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Eh={},l0={};_o&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function sl(a){if(Eh[a])return Eh[a];if(!Fc[a])return a;var l=Fc[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in l0)return Eh[a]=l[d];return a}var gp=sl("animationend"),Th=sl("animationiteration"),c0=sl("animationstart"),Y_=sl("transitionrun"),bw=sl("transitionstart"),Z_=sl("transitioncancel"),u0=sl("transitionend"),va=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function ya(a,l){va.set(a,l),dt(l,[a])}var Ch=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},_a=[],al=0,_r=0;function Rh(){for(var a=al,l=_r=al=0;l<a;){var d=_a[l];_a[l++]=null;var v=_a[l];_a[l++]=null;var w=_a[l];_a[l++]=null;var A=_a[l];if(_a[l++]=null,v!==null&&w!==null){var B=v.pending;B===null?w.next=w:(w.next=B.next,B.next=w),v.pending=w}A!==0&&Gl(d,w,A)}}function xr(a,l,d,v){_a[al++]=a,_a[al++]=l,_a[al++]=d,_a[al++]=v,_r|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function vp(a,l,d,v){return xr(a,l,d,v),xa(a)}function ns(a,l){return xr(a,null,null,l),xa(a)}function Gl(a,l,d){a.lanes|=d;var v=a.alternate;v!==null&&(v.lanes|=d);for(var w=!1,A=a.return;A!==null;)A.childLanes|=d,v=A.alternate,v!==null&&(v.childLanes|=d),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(w=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,w&&l!==null&&(w=31-ft(d),a=A.hiddenUpdates,v=a[w],v===null?a[w]=[l]:v.push(l),l.lane=d|536870912),A):null}function xa(a){if(50<cc)throw cc=0,su=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Wl={};function f0(a,l,d,v){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(a,l,d,v){return new f0(a,l,d,v)}function yp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function gs(a,l){var d=a.alternate;return d===null?(d=Ri(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Ku(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Mo(a,l,d,v,w,A){var B=0;if(v=a,typeof a=="function")yp(a)&&(B=1);else if(typeof a=="string")B=VF(a,d,Le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=Ri(31,d,l,w),a.elementType=O,a.lanes=A,a;case T:return Xl(d.children,w,A,l);case E:B=8,w|=24;break;case M:return a=Ri(12,d,l,w|2),a.elementType=M,a.lanes=A,a;case I:return a=Ri(13,d,l,w),a.elementType=I,a.lanes=A,a;case z:return a=Ri(19,d,l,w),a.elementType=z,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:B=10;break e;case R:B=9;break e;case L:B=11;break e;case k:B=14;break e;case F:B=16,v=null;break e}B=29,d=Error(n(130,a===null?"null":typeof a,"")),v=null}return l=Ri(B,d,l,w),l.elementType=a,l.type=v,l.lanes=A,l}function Xl(a,l,d,v){return a=Ri(7,a,v,l),a.lanes=d,a}function _p(a,l,d){return a=Ri(6,a,null,l),a.lanes=d,a}function Qu(a){var l=Ri(18,null,null,0);return l.stateNode=a,l}function xp(a,l,d){return l=Ri(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Nh=new WeakMap;function js(a,l){if(typeof a=="object"&&a!==null){var d=Nh.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Qe(l)},Nh.set(a,l),l)}return{value:a,source:l,stack:Qe(l)}}var ql=[],Yl=0,Ju=null,ef=0,vs=[],Mi=0,ol=null,Ni=1,Ya="";function wo(a,l){ql[Yl++]=ef,ql[Yl++]=Ju,Ju=a,ef=l}function $_(a,l,d){vs[Mi++]=Ni,vs[Mi++]=Ya,vs[Mi++]=ol,ol=a;var v=Ni;a=Ya;var w=32-ft(v)-1;v&=~(1<<w),d+=1;var A=32-ft(l)+w;if(30<A){var B=w-w%5;A=(v&(1<<B)-1).toString(32),v>>=B,w-=B,Ni=1<<32-ft(l)+w|d<<w|v,Ya=A+a}else Ni=1<<A|d<<w|v,Ya=a}function Eo(a){a.return!==null&&(wo(a,1),$_(a,1,0))}function bp(a){for(;a===Ju;)Ju=ql[--Yl],ql[Yl]=null,ef=ql[--Yl],ql[Yl]=null;for(;a===ol;)ol=vs[--Mi],vs[Mi]=null,Ya=vs[--Mi],vs[Mi]=null,Ni=vs[--Mi],vs[Mi]=null}function Sp(a,l){vs[Mi++]=Ni,vs[Mi++]=Ya,vs[Mi++]=ol,Ni=l.id,Ya=l.overflow,ol=a}var Ui=null,di=null,Dn=!1,ll=null,Gs=!1,tf=Error(n(519));function To(a){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ao(js(l,a)),tf}function K_(a){var l=a.stateNode,d=a.type,v=a.memoizedProps;switch(l[Jt]=a,l[rn]=v,d){case"dialog":Un("cancel",l),Un("close",l);break;case"iframe":case"object":case"embed":Un("load",l);break;case"video":case"audio":for(d=0;d<Pa.length;d++)Un(Pa[d],l);break;case"source":Un("error",l);break;case"img":case"image":case"link":Un("error",l),Un("load",l);break;case"details":Un("toggle",l);break;case"input":Un("invalid",l),Dr(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Un("invalid",l);break;case"textarea":Un("invalid",l),ma(l,v.value,v.defaultValue,v.children)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||v.suppressHydrationWarning===!0||N3(l.textContent,d)?(v.popover!=null&&(Un("beforetoggle",l),Un("toggle",l)),v.onScroll!=null&&Un("scroll",l),v.onScrollEnd!=null&&Un("scrollend",l),v.onClick!=null&&(l.onclick=rl),l=!0):l=!1,l||To(a,!0)}function Q_(a){for(Ui=a.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:Gs=!1;return;case 27:case 3:Gs=!0;return;default:Ui=Ui.return}}function nf(a){if(a!==Ui)return!1;if(!Dn)return Q_(a),Dn=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||zw(a.type,a.memoizedProps)),d=!d),d&&di&&To(a),Q_(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));di=B3(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));di=B3(a)}else l===27?(l=di,Mf(a.type)?(a=Hw,Hw=null,di=a):di=l):di=Ui?Vo(a.stateNode.nextSibling):null;return!0}function Zl(){di=Ui=null,Dn=!1}function Mp(){var a=ll;return a!==null&&(ki===null?ki=a:ki.push.apply(ki,a),ll=null),a}function Ao(a){ll===null?ll=[a]:ll.push(a)}var rf=Y(null),$l=null,Co=null;function cl(a,l,d){De(rf,l._currentValue),l._currentValue=d}function Ro(a){a._currentValue=rf.current,he(rf)}function wp(a,l,d){for(;a!==null;){var v=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),a===d)break;a=a.return}}function Ep(a,l,d,v){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var A=w.dependencies;if(A!==null){var B=w.child;A=A.firstContext;e:for(;A!==null;){var W=A;A=w;for(var se=0;se<l.length;se++)if(W.context===l[se]){A.lanes|=d,W=A.alternate,W!==null&&(W.lanes|=d),wp(A.return,d,a),v||(B=null);break e}A=W.next}}else if(w.tag===18){if(B=w.return,B===null)throw Error(n(341));B.lanes|=d,A=B.alternate,A!==null&&(A.lanes|=d),wp(B,d,a),B=null}else B=w.child;if(B!==null)B.return=w;else for(B=w;B!==null;){if(B===a){B=null;break}if(w=B.sibling,w!==null){w.return=B.return,B=w;break}B=B.return}w=B}}function No(a,l,d,v){a=null;for(var w=l,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var B=w.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var W=w.type;ts(w.pendingProps.value,B.value)||(a!==null?a.push(W):a=[W])}}else if(w===be.current){if(B=w.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(lv):a=[lv])}w=w.return}a!==null&&Ep(l,a,d,v),l.flags|=262144}function Dh(a){for(a=a.firstContext;a!==null;){if(!ts(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Kl(a){$l=a,Co=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Zt(a){return J_($l,a)}function sf(a,l){return $l===null&&Kl(a),J_(a,l)}function J_(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Co===null){if(a===null)throw Error(n(308));Co=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Co=Co.next=l;return d}var ex=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,v){a.push(v)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},Sw=i.unstable_scheduleCallback,Mw=i.unstable_NormalPriority,tr={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h0(){return{controller:new ex,data:new Map,refCount:0}}function Vc(a){a.refCount--,a.refCount===0&&Sw(Mw,function(){a.controller.abort()})}var Ws=null,Tp=0,ul=0,ba=null;function d0(a,l){if(Ws===null){var d=Ws=[];Tp=0,ul=Ae(),ba={status:"pending",value:void 0,then:function(v){d.push(v)}}}return Tp++,l.then(p0,p0),l}function p0(){if(--Tp===0&&Ws!==null){ba!==null&&(ba.status="fulfilled");var a=Ws;Ws=null,ul=0,ba=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function m0(a,l){var d=[],v={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return a.then(function(){v.status="fulfilled",v.value=l;for(var w=0;w<d.length;w++)(0,d[w])(l)},function(w){for(v.status="rejected",v.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),v}var tx=q.S;q.S=function(a,l){nv=V(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&d0(a,l),tx!==null&&tx(a,l)};var Ql=Y(null);function Ap(){var a=Ql.current;return a!==null?a:en.pooledCache}function Lh(a,l){l===null?De(Ql,Ql.current):De(Ql,l.pool)}function g0(){var a=Ap();return a===null?null:{parent:tr._currentValue,pool:a}}var Hc=Error(n(460)),Ph=Error(n(474)),pn=Error(n(542)),Cp={then:function(){}};function ys(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Rp(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(rl,rl),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Wc(a),a;default:if(typeof l.status=="string")l.then(rl,rl);else{if(a=en,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(v){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=v}},function(v){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Wc(a),a}throw Do=l,Hc}}function jc(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Do=d,Hc):d}}var Do=null;function Gc(){if(Do===null)throw Error(n(459));var a=Do;return Do=null,a}function Wc(a){if(a===Hc||a===pn)throw Error(n(483))}var Xc=null,qc=0;function Ih(a){var l=qc;return qc+=1,Xc===null&&(Xc=[]),Rp(Xc,a,l)}function Sa(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function af(a,l){throw l.$$typeof===_?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Np(a){function l(ge,ce){if(a){var ye=ge.deletions;ye===null?(ge.deletions=[ce],ge.flags|=16):ye.push(ce)}}function d(ge,ce){if(!a)return null;for(;ce!==null;)l(ge,ce),ce=ce.sibling;return null}function v(ge){for(var ce=new Map;ge!==null;)ge.key!==null?ce.set(ge.key,ge):ce.set(ge.index,ge),ge=ge.sibling;return ce}function w(ge,ce){return ge=gs(ge,ce),ge.index=0,ge.sibling=null,ge}function A(ge,ce,ye){return ge.index=ye,a?(ye=ge.alternate,ye!==null?(ye=ye.index,ye<ce?(ge.flags|=67108866,ce):ye):(ge.flags|=67108866,ce)):(ge.flags|=1048576,ce)}function B(ge){return a&&ge.alternate===null&&(ge.flags|=67108866),ge}function W(ge,ce,ye,Be){return ce===null||ce.tag!==6?(ce=_p(ye,ge.mode,Be),ce.return=ge,ce):(ce=w(ce,ye),ce.return=ge,ce)}function se(ge,ce,ye,Be){var jt=ye.type;return jt===T?ke(ge,ce,ye.props.children,Be,ye.key):ce!==null&&(ce.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===F&&jc(jt)===ce.type)?(ce=w(ce,ye.props),Sa(ce,ye),ce.return=ge,ce):(ce=Mo(ye.type,ye.key,ye.props,null,ge.mode,Be),Sa(ce,ye),ce.return=ge,ce)}function xe(ge,ce,ye,Be){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ye.containerInfo||ce.stateNode.implementation!==ye.implementation?(ce=xp(ye,ge.mode,Be),ce.return=ge,ce):(ce=w(ce,ye.children||[]),ce.return=ge,ce)}function ke(ge,ce,ye,Be,jt){return ce===null||ce.tag!==7?(ce=Xl(ye,ge.mode,Be,jt),ce.return=ge,ce):(ce=w(ce,ye),ce.return=ge,ce)}function Ve(ge,ce,ye){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=_p(""+ce,ge.mode,ye),ce.return=ge,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return ye=Mo(ce.type,ce.key,ce.props,null,ge.mode,ye),Sa(ye,ce),ye.return=ge,ye;case b:return ce=xp(ce,ge.mode,ye),ce.return=ge,ce;case F:return ce=jc(ce),Ve(ge,ce,ye)}if(le(ce)||K(ce))return ce=Xl(ce,ge.mode,ye,null),ce.return=ge,ce;if(typeof ce.then=="function")return Ve(ge,Ih(ce),ye);if(ce.$$typeof===D)return Ve(ge,sf(ge,ce),ye);af(ge,ce)}return null}function we(ge,ce,ye,Be){var jt=ce!==null?ce.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return jt!==null?null:W(ge,ce,""+ye,Be);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ye.key===jt?se(ge,ce,ye,Be):null;case b:return ye.key===jt?xe(ge,ce,ye,Be):null;case F:return ye=jc(ye),we(ge,ce,ye,Be)}if(le(ye)||K(ye))return jt!==null?null:ke(ge,ce,ye,Be,null);if(typeof ye.then=="function")return we(ge,ce,Ih(ye),Be);if(ye.$$typeof===D)return we(ge,ce,sf(ge,ye),Be);af(ge,ye)}return null}function Re(ge,ce,ye,Be,jt){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return ge=ge.get(ye)||null,W(ce,ge,""+Be,jt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case x:return ge=ge.get(Be.key===null?ye:Be.key)||null,se(ce,ge,Be,jt);case b:return ge=ge.get(Be.key===null?ye:Be.key)||null,xe(ce,ge,Be,jt);case F:return Be=jc(Be),Re(ge,ce,ye,Be,jt)}if(le(Be)||K(Be))return ge=ge.get(ye)||null,ke(ce,ge,Be,jt,null);if(typeof Be.then=="function")return Re(ge,ce,ye,Ih(Be),jt);if(Be.$$typeof===D)return Re(ge,ce,ye,sf(ce,Be),jt);af(ce,Be)}return null}function Nt(ge,ce,ye,Be){for(var jt=null,$n=null,Ot=ce,_n=ce=0,Bn=null;Ot!==null&&_n<ye.length;_n++){Ot.index>_n?(Bn=Ot,Ot=null):Bn=Ot.sibling;var Kn=we(ge,Ot,ye[_n],Be);if(Kn===null){Ot===null&&(Ot=Bn);break}a&&Ot&&Kn.alternate===null&&l(ge,Ot),ce=A(Kn,ce,_n),$n===null?jt=Kn:$n.sibling=Kn,$n=Kn,Ot=Bn}if(_n===ye.length)return d(ge,Ot),Dn&&wo(ge,_n),jt;if(Ot===null){for(;_n<ye.length;_n++)Ot=Ve(ge,ye[_n],Be),Ot!==null&&(ce=A(Ot,ce,_n),$n===null?jt=Ot:$n.sibling=Ot,$n=Ot);return Dn&&wo(ge,_n),jt}for(Ot=v(Ot);_n<ye.length;_n++)Bn=Re(Ot,ge,_n,ye[_n],Be),Bn!==null&&(a&&Bn.alternate!==null&&Ot.delete(Bn.key===null?_n:Bn.key),ce=A(Bn,ce,_n),$n===null?jt=Bn:$n.sibling=Bn,$n=Bn);return a&&Ot.forEach(function(Cf){return l(ge,Cf)}),Dn&&wo(ge,_n),jt}function Yt(ge,ce,ye,Be){if(ye==null)throw Error(n(151));for(var jt=null,$n=null,Ot=ce,_n=ce=0,Bn=null,Kn=ye.next();Ot!==null&&!Kn.done;_n++,Kn=ye.next()){Ot.index>_n?(Bn=Ot,Ot=null):Bn=Ot.sibling;var Cf=we(ge,Ot,Kn.value,Be);if(Cf===null){Ot===null&&(Ot=Bn);break}a&&Ot&&Cf.alternate===null&&l(ge,Ot),ce=A(Cf,ce,_n),$n===null?jt=Cf:$n.sibling=Cf,$n=Cf,Ot=Bn}if(Kn.done)return d(ge,Ot),Dn&&wo(ge,_n),jt;if(Ot===null){for(;!Kn.done;_n++,Kn=ye.next())Kn=Ve(ge,Kn.value,Be),Kn!==null&&(ce=A(Kn,ce,_n),$n===null?jt=Kn:$n.sibling=Kn,$n=Kn);return Dn&&wo(ge,_n),jt}for(Ot=v(Ot);!Kn.done;_n++,Kn=ye.next())Kn=Re(Ot,ge,_n,Kn.value,Be),Kn!==null&&(a&&Kn.alternate!==null&&Ot.delete(Kn.key===null?_n:Kn.key),ce=A(Kn,ce,_n),$n===null?jt=Kn:$n.sibling=Kn,$n=Kn);return a&&Ot.forEach(function(QF){return l(ge,QF)}),Dn&&wo(ge,_n),jt}function gi(ge,ce,ye,Be){if(typeof ye=="object"&&ye!==null&&ye.type===T&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:e:{for(var jt=ye.key;ce!==null;){if(ce.key===jt){if(jt=ye.type,jt===T){if(ce.tag===7){d(ge,ce.sibling),Be=w(ce,ye.props.children),Be.return=ge,ge=Be;break e}}else if(ce.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===F&&jc(jt)===ce.type){d(ge,ce.sibling),Be=w(ce,ye.props),Sa(Be,ye),Be.return=ge,ge=Be;break e}d(ge,ce);break}else l(ge,ce);ce=ce.sibling}ye.type===T?(Be=Xl(ye.props.children,ge.mode,Be,ye.key),Be.return=ge,ge=Be):(Be=Mo(ye.type,ye.key,ye.props,null,ge.mode,Be),Sa(Be,ye),Be.return=ge,ge=Be)}return B(ge);case b:e:{for(jt=ye.key;ce!==null;){if(ce.key===jt)if(ce.tag===4&&ce.stateNode.containerInfo===ye.containerInfo&&ce.stateNode.implementation===ye.implementation){d(ge,ce.sibling),Be=w(ce,ye.children||[]),Be.return=ge,ge=Be;break e}else{d(ge,ce);break}else l(ge,ce);ce=ce.sibling}Be=xp(ye,ge.mode,Be),Be.return=ge,ge=Be}return B(ge);case F:return ye=jc(ye),gi(ge,ce,ye,Be)}if(le(ye))return Nt(ge,ce,ye,Be);if(K(ye)){if(jt=K(ye),typeof jt!="function")throw Error(n(150));return ye=jt.call(ye),Yt(ge,ce,ye,Be)}if(typeof ye.then=="function")return gi(ge,ce,Ih(ye),Be);if(ye.$$typeof===D)return gi(ge,ce,sf(ge,ye),Be);af(ge,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,ce!==null&&ce.tag===6?(d(ge,ce.sibling),Be=w(ce,ye),Be.return=ge,ge=Be):(d(ge,ce),Be=_p(ye,ge.mode,Be),Be.return=ge,ge=Be),B(ge)):d(ge,ce)}return function(ge,ce,ye,Be){try{qc=0;var jt=gi(ge,ce,ye,Be);return Xc=null,jt}catch(Ot){if(Ot===Hc||Ot===pn)throw Ot;var $n=Ri(29,Ot,null,ge.mode);return $n.lanes=Be,$n.return=ge,$n}}}var fl=Np(!0),Dp=Np(!1),is=!1;function Oh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function v0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function hl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Jl(a,l,d){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(zt&2)!==0){var w=v.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),v.pending=l,l=xa(a),Gl(a,null,d),l}return xr(a,v,l,d),xa(a)}function ec(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var v=l.lanes;v&=a.pendingLanes,d|=v,l.lanes=d,Bt(a,d)}}function Ht(a,l){var d=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var w=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var B={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};A===null?w=A=B:A=A.next=B,d=d.next}while(d!==null);A===null?w=A=l:A=A.next=l}else w=A=l;d={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:v.shared,callbacks:v.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var y0=!1;function Uh(){if(y0){var a=ba;if(a!==null)throw a}}function of(a,l,d,v){y0=!1;var w=a.updateQueue;is=!1;var A=w.firstBaseUpdate,B=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var se=W,xe=se.next;se.next=null,B===null?A=xe:B.next=xe,B=se;var ke=a.alternate;ke!==null&&(ke=ke.updateQueue,W=ke.lastBaseUpdate,W!==B&&(W===null?ke.firstBaseUpdate=xe:W.next=xe,ke.lastBaseUpdate=se))}if(A!==null){var Ve=w.baseState;B=0,ke=xe=se=null,W=A;do{var we=W.lane&-536870913,Re=we!==W.lane;if(Re?(fn&we)===we:(v&we)===we){we!==0&&we===ul&&(y0=!0),ke!==null&&(ke=ke.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Nt=a,Yt=W;we=l;var gi=d;switch(Yt.tag){case 1:if(Nt=Yt.payload,typeof Nt=="function"){Ve=Nt.call(gi,Ve,we);break e}Ve=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Yt.payload,we=typeof Nt=="function"?Nt.call(gi,Ve,we):Nt,we==null)break e;Ve=g({},Ve,we);break e;case 2:is=!0}}we=W.callback,we!==null&&(a.flags|=64,Re&&(a.flags|=8192),Re=w.callbacks,Re===null?w.callbacks=[we]:Re.push(we))}else Re={lane:we,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ke===null?(xe=ke=Re,se=Ve):ke=ke.next=Re,B|=we;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;Re=W,W=Re.next,Re.next=null,w.lastBaseUpdate=Re,w.shared.pending=null}}while(!0);ke===null&&(se=Ve),w.baseState=se,w.firstBaseUpdate=xe,w.lastBaseUpdate=ke,A===null&&(w.shared.lanes=0),ko|=B,a.lanes=B,a.memoizedState=Ve}}function lf(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function nx(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)lf(d[a],l)}var cf=Y(null),Lp=Y(0);function ix(a,l){a=Zs,De(Lp,a),De(cf,l),Zs=a|l.baseLanes}function _0(){De(Lp,Zs),De(cf,cf.current)}function zh(){Zs=Lp.current,he(cf),he(Lp)}var _s=Y(null),rs=null;function dl(a){var l=a.alternate;De(Ln,Ln.current&1),De(_s,a),rs===null&&(l===null||cf.current!==null||l.memoizedState!==null)&&(rs=a)}function x0(a){De(Ln,Ln.current),De(_s,a),rs===null&&(rs=a)}function rx(a){a.tag===22?(De(Ln,Ln.current),De(_s,a),rs===null&&(rs=a)):xs()}function xs(){De(Ln,Ln.current),De(_s,_s.current)}function Hi(a){he(_s),rs===a&&(rs=null),he(Ln)}var Ln=Y(0);function Xs(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Fw(d)||Vw(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var wi=0,an=null,ai=null,Tn=null,Ma=!1,uf=!1,Yc=!1,Pp=0,kh=0,ff=null,b0=0;function Di(){throw Error(n(321))}function S0(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!ts(a[d],l[d]))return!1;return!0}function Ip(a,l,d,v,w,A){return wi=A,an=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=a===null||a.memoizedState===null?Ux:H0,Yc=!1,A=d(v,w),Yc=!1,uf&&(A=Zc(l,d,v,w)),sx(a),A}function sx(a){q.H=hf;var l=ai!==null&&ai.next!==null;if(wi=0,Tn=ai=an=null,Ma=!1,kh=0,ff=null,l)throw Error(n(300));a===null||nr||(a=a.dependencies,a!==null&&Dh(a)&&(nr=!0))}function Zc(a,l,d,v){an=a;var w=0;do{if(uf&&(ff=null),kh=0,uf=!1,25<=w)throw Error(n(301));if(w+=1,Tn=ai=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}q.H=wa,A=l(d,v)}while(uf);return A}function $c(){var a=q.H,l=a.useState()[0];return l=typeof l.then=="function"?Bh(l):l,a=a.useState()[0],(ai!==null?ai.memoizedState:null)!==a&&(an.flags|=1024),l}function M0(){var a=Pp!==0;return Pp=0,a}function w0(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function E0(a){if(Ma){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Ma=!1}wi=0,Tn=ai=an=null,uf=!1,kh=Pp=0,ff=null}function fr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?an.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function ji(){if(ai===null){var a=an.alternate;a=a!==null?a.memoizedState:null}else a=ai.next;var l=Tn===null?an.memoizedState:Tn.next;if(l!==null)Tn=l,ai=a;else{if(a===null)throw an.alternate===null?Error(n(467)):Error(n(310));ai=a,a={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},Tn===null?an.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function Op(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bh(a){var l=kh;return kh+=1,ff===null&&(ff=[]),a=Rp(ff,a,l),l=an,(Tn===null?l.memoizedState:Tn.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?Ux:H0),a}function tc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Bh(a);if(a.$$typeof===D)return Zt(a)}throw Error(n(438,String(a)))}function T0(a){var l=null,d=an.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var v=an.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Op(),an.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),v=0;v<a;v++)d[v]=U;return l.index++,d}function pl(a,l){return typeof l=="function"?l(a):l}function Up(a){var l=ji();return A0(l,ai,a)}function A0(a,l,d){var v=a.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var w=a.baseQueue,A=v.pending;if(A!==null){if(w!==null){var B=w.next;w.next=A.next,A.next=B}l.baseQueue=w=A,v.pending=null}if(A=a.baseState,w===null)a.memoizedState=A;else{l=w.next;var W=B=null,se=null,xe=l,ke=!1;do{var Ve=xe.lane&-536870913;if(Ve!==xe.lane?(fn&Ve)===Ve:(wi&Ve)===Ve){var we=xe.revertLane;if(we===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Ve===ul&&(ke=!0);else if((wi&we)===we){xe=xe.next,we===ul&&(ke=!0);continue}else Ve={lane:0,revertLane:xe.revertLane,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},se===null?(W=se=Ve,B=A):se=se.next=Ve,an.lanes|=we,ko|=we;Ve=xe.action,Yc&&d(A,Ve),A=xe.hasEagerState?xe.eagerState:d(A,Ve)}else we={lane:Ve,revertLane:xe.revertLane,gesture:xe.gesture,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},se===null?(W=se=we,B=A):se=se.next=we,an.lanes|=Ve,ko|=Ve;xe=xe.next}while(xe!==null&&xe!==l);if(se===null?B=A:se.next=W,!ts(A,a.memoizedState)&&(nr=!0,ke&&(d=ba,d!==null)))throw d;a.memoizedState=A,a.baseState=B,a.baseQueue=se,v.lastRenderedState=A}return w===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function C0(a){var l=ji(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var v=d.dispatch,w=d.pending,A=l.memoizedState;if(w!==null){d.pending=null;var B=w=w.next;do A=a(A,B.action),B=B.next;while(B!==w);ts(A,l.memoizedState)||(nr=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),d.lastRenderedState=A}return[A,v]}function ax(a,l,d){var v=an,w=ji(),A=Dn;if(A){if(d===void 0)throw Error(n(407));d=d()}else d=l();var B=!ts((ai||w).memoizedState,d);if(B&&(w.memoizedState=d,nr=!0),w=w.queue,U0(cx.bind(null,v,w,a),[a]),w.getSnapshot!==l||B||Tn!==null&&Tn.memoizedState.tag&1){if(v.flags|=2048,nc(9,{destroy:void 0},lx.bind(null,v,w,d,l),null),en===null)throw Error(n(349));A||(wi&127)!==0||ox(v,l,d)}return d}function ox(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=an.updateQueue,l===null?(l=Op(),an.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function lx(a,l,d,v){l.value=d,l.getSnapshot=v,ux(l)&&fx(a)}function cx(a,l,d){return d(function(){ux(l)&&fx(a)})}function ux(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!ts(a,d)}catch{return!0}}function fx(a){var l=ns(a,2);l!==null&&gn(l,a,2)}function R0(a){var l=fr();if(typeof a=="function"){var d=a;if(a=d(),Yc){Et(!0);try{d()}finally{Et(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:a},l}function N0(a,l,d,v){return a.baseState=d,A0(a,ai,typeof v=="function"?v:pl)}function ww(a,l,d,v,w){if(Fp(a))throw Error(n(485));if(a=l.action,a!==null){var A={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){A.listeners.push(B)}};q.T!==null?d(!0):A.isTransition=!1,v(A),d=l.pending,d===null?(A.next=l.pending=A,hx(l,A)):(A.next=d.next,l.pending=d.next=A)}}function hx(a,l){var d=l.action,v=l.payload,w=a.state;if(l.isTransition){var A=q.T,B={};q.T=B;try{var W=d(w,v),se=q.S;se!==null&&se(B,W),dx(a,l,W)}catch(xe){D0(a,l,xe)}finally{A!==null&&B.types!==null&&(A.types=B.types),q.T=A}}else try{A=d(w,v),dx(a,l,A)}catch(xe){D0(a,l,xe)}}function dx(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){px(a,l,v)},function(v){return D0(a,l,v)}):px(a,l,d)}function px(a,l,d){l.status="fulfilled",l.value=d,mx(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,hx(a,d)))}function D0(a,l,d){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=d,mx(l),l=l.next;while(l!==v)}a.action=null}function mx(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function L0(a,l){return l}function P0(a,l){if(Dn){var d=en.formState;if(d!==null){e:{var v=an;if(Dn){if(di){t:{for(var w=di,A=Gs;w.nodeType!==8;){if(!A){w=null;break t}if(w=Vo(w.nextSibling),w===null){w=null;break t}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){di=Vo(w.nextSibling),v=w.data==="F!";break e}}To(v)}v=!1}v&&(l=d[0])}}return d=fr(),d.memoizedState=d.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L0,lastRenderedState:l},d.queue=v,d=Px.bind(null,an,v),v.dispatch=d,v=R0(!1),A=V0.bind(null,an,!1,v.queue),v=fr(),w={state:l,dispatch:null,action:a,pending:null},v.queue=w,d=ww.bind(null,an,w,A,d),w.dispatch=d,v.memoizedState=a,[l,d,!1]}function gx(a){var l=ji();return I0(l,ai,a)}function I0(a,l,d){if(l=A0(a,l,L0)[0],a=Up(pl)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=Bh(l)}catch(B){throw B===Hc?pn:B}else v=l;l=ji();var w=l.queue,A=w.dispatch;return d!==l.memoizedState&&(an.flags|=2048,nc(9,{destroy:void 0},vx.bind(null,w,d),null)),[v,A,a]}function vx(a,l){a.action=l}function O0(a){var l=ji(),d=ai;if(d!==null)return I0(l,d,a);ji(),l=l.memoizedState,d=ji();var v=d.queue.dispatch;return d.memoizedState=a,[l,v,!1]}function nc(a,l,d,v){return a={tag:a,create:d,deps:v,inst:l,next:null},l=an.updateQueue,l===null&&(l=Op(),an.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(v=d.next,d.next=a,a.next=v,l.lastEffect=a),a}function zp(){return ji().memoizedState}function kp(a,l,d,v){var w=fr();an.flags|=a,w.memoizedState=nc(1|l,{destroy:void 0},d,v===void 0?null:v)}function Bp(a,l,d,v){var w=ji();v=v===void 0?null:v;var A=w.memoizedState.inst;ai!==null&&v!==null&&S0(v,ai.memoizedState.deps)?w.memoizedState=nc(l,A,d,v):(an.flags|=a,w.memoizedState=nc(1|l,A,d,v))}function yx(a,l){kp(8390656,8,a,l)}function U0(a,l){Bp(2048,8,a,l)}function _x(a){an.flags|=4;var l=an.updateQueue;if(l===null)l=Op(),an.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function xx(a){var l=ji().memoizedState;return _x({ref:l,nextImpl:a}),function(){if((zt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function bx(a,l){return Bp(4,2,a,l)}function Sx(a,l){return Bp(4,4,a,l)}function Mx(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function wx(a,l,d){d=d!=null?d.concat([a]):null,Bp(4,4,Mx.bind(null,l,a),d)}function z0(){}function Ex(a,l){var d=ji();l=l===void 0?null:l;var v=d.memoizedState;return l!==null&&S0(l,v[1])?v[0]:(d.memoizedState=[a,l],a)}function Tx(a,l){var d=ji();l=l===void 0?null:l;var v=d.memoizedState;if(l!==null&&S0(l,v[1]))return v[0];if(v=a(),Yc){Et(!0);try{a()}finally{Et(!1)}}return d.memoizedState=[v,l],v}function k0(a,l,d){return d===void 0||(wi&1073741824)!==0&&(fn&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=wn(),an.lanes|=a,ko|=a,d)}function Ax(a,l,d,v){return ts(d,l)?d:cf.current!==null?(a=k0(a,d,v),ts(a,l)||(nr=!0),a):(wi&42)===0||(wi&1073741824)!==0&&(fn&261930)===0?(nr=!0,a.memoizedState=d):(a=wn(),an.lanes|=a,ko|=a,l)}function Cx(a,l,d,v,w){var A=J.p;J.p=A!==0&&8>A?A:8;var B=q.T,W={};q.T=W,V0(a,!1,l,d);try{var se=w(),xe=q.S;if(xe!==null&&xe(W,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var ke=m0(se,v);Fh(a,l,ke,Ks(a))}else Fh(a,l,v,Ks(a))}catch(Ve){Fh(a,l,{then:function(){},status:"rejected",reason:Ve},Ks())}finally{J.p=A,B!==null&&W.types!==null&&(B.types=W.types),q.T=B}}function Ew(){}function B0(a,l,d,v){if(a.tag!==5)throw Error(n(476));var w=Rx(a).queue;Cx(a,w,l,ie,d===null?Ew:function(){return Nx(a),d(v)})}function Rx(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:ie},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Nx(a){var l=Rx(a);l.next===null&&(l=a.alternate.memoizedState),Fh(a,l.next.queue,{},Ks())}function F0(){return Zt(lv)}function Dx(){return ji().memoizedState}function Lx(){return ji().memoizedState}function Tw(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Ks();a=hl(d);var v=Jl(l,a,d);v!==null&&(gn(v,l,d),ec(v,l,d)),l={cache:h0()},a.payload=l;return}l=l.return}}function Aw(a,l,d){var v=Ks();d={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Fp(a)?Ix(l,d):(d=vp(a,l,d,v),d!==null&&(gn(d,a,v),Ox(d,l,v)))}function Px(a,l,d){var v=Ks();Fh(a,l,d,v)}function Fh(a,l,d,v){var w={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Fp(a))Ix(l,w);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var B=l.lastRenderedState,W=A(B,d);if(w.hasEagerState=!0,w.eagerState=W,ts(W,B))return xr(a,l,w,0),en===null&&Rh(),!1}catch{}if(d=vp(a,l,w,v),d!==null)return gn(d,a,v),Ox(d,l,v),!0}return!1}function V0(a,l,d,v){if(v={lane:2,revertLane:Ae(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Fp(a)){if(l)throw Error(n(479))}else l=vp(a,d,v,2),l!==null&&gn(l,a,2)}function Fp(a){var l=a.alternate;return a===an||l!==null&&l===an}function Ix(a,l){uf=Ma=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Ox(a,l,d){if((d&4194048)!==0){var v=l.lanes;v&=a.pendingLanes,d|=v,l.lanes=d,Bt(a,d)}}var hf={readContext:Zt,use:tc,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useLayoutEffect:Di,useInsertionEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useSyncExternalStore:Di,useId:Di,useHostTransitionStatus:Di,useFormState:Di,useActionState:Di,useOptimistic:Di,useMemoCache:Di,useCacheRefresh:Di};hf.useEffectEvent=Di;var Ux={readContext:Zt,use:tc,useCallback:function(a,l){return fr().memoizedState=[a,l===void 0?null:l],a},useContext:Zt,useEffect:yx,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,kp(4194308,4,Mx.bind(null,l,a),d)},useLayoutEffect:function(a,l){return kp(4194308,4,a,l)},useInsertionEffect:function(a,l){kp(4,2,a,l)},useMemo:function(a,l){var d=fr();l=l===void 0?null:l;var v=a();if(Yc){Et(!0);try{a()}finally{Et(!1)}}return d.memoizedState=[v,l],v},useReducer:function(a,l,d){var v=fr();if(d!==void 0){var w=d(l);if(Yc){Et(!0);try{d(l)}finally{Et(!1)}}}else w=l;return v.memoizedState=v.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},v.queue=a,a=a.dispatch=Aw.bind(null,an,a),[v.memoizedState,a]},useRef:function(a){var l=fr();return a={current:a},l.memoizedState=a},useState:function(a){a=R0(a);var l=a.queue,d=Px.bind(null,an,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:z0,useDeferredValue:function(a,l){var d=fr();return k0(d,a,l)},useTransition:function(){var a=R0(!1);return a=Cx.bind(null,an,a.queue,!0,!1),fr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var v=an,w=fr();if(Dn){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),en===null)throw Error(n(349));(fn&127)!==0||ox(v,l,d)}w.memoizedState=d;var A={value:d,getSnapshot:l};return w.queue=A,yx(cx.bind(null,v,A,a),[a]),v.flags|=2048,nc(9,{destroy:void 0},lx.bind(null,v,A,d,l),null),d},useId:function(){var a=fr(),l=en.identifierPrefix;if(Dn){var d=Ya,v=Ni;d=(v&~(1<<32-ft(v)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Pp++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=b0++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:F0,useFormState:P0,useActionState:P0,useOptimistic:function(a){var l=fr();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=V0.bind(null,an,!0,d),d.dispatch=l,[a,l]},useMemoCache:T0,useCacheRefresh:function(){return fr().memoizedState=Tw.bind(null,an)},useEffectEvent:function(a){var l=fr(),d={impl:a};return l.memoizedState=d,function(){if((zt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},H0={readContext:Zt,use:tc,useCallback:Ex,useContext:Zt,useEffect:U0,useImperativeHandle:wx,useInsertionEffect:bx,useLayoutEffect:Sx,useMemo:Tx,useReducer:Up,useRef:zp,useState:function(){return Up(pl)},useDebugValue:z0,useDeferredValue:function(a,l){var d=ji();return Ax(d,ai.memoizedState,a,l)},useTransition:function(){var a=Up(pl)[0],l=ji().memoizedState;return[typeof a=="boolean"?a:Bh(a),l]},useSyncExternalStore:ax,useId:Dx,useHostTransitionStatus:F0,useFormState:gx,useActionState:gx,useOptimistic:function(a,l){var d=ji();return N0(d,ai,a,l)},useMemoCache:T0,useCacheRefresh:Lx};H0.useEffectEvent=xx;var wa={readContext:Zt,use:tc,useCallback:Ex,useContext:Zt,useEffect:U0,useImperativeHandle:wx,useInsertionEffect:bx,useLayoutEffect:Sx,useMemo:Tx,useReducer:C0,useRef:zp,useState:function(){return C0(pl)},useDebugValue:z0,useDeferredValue:function(a,l){var d=ji();return ai===null?k0(d,a,l):Ax(d,ai.memoizedState,a,l)},useTransition:function(){var a=C0(pl)[0],l=ji().memoizedState;return[typeof a=="boolean"?a:Bh(a),l]},useSyncExternalStore:ax,useId:Dx,useHostTransitionStatus:F0,useFormState:O0,useActionState:O0,useOptimistic:function(a,l){var d=ji();return ai!==null?N0(d,ai,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:T0,useCacheRefresh:Lx};wa.useEffectEvent=xx;function Vp(a,l,d,v){l=a.memoizedState,d=d(v,l),d=d==null?l:g({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Vh={enqueueSetState:function(a,l,d){a=a._reactInternals;var v=Ks(),w=hl(v);w.payload=l,d!=null&&(w.callback=d),l=Jl(a,w,v),l!==null&&(gn(l,a,v),ec(l,a,v))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var v=Ks(),w=hl(v);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=Jl(a,w,v),l!==null&&(gn(l,a,v),ec(l,a,v))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Ks(),v=hl(d);v.tag=2,l!=null&&(v.callback=l),l=Jl(a,v,d),l!==null&&(gn(l,a,d),ec(l,a,d))}};function j0(a,l,d,v,w,A,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,A,B):l.prototype&&l.prototype.isPureReactComponent?!qu(d,v)||!qu(w,A):!0}function G0(a,l,d,v){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,v),l.state!==a&&Vh.enqueueReplaceState(l,l.state,null)}function ic(a,l){var d=l;if("ref"in l){d={};for(var v in l)v!=="ref"&&(d[v]=l[v])}if(a=a.defaultProps){d===l&&(d=g({},d));for(var w in a)d[w]===void 0&&(d[w]=a[w])}return d}function zx(a){Ch(a)}function W0(a){console.error(a)}function X0(a){Ch(a)}function Hp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function kx(a,l,d){try{var v=a.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function q0(a,l,d){return d=hl(d),d.tag=3,d.payload={element:null},d.callback=function(){Hp(a,l)},d}function Y0(a){return a=hl(a),a.tag=3,a}function Bx(a,l,d,v){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var A=v.value;a.payload=function(){return w(A)},a.callback=function(){kx(l,d,v)}}var B=d.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){kx(l,d,v),typeof w!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var W=v.stack;this.componentDidCatch(v.value,{componentStack:W!==null?W:""})})}function hr(a,l,d,v,w){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=d.alternate,l!==null&&No(l,d,w,!0),d=_s.current,d!==null){switch(d.tag){case 31:case 13:return rs===null?_f():d.alternate===null&&Li===0&&(Li=3),d.flags&=-257,d.flags|=65536,d.lanes=w,v===Cp?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([v]):l.add(v),Jh(a,v,w)),!1;case 22:return d.flags|=65536,v===Cp?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([v]):d.add(v)),Jh(a,v,w)),!1}throw Error(n(435,d.tag))}return Jh(a,v,w),_f(),!1}if(Dn)return l=_s.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,v!==tf&&(a=Error(n(422),{cause:v}),Ao(js(a,d)))):(v!==tf&&(l=Error(n(423),{cause:v}),Ao(js(l,d))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,v=js(v,d),w=q0(a.stateNode,v,w),Ht(a,w),Li!==4&&(Li=2)),!1;var A=Error(n(520),{cause:v});if(A=js(A,d),ru===null?ru=[A]:ru.push(A),Li!==4&&(Li=2),l===null)return!0;v=js(v,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=w&-w,d.lanes|=a,a=q0(d.stateNode,v,a),Ht(d,a),!1;case 1:if(l=d.type,A=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Xi===null||!Xi.has(A))))return d.flags|=65536,w&=-w,d.lanes|=w,w=Y0(w),Bx(w,a,d,v),Ht(d,w),!1}d=d.return}while(d!==null);return!1}var jp=Error(n(461)),nr=!1;function br(a,l,d,v){l.child=a===null?Dp(l,null,d,v):fl(l,a.child,d,v)}function Z0(a,l,d,v,w){d=d.render;var A=l.ref;if("ref"in v){var B={};for(var W in v)W!=="ref"&&(B[W]=v[W])}else B=v;return Kl(l),v=Ip(a,l,d,B,A,w),W=M0(),a!==null&&!nr?(w0(a,l,w),Gi(a,l,w)):(Dn&&W&&Eo(l),l.flags|=1,br(a,l,v,w),l.child)}function Kc(a,l,d,v,w){if(a===null){var A=d.type;return typeof A=="function"&&!yp(A)&&A.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=A,Gp(a,l,A,v,w)):(a=Mo(d.type,null,v,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(A=a.child,!$p(a,w)){var B=A.memoizedProps;if(d=d.compare,d=d!==null?d:qu,d(B,v)&&a.ref===l.ref)return Gi(a,l,w)}return l.flags|=1,a=gs(A,v),a.ref=l.ref,a.return=l,l.child=a}function Gp(a,l,d,v,w){if(a!==null){var A=a.memoizedProps;if(qu(A,v)&&a.ref===l.ref)if(nr=!1,l.pendingProps=v=A,$p(a,w))(a.flags&131072)!==0&&(nr=!0);else return l.lanes=a.lanes,Gi(a,l,w)}return df(a,l,d,v,w)}function Qc(a,l,d,v){var w=v.children,A=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(A=A!==null?A.baseLanes|d:d,a!==null){for(v=l.child=a.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;v=w&~A}else v=0,l.child=null;return bs(a,l,A,d,v)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Lh(l,A!==null?A.cachePool:null),A!==null?ix(l,A):_0(),rx(l);else return v=l.lanes=536870912,bs(a,l,A!==null?A.baseLanes|d:d,d,v)}else A!==null?(Lh(l,A.cachePool),ix(l,A),xs(),l.memoizedState=null):(a!==null&&Lh(l,null),_0(),xs());return br(a,l,w,d),l.child}function Lo(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function bs(a,l,d,v,w){var A=Ap();return A=A===null?null:{parent:tr._currentValue,pool:A},l.memoizedState={baseLanes:d,cachePool:A},a!==null&&Lh(l,null),_0(),rx(l),a!==null&&No(a,l,v,!0),l.childLanes=w,null}function Wp(a,l){return l=Zp({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function Fx(a,l,d){return fl(l,a.child,null,d),a=Wp(l,l.pendingProps),a.flags|=2,Hi(l),l.memoizedState=null,a}function Xp(a,l,d){var v=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Dn){if(v.mode==="hidden")return a=Wp(l,v),l.lanes=536870912,Lo(null,a);if(x0(l),(a=di)?(a=k3(a,Gs),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ol!==null?{id:Ni,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},d=Qu(a),d.return=l,l.child=d,Ui=l,di=null)):a=null,a===null)throw To(l);return l.lanes=536870912,null}return Wp(l,v)}var A=a.memoizedState;if(A!==null){var B=A.dehydrated;if(x0(l),w)if(l.flags&256)l.flags&=-257,l=Fx(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(n(558));else if(nr||No(a,l,d,!1),w=(d&a.childLanes)!==0,nr||w){if(v=en,v!==null&&(B=It(v,d),B!==0&&B!==A.retryLane))throw A.retryLane=B,ns(a,B),gn(v,a,B),jp;_f(),l=Fx(a,l,d)}else a=A.treeContext,di=Vo(B.nextSibling),Ui=l,Dn=!0,ll=null,Gs=!1,a!==null&&Sp(l,a),l=Wp(l,v),l.flags|=4096;return l}return a=gs(a.child,{mode:v.mode,children:v.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Jc(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function df(a,l,d,v,w){return Kl(l),d=Ip(a,l,d,v,void 0,w),v=M0(),a!==null&&!nr?(w0(a,l,w),Gi(a,l,w)):(Dn&&v&&Eo(l),l.flags|=1,br(a,l,d,w),l.child)}function Hh(a,l,d,v,w,A){return Kl(l),l.updateQueue=null,d=Zc(l,v,d,w),sx(a),v=M0(),a!==null&&!nr?(w0(a,l,A),Gi(a,l,A)):(Dn&&v&&Eo(l),l.flags|=1,br(a,l,d,A),l.child)}function qp(a,l,d,v,w){if(Kl(l),l.stateNode===null){var A=Wl,B=d.contextType;typeof B=="object"&&B!==null&&(A=Zt(B)),A=new d(v,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Vh,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=v,A.state=l.memoizedState,A.refs={},Oh(l),B=d.contextType,A.context=typeof B=="object"&&B!==null?Zt(B):Wl,A.state=l.memoizedState,B=d.getDerivedStateFromProps,typeof B=="function"&&(Vp(l,d,B,v),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(B=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),B!==A.state&&Vh.enqueueReplaceState(A,A.state,null),of(l,v,A,w),Uh(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(a===null){A=l.stateNode;var W=l.memoizedProps,se=ic(d,W);A.props=se;var xe=A.context,ke=d.contextType;B=Wl,typeof ke=="object"&&ke!==null&&(B=Zt(ke));var Ve=d.getDerivedStateFromProps;ke=typeof Ve=="function"||typeof A.getSnapshotBeforeUpdate=="function",W=l.pendingProps!==W,ke||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(W||xe!==B)&&G0(l,A,v,B),is=!1;var we=l.memoizedState;A.state=we,of(l,v,A,w),Uh(),xe=l.memoizedState,W||we!==xe||is?(typeof Ve=="function"&&(Vp(l,d,Ve,v),xe=l.memoizedState),(se=is||j0(l,d,se,v,we,xe,B))?(ke||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=xe),A.props=v,A.state=xe,A.context=B,v=se):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{A=l.stateNode,v0(a,l),B=l.memoizedProps,ke=ic(d,B),A.props=ke,Ve=l.pendingProps,we=A.context,xe=d.contextType,se=Wl,typeof xe=="object"&&xe!==null&&(se=Zt(xe)),W=d.getDerivedStateFromProps,(xe=typeof W=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==Ve||we!==se)&&G0(l,A,v,se),is=!1,we=l.memoizedState,A.state=we,of(l,v,A,w),Uh();var Re=l.memoizedState;B!==Ve||we!==Re||is||a!==null&&a.dependencies!==null&&Dh(a.dependencies)?(typeof W=="function"&&(Vp(l,d,W,v),Re=l.memoizedState),(ke=is||j0(l,d,ke,v,we,Re,se)||a!==null&&a.dependencies!==null&&Dh(a.dependencies))?(xe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,Re,se),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,Re,se)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||B===a.memoizedProps&&we===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&we===a.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Re),A.props=v,A.state=Re,A.context=se,v=ke):(typeof A.componentDidUpdate!="function"||B===a.memoizedProps&&we===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&we===a.memoizedState||(l.flags|=1024),v=!1)}return A=v,Jc(a,l),v=(l.flags&128)!==0,A||v?(A=l.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,a!==null&&v?(l.child=fl(l,a.child,null,w),l.child=fl(l,null,d,w)):br(a,l,d,w),l.memoizedState=A.state,a=l.child):a=Gi(a,l,w),a}function Vx(a,l,d,v){return Zl(),l.flags|=256,br(a,l,d,v),l.child}var $0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wr(a){return{baseLanes:a,cachePool:g0()}}function Yp(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=os),a}function Hx(a,l,d){var v=l.pendingProps,w=!1,A=(l.flags&128)!==0,B;if((B=A)||(B=a!==null&&a.memoizedState===null?!1:(Ln.current&2)!==0),B&&(w=!0,l.flags&=-129),B=(l.flags&32)!==0,l.flags&=-33,a===null){if(Dn){if(w?dl(l):xs(),(a=di)?(a=k3(a,Gs),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ol!==null?{id:Ni,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},d=Qu(a),d.return=l,l.child=d,Ui=l,di=null)):a=null,a===null)throw To(l);return Vw(a)?l.lanes=32:l.lanes=536870912,null}var W=v.children;return v=v.fallback,w?(xs(),w=l.mode,W=Zp({mode:"hidden",children:W},w),v=Xl(v,w,d,null),W.return=l,v.return=l,W.sibling=v,l.child=W,v=l.child,v.memoizedState=Wr(d),v.childLanes=Yp(a,B,d),l.memoizedState=$0,Lo(null,v)):(dl(l),jh(l,W))}var se=a.memoizedState;if(se!==null&&(W=se.dehydrated,W!==null)){if(A)l.flags&256?(dl(l),l.flags&=-257,l=K0(a,l,d)):l.memoizedState!==null?(xs(),l.child=a.child,l.flags|=128,l=null):(xs(),W=v.fallback,w=l.mode,v=Zp({mode:"visible",children:v.children},w),W=Xl(W,w,d,null),W.flags|=2,v.return=l,W.return=l,v.sibling=W,l.child=v,fl(l,a.child,null,d),v=l.child,v.memoizedState=Wr(d),v.childLanes=Yp(a,B,d),l.memoizedState=$0,l=Lo(null,v));else if(dl(l),Vw(W)){if(B=W.nextSibling&&W.nextSibling.dataset,B)var xe=B.dgst;B=xe,v=Error(n(419)),v.stack="",v.digest=B,Ao({value:v,source:null,stack:null}),l=K0(a,l,d)}else if(nr||No(a,l,d,!1),B=(d&a.childLanes)!==0,nr||B){if(B=en,B!==null&&(v=It(B,d),v!==0&&v!==se.retryLane))throw se.retryLane=v,ns(a,v),gn(B,a,v),jp;Fw(W)||_f(),l=K0(a,l,d)}else Fw(W)?(l.flags|=192,l.child=a.child,l=null):(a=se.treeContext,di=Vo(W.nextSibling),Ui=l,Dn=!0,ll=null,Gs=!1,a!==null&&Sp(l,a),l=jh(l,v.children),l.flags|=4096);return l}return w?(xs(),W=v.fallback,w=l.mode,se=a.child,xe=se.sibling,v=gs(se,{mode:"hidden",children:v.children}),v.subtreeFlags=se.subtreeFlags&65011712,xe!==null?W=gs(xe,W):(W=Xl(W,w,d,null),W.flags|=2),W.return=l,v.return=l,v.sibling=W,l.child=v,Lo(null,v),v=l.child,W=a.child.memoizedState,W===null?W=Wr(d):(w=W.cachePool,w!==null?(se=tr._currentValue,w=w.parent!==se?{parent:se,pool:se}:w):w=g0(),W={baseLanes:W.baseLanes|d,cachePool:w}),v.memoizedState=W,v.childLanes=Yp(a,B,d),l.memoizedState=$0,Lo(a.child,v)):(dl(l),d=a.child,a=d.sibling,d=gs(d,{mode:"visible",children:v.children}),d.return=l,d.sibling=null,a!==null&&(B=l.deletions,B===null?(l.deletions=[a],l.flags|=16):B.push(a)),l.child=d,l.memoizedState=null,d)}function jh(a,l){return l=Zp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Zp(a,l){return a=Ri(22,a,null,l),a.lanes=0,a}function K0(a,l,d){return fl(l,a.child,null,d),a=jh(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function jx(a,l,d){a.lanes|=l;var v=a.alternate;v!==null&&(v.lanes|=l),wp(a.return,l,d)}function eu(a,l,d,v,w,A){var B=a.memoizedState;B===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:w,treeForkCount:A}:(B.isBackwards=l,B.rendering=null,B.renderingStartTime=0,B.last=v,B.tail=d,B.tailMode=w,B.treeForkCount=A)}function Ss(a,l,d){var v=l.pendingProps,w=v.revealOrder,A=v.tail;v=v.children;var B=Ln.current,W=(B&2)!==0;if(W?(B=B&1|2,l.flags|=128):B&=1,De(Ln,B),br(a,l,v,d),v=Dn?ef:0,!W&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&jx(a,d,l);else if(a.tag===19)jx(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(d=l.child,w=null;d!==null;)a=d.alternate,a!==null&&Xs(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=l.child,l.child=null):(w=d.sibling,d.sibling=null),eu(l,!1,w,d,A,v);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&Xs(a)===null){l.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}eu(l,!0,d,null,A,v);break;case"together":eu(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function Gi(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),ko|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(No(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=gs(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=gs(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function $p(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Dh(a)))}function Cw(a,l,d){switch(l.tag){case 3:Ke(l,l.stateNode.containerInfo),cl(l,tr,a.memoizedState.cache),Zl();break;case 27:case 5:pt(l);break;case 4:Ke(l,l.stateNode.containerInfo);break;case 10:cl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,x0(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(dl(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Hx(a,l,d):(dl(l),a=Gi(a,l,d),a!==null?a.sibling:null);dl(l);break;case 19:var w=(a.flags&128)!==0;if(v=(d&l.childLanes)!==0,v||(No(a,l,d,!1),v=(d&l.childLanes)!==0),w){if(v)return Ss(a,l,d);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),De(Ln,Ln.current),v)break;return null;case 22:return l.lanes=0,Qc(a,l,d,l.pendingProps);case 24:cl(l,tr,a.memoizedState.cache)}return Gi(a,l,d)}function Kp(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)nr=!0;else{if(!$p(a,d)&&(l.flags&128)===0)return nr=!1,Cw(a,l,d);nr=(a.flags&131072)!==0}else nr=!1,Dn&&(l.flags&1048576)!==0&&$_(l,ef,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(a=jc(l.elementType),l.type=a,typeof a=="function")yp(a)?(v=ic(a,v),l.tag=1,l=qp(null,l,a,v,d)):(l.tag=0,l=df(null,l,a,v,d));else{if(a!=null){var w=a.$$typeof;if(w===L){l.tag=11,l=Z0(null,l,a,v,d);break e}else if(w===k){l.tag=14,l=Kc(null,l,a,v,d);break e}}throw l=oe(a)||a,Error(n(306,l,""))}}return l;case 0:return df(a,l,l.type,l.pendingProps,d);case 1:return v=l.type,w=ic(v,l.pendingProps),qp(a,l,v,w,d);case 3:e:{if(Ke(l,l.stateNode.containerInfo),a===null)throw Error(n(387));v=l.pendingProps;var A=l.memoizedState;w=A.element,v0(a,l),of(l,v,null,d);var B=l.memoizedState;if(v=B.cache,cl(l,tr,v),v!==A.cache&&Ep(l,[tr],d,!0),Uh(),v=B.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:B.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=Vx(a,l,v,d);break e}else if(v!==w){w=js(Error(n(424)),l),Ao(w),l=Vx(a,l,v,d);break e}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,di=Vo(a.firstChild),Ui=l,Dn=!0,ll=null,Gs=!0,d=Dp(l,null,v,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zl(),v===w){l=Gi(a,l,d);break e}br(a,l,v,d)}l=l.child}return l;case 26:return Jc(a,l),a===null?(d=G3(l.type,null,l.pendingProps,null))?l.memoizedState=d:Dn||(d=l.type,a=l.pendingProps,v=qx(me.current).createElement(d),v[Jt]=l,v[rn]=a,cs(v,d,a),Oe(v),l.stateNode=v):l.memoizedState=G3(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return pt(l),a===null&&Dn&&(v=l.stateNode=V3(l.type,l.pendingProps,me.current),Ui=l,Gs=!0,w=di,Mf(l.type)?(Hw=w,di=Vo(v.firstChild)):di=w),br(a,l,l.pendingProps.children,d),Jc(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Dn&&((w=v=di)&&(v=CF(v,l.type,l.pendingProps,Gs),v!==null?(l.stateNode=v,Ui=l,di=Vo(v.firstChild),Gs=!1,w=!0):w=!1),w||To(l)),pt(l),w=l.type,A=l.pendingProps,B=a!==null?a.memoizedProps:null,v=A.children,zw(w,A)?v=null:B!==null&&zw(w,B)&&(l.flags|=32),l.memoizedState!==null&&(w=Ip(a,l,$c,null,null,d),lv._currentValue=w),Jc(a,l),br(a,l,v,d),l.child;case 6:return a===null&&Dn&&((a=d=di)&&(d=RF(d,l.pendingProps,Gs),d!==null?(l.stateNode=d,Ui=l,di=null,a=!0):a=!1),a||To(l)),null;case 13:return Hx(a,l,d);case 4:return Ke(l,l.stateNode.containerInfo),v=l.pendingProps,a===null?l.child=fl(l,null,v,d):br(a,l,v,d),l.child;case 11:return Z0(a,l,l.type,l.pendingProps,d);case 7:return br(a,l,l.pendingProps,d),l.child;case 8:return br(a,l,l.pendingProps.children,d),l.child;case 12:return br(a,l,l.pendingProps.children,d),l.child;case 10:return v=l.pendingProps,cl(l,l.type,v.value),br(a,l,v.children,d),l.child;case 9:return w=l.type._context,v=l.pendingProps.children,Kl(l),w=Zt(w),v=v(w),l.flags|=1,br(a,l,v,d),l.child;case 14:return Kc(a,l,l.type,l.pendingProps,d);case 15:return Gp(a,l,l.type,l.pendingProps,d);case 19:return Ss(a,l,d);case 31:return Xp(a,l,d);case 22:return Qc(a,l,d,l.pendingProps);case 24:return Kl(l),v=Zt(tr),a===null?(w=Ap(),w===null&&(w=en,A=h0(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=d),w=A),l.memoizedState={parent:v,cache:w},Oh(l),cl(l,tr,w)):((a.lanes&d)!==0&&(v0(a,l),of(l,null,null,d),Uh()),w=a.memoizedState,A=l.memoizedState,w.parent!==v?(w={parent:v,cache:v},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),cl(l,tr,v)):(v=A.cache,cl(l,tr,v),v!==w.cache&&Ep(l,[tr],d,!0))),br(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Po(a){a.flags|=4}function Gh(a,l,d,v,w){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(Ii())a.flags|=8192;else throw Do=Cp,Ph}else a.flags&=-16777217}function Q0(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Z3(l))if(Ii())a.flags|=8192;else throw Do=Cp,Ph}function ml(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?cn():536870912,a.lanes|=l,yi|=l)}function Io(a,l){if(!Dn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function oi(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,v=0;if(l)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,v|=w.subtreeFlags&65011712,v|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=v,a.childLanes=d,l}function Wh(a,l,d){var v=l.pendingProps;switch(bp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(l),null;case 1:return oi(l),null;case 3:return d=l.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),Ro(tr),qe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(nf(l)?Po(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Mp())),oi(l),null;case 26:var w=l.type,A=l.memoizedState;return a===null?(Po(l),A!==null?(oi(l),Q0(l,A)):(oi(l),Gh(l,w,null,v,d))):A?A!==a.memoizedState?(Po(l),oi(l),Q0(l,A)):(oi(l),l.flags&=-16777217):(a=a.memoizedProps,a!==v&&Po(l),oi(l),Gh(l,w,a,v,d)),null;case 27:if(Ut(l),d=me.current,w=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==v&&Po(l);else{if(!v){if(l.stateNode===null)throw Error(n(166));return oi(l),null}a=Le.current,nf(l)?K_(l):(a=V3(w,v,d),l.stateNode=a,Po(l))}return oi(l),null;case 5:if(Ut(l),w=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==v&&Po(l);else{if(!v){if(l.stateNode===null)throw Error(n(166));return oi(l),null}if(A=Le.current,nf(l))K_(l);else{var B=qx(me.current);switch(A){case 1:A=B.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:A=B.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":A=B.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":A=B.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":A=B.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof v.is=="string"?B.createElement("select",{is:v.is}):B.createElement("select"),v.multiple?A.multiple=!0:v.size&&(A.size=v.size);break;default:A=typeof v.is=="string"?B.createElement(w,{is:v.is}):B.createElement(w)}}A[Jt]=l,A[rn]=v;e:for(B=l.child;B!==null;){if(B.tag===5||B.tag===6)A.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===l)break e;for(;B.sibling===null;){if(B.return===null||B.return===l)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}l.stateNode=A;e:switch(cs(A,w,v),w){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Po(l)}}return oi(l),Gh(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==v&&Po(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(a=me.current,nf(l)){if(a=l.stateNode,d=l.memoizedProps,v=null,w=Ui,w!==null)switch(w.tag){case 27:case 5:v=w.memoizedProps}a[Jt]=l,a=!!(a.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||N3(a.nodeValue,d)),a||To(l,!0)}else a=qx(a).createTextNode(v),a[Jt]=l,l.stateNode=a}return oi(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(v=nf(l),d!==null){if(a===null){if(!v)throw Error(n(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Jt]=l}else Zl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;oi(l),a=!1}else d=Mp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(Hi(l),l):(Hi(l),null);if((l.flags&128)!==0)throw Error(n(558))}return oi(l),null;case 13:if(v=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=nf(l),v!==null&&v.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Jt]=l}else Zl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;oi(l),w=!1}else w=Mp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(Hi(l),l):(Hi(l),null)}return Hi(l),(l.flags&128)!==0?(l.lanes=d,l):(d=v!==null,a=a!==null&&a.memoizedState!==null,d&&(v=l.child,w=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(w=v.alternate.memoizedState.cachePool.pool),A=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(A=v.memoizedState.cachePool.pool),A!==w&&(v.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),ml(l,l.updateQueue),oi(l),null);case 4:return qe(),a===null&&Lw(l.stateNode.containerInfo),oi(l),null;case 10:return Ro(l.type),oi(l),null;case 19:if(he(Ln),v=l.memoizedState,v===null)return oi(l),null;if(w=(l.flags&128)!==0,A=v.rendering,A===null)if(w)Io(v,!1);else{if(Li!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(A=Xs(a),A!==null){for(l.flags|=128,Io(v,!1),a=A.updateQueue,l.updateQueue=a,ml(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)Ku(d,a),d=d.sibling;return De(Ln,Ln.current&1|2),Dn&&wo(l,v.treeForkCount),l.child}a=a.sibling}v.tail!==null&&V()>Wi&&(l.flags|=128,w=!0,Io(v,!1),l.lanes=4194304)}else{if(!w)if(a=Xs(A),a!==null){if(l.flags|=128,w=!0,a=a.updateQueue,l.updateQueue=a,ml(l,a),Io(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!Dn)return oi(l),null}else 2*V()-v.renderingStartTime>Wi&&d!==536870912&&(l.flags|=128,w=!0,Io(v,!1),l.lanes=4194304);v.isBackwards?(A.sibling=l.child,l.child=A):(a=v.last,a!==null?a.sibling=A:l.child=A,v.last=A)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=V(),a.sibling=null,d=Ln.current,De(Ln,w?d&1|2:d&1),Dn&&wo(l,v.treeForkCount),a):(oi(l),null);case 22:case 23:return Hi(l),zh(),v=l.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(d&536870912)!==0&&(l.flags&128)===0&&(oi(l),l.subtreeFlags&6&&(l.flags|=8192)):oi(l),d=l.updateQueue,d!==null&&ml(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==d&&(l.flags|=2048),a!==null&&he(Ql),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ro(tr),oi(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function Ea(a,l){switch(bp(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ro(tr),qe(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ut(l),null;case 31:if(l.memoizedState!==null){if(Hi(l),l.alternate===null)throw Error(n(340));Zl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Hi(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Zl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return he(Ln),null;case 4:return qe(),null;case 10:return Ro(l.type),null;case 22:case 23:return Hi(l),zh(),a!==null&&he(Ql),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ro(tr),null;case 25:return null;default:return null}}function qs(a,l){switch(bp(l),l.tag){case 3:Ro(tr),qe();break;case 26:case 27:case 5:Ut(l);break;case 4:qe();break;case 31:l.memoizedState!==null&&Hi(l);break;case 13:Hi(l);break;case 19:he(Ln);break;case 10:Ro(l.type);break;case 22:case 23:Hi(l),zh(),a!==null&&he(Ql);break;case 24:Ro(tr)}}function Ta(a,l){try{var d=l.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var w=v.next;d=w;do{if((d.tag&a)===a){v=void 0;var A=d.create,B=d.inst;v=A(),B.destroy=v}d=d.next}while(d!==w)}}catch(W){Vn(l,l.return,W)}}function Pr(a,l,d){try{var v=l.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var A=w.next;v=A;do{if((v.tag&a)===a){var B=v.inst,W=B.destroy;if(W!==void 0){B.destroy=void 0,w=l;var se=d,xe=W;try{xe()}catch(ke){Vn(w,se,ke)}}}v=v.next}while(v!==A)}}catch(ke){Vn(l,l.return,ke)}}function Za(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{nx(l,d)}catch(v){Vn(a,a.return,v)}}}function Sr(a,l,d){d.props=ic(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(v){Vn(a,l,v)}}function gl(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof d=="function"?a.refCleanup=d(v):d.current=v}}catch(w){Vn(a,l,w)}}function Ir(a,l){var d=a.ref,v=a.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(w){Vn(a,l,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){Vn(a,l,w)}else d.current=null}function Xh(a){var l=a.type,d=a.memoizedProps,v=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(w){Vn(a,a.return,w)}}function dr(a,l,d){try{var v=a.stateNode;SF(v,a.type,d,l),v[rn]=l}catch(w){Vn(a,a.return,w)}}function Ei(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Mf(a.type)||a.tag===4}function An(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ei(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Mf(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Oo(a,l,d){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=rl));else if(v!==4&&(v===27&&Mf(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(Oo(a,l,d),a=a.sibling;a!==null;)Oo(a,l,d),a=a.sibling}function ss(a,l,d){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(v!==4&&(v===27&&Mf(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(ss(a,l,d),a=a.sibling;a!==null;)ss(a,l,d),a=a.sibling}function Qp(a){var l=a.stateNode,d=a.memoizedProps;try{for(var v=a.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);cs(l,v,d),l[Jt]=a,l[rn]=d}catch(A){Vn(a,a.return,A)}}var Aa=!1,pi=!1,$a=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function Rw(a,l){if(a=a.containerInfo,Ow=eb,a=X_(a),o0(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var w=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var B=0,W=-1,se=-1,xe=0,ke=0,Ve=a,we=null;t:for(;;){for(var Re;Ve!==d||w!==0&&Ve.nodeType!==3||(W=B+w),Ve!==A||v!==0&&Ve.nodeType!==3||(se=B+v),Ve.nodeType===3&&(B+=Ve.nodeValue.length),(Re=Ve.firstChild)!==null;)we=Ve,Ve=Re;for(;;){if(Ve===a)break t;if(we===d&&++xe===w&&(W=B),we===A&&++ke===v&&(se=B),(Re=Ve.nextSibling)!==null)break;Ve=we,we=Ve.parentNode}Ve=Re}d=W===-1||se===-1?null:{start:W,end:se}}else d=null}d=d||{start:0,end:0}}else d=null;for(Uw={focusedElem:a,selectionRange:d},eb=!1,Mr=l;Mr!==null;)if(l=Mr,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Mr=a;else for(;Mr!==null;){switch(l=Mr,A=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)w=a[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,d=l,w=A.memoizedProps,A=A.memoizedState,v=d.stateNode;try{var Nt=ic(d.type,w);a=v.getSnapshotBeforeUpdate(Nt,A),v.__reactInternalSnapshotBeforeUpdate=a}catch(Yt){Vn(d,d.return,Yt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)Bw(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Bw(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,Mr=a;break}Mr=l.return}}function Ti(a,l,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Na(a,d),v&4&&Ta(5,d);break;case 1:if(Na(a,d),v&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(B){Vn(d,d.return,B)}else{var w=ic(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(w,l,a.__reactInternalSnapshotBeforeUpdate)}catch(B){Vn(d,d.return,B)}}v&64&&Za(d),v&512&&gl(d,d.return);break;case 3:if(Na(a,d),v&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{nx(a,l)}catch(B){Vn(d,d.return,B)}}break;case 27:l===null&&v&4&&Qp(d);case 26:case 5:Na(a,d),l===null&&v&4&&Xh(d),v&512&&gl(d,d.return);break;case 12:Na(a,d);break;case 31:Na(a,d),v&4&&rc(a,d);break;case 13:Na(a,d),v&4&&pf(a,d),v&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=y.bind(null,d),NF(a,d))));break;case 22:if(v=d.memoizedState!==null||Aa,!v){l=l!==null&&l.memoizedState!==null||pi,w=Aa;var A=pi;Aa=v,(pi=l)&&!A?as(a,d,(d.subtreeFlags&8772)!==0):Na(a,d),Aa=w,pi=A}break;case 30:break;default:Na(a,d)}}function qh(a){var l=a.alternate;l!==null&&(a.alternate=null,qh(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&G(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ti=null,Xr=!1;function Ca(a,l,d){for(d=d.child;d!==null;)Jp(a,l,d),d=d.sibling}function Jp(a,l,d){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Xe,d)}catch{}switch(d.tag){case 26:pi||Ir(d,l),Ca(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:pi||Ir(d,l);var v=ti,w=Xr;Mf(d.type)&&(ti=d.stateNode,Xr=!1),Ca(a,l,d),sv(d.stateNode),ti=v,Xr=w;break;case 5:pi||Ir(d,l);case 6:if(v=ti,w=Xr,ti=null,Ca(a,l,d),ti=v,Xr=w,ti!==null)if(Xr)try{(ti.nodeType===9?ti.body:ti.nodeName==="HTML"?ti.ownerDocument.body:ti).removeChild(d.stateNode)}catch(A){Vn(d,l,A)}else try{ti.removeChild(d.stateNode)}catch(A){Vn(d,l,A)}break;case 18:ti!==null&&(Xr?(a=ti,U3(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),om(a)):U3(ti,d.stateNode));break;case 4:v=ti,w=Xr,ti=d.stateNode.containerInfo,Xr=!0,Ca(a,l,d),ti=v,Xr=w;break;case 0:case 11:case 14:case 15:Pr(2,d,l),pi||Pr(4,d,l),Ca(a,l,d);break;case 1:pi||(Ir(d,l),v=d.stateNode,typeof v.componentWillUnmount=="function"&&Sr(d,l,v)),Ca(a,l,d);break;case 21:Ca(a,l,d);break;case 22:pi=(v=pi)||d.memoizedState!==null,Ca(a,l,d),pi=v;break;default:Ca(a,l,d)}}function rc(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{om(a)}catch(d){Vn(l,l.return,d)}}}function pf(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{om(a)}catch(d){Vn(l,l.return,d)}}function J0(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Gx),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Gx),l;default:throw Error(n(435,a.tag))}}function vl(a,l){var d=J0(a);l.forEach(function(v){if(!d.has(v)){d.add(v);var w=S.bind(null,a,v);v.then(w,w)}})}function pr(a,l){var d=l.deletions;if(d!==null)for(var v=0;v<d.length;v++){var w=d[v],A=a,B=l,W=B;e:for(;W!==null;){switch(W.tag){case 27:if(Mf(W.type)){ti=W.stateNode,Xr=!1;break e}break;case 5:ti=W.stateNode,Xr=!1;break e;case 3:case 4:ti=W.stateNode.containerInfo,Xr=!0;break e}W=W.return}if(ti===null)throw Error(n(160));Jp(A,B,w),ti=null,Xr=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)sc(l,a),l=l.sibling}var Ra=null;function sc(a,l){var d=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:pr(l,a),mr(a),v&4&&(Pr(3,a,a.return),Ta(3,a),Pr(5,a,a.return));break;case 1:pr(l,a),mr(a),v&512&&(pi||d===null||Ir(d,d.return)),v&64&&Aa&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var w=Ra;if(pr(l,a),mr(a),v&512&&(pi||d===null||Ir(d,d.return)),v&4){var A=d!==null?d.memoizedState:null;if(v=a.memoizedState,d===null)if(v===null)if(a.stateNode===null){e:{v=a.type,d=a.memoizedProps,w=w.ownerDocument||w;t:switch(v){case"title":A=w.getElementsByTagName("title")[0],(!A||A[Jn]||A[Jt]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(v),w.head.insertBefore(A,w.querySelector("head > title"))),cs(A,v,d),A[Jt]=a,Oe(A),v=A;break e;case"link":var B=q3("link","href",w).get(v+(d.href||""));if(B){for(var W=0;W<B.length;W++)if(A=B[W],A.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&A.getAttribute("rel")===(d.rel==null?null:d.rel)&&A.getAttribute("title")===(d.title==null?null:d.title)&&A.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){B.splice(W,1);break t}}A=w.createElement(v),cs(A,v,d),w.head.appendChild(A);break;case"meta":if(B=q3("meta","content",w).get(v+(d.content||""))){for(W=0;W<B.length;W++)if(A=B[W],A.getAttribute("content")===(d.content==null?null:""+d.content)&&A.getAttribute("name")===(d.name==null?null:d.name)&&A.getAttribute("property")===(d.property==null?null:d.property)&&A.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&A.getAttribute("charset")===(d.charSet==null?null:d.charSet)){B.splice(W,1);break t}}A=w.createElement(v),cs(A,v,d),w.head.appendChild(A);break;default:throw Error(n(468,v))}A[Jt]=a,Oe(A),v=A}a.stateNode=v}else Y3(w,a.type,a.stateNode);else a.stateNode=X3(w,v,a.memoizedProps);else A!==v?(A===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):A.count--,v===null?Y3(w,a.type,a.stateNode):X3(w,v,a.memoizedProps)):v===null&&a.stateNode!==null&&dr(a,a.memoizedProps,d.memoizedProps)}break;case 27:pr(l,a),mr(a),v&512&&(pi||d===null||Ir(d,d.return)),d!==null&&v&4&&dr(a,a.memoizedProps,d.memoizedProps);break;case 5:if(pr(l,a),mr(a),v&512&&(pi||d===null||Ir(d,d.return)),a.flags&32){w=a.stateNode;try{Pc(w,"")}catch(Nt){Vn(a,a.return,Nt)}}v&4&&a.stateNode!=null&&(w=a.memoizedProps,dr(a,w,d!==null?d.memoizedProps:w)),v&1024&&($a=!0);break;case 6:if(pr(l,a),mr(a),v&4){if(a.stateNode===null)throw Error(n(162));v=a.memoizedProps,d=a.stateNode;try{d.nodeValue=v}catch(Nt){Vn(a,a.return,Nt)}}break;case 3:if($x=null,w=Ra,Ra=Yx(l.containerInfo),pr(l,a),Ra=w,mr(a),v&4&&d!==null&&d.memoizedState.isDehydrated)try{om(l.containerInfo)}catch(Nt){Vn(a,a.return,Nt)}$a&&($a=!1,em(a));break;case 4:v=Ra,Ra=Yx(a.stateNode.containerInfo),pr(l,a),mr(a),Ra=v;break;case 12:pr(l,a),mr(a);break;case 31:pr(l,a),mr(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,vl(a,v)));break;case 13:pr(l,a),mr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(mf=V()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,vl(a,v)));break;case 22:w=a.memoizedState!==null;var se=d!==null&&d.memoizedState!==null,xe=Aa,ke=pi;if(Aa=xe||w,pi=ke||se,pr(l,a),pi=ke,Aa=xe,mr(a),v&8192)e:for(l=a.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(d===null||se||Aa||pi||Uo(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){se=d=l;try{if(A=se.stateNode,w)B=A.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{W=se.stateNode;var Ve=se.memoizedProps.style,we=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;W.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Nt){Vn(se,se.return,Nt)}}}else if(l.tag===6){if(d===null){se=l;try{se.stateNode.nodeValue=w?"":se.memoizedProps}catch(Nt){Vn(se,se.return,Nt)}}}else if(l.tag===18){if(d===null){se=l;try{var Re=se.stateNode;w?z3(Re,!0):z3(se.stateNode,!1)}catch(Nt){Vn(se,se.return,Nt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=a.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,vl(a,d))));break;case 19:pr(l,a),mr(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,vl(a,v)));break;case 30:break;case 21:break;default:pr(l,a),mr(a)}}function mr(a){var l=a.flags;if(l&2){try{for(var d,v=a.return;v!==null;){if(Ei(v)){d=v;break}v=v.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var w=d.stateNode,A=An(a);ss(a,A,w);break;case 5:var B=d.stateNode;d.flags&32&&(Pc(B,""),d.flags&=-33);var W=An(a);ss(a,W,B);break;case 3:case 4:var se=d.stateNode.containerInfo,xe=An(a);Oo(a,xe,se);break;default:throw Error(n(161))}}catch(ke){Vn(a,a.return,ke)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function em(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;em(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Na(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Ti(a,l.alternate,l),l=l.sibling}function Uo(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Pr(4,l,l.return),Uo(l);break;case 1:Ir(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Sr(l,l.return,d),Uo(l);break;case 27:sv(l.stateNode);case 26:case 5:Ir(l,l.return),Uo(l);break;case 22:l.memoizedState===null&&Uo(l);break;case 30:Uo(l);break;default:Uo(l)}a=a.sibling}}function as(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,w=a,A=l,B=A.flags;switch(A.tag){case 0:case 11:case 15:as(w,A,d),Ta(4,A);break;case 1:if(as(w,A,d),v=A,w=v.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(xe){Vn(v,v.return,xe)}if(v=A,w=v.updateQueue,w!==null){var W=v.stateNode;try{var se=w.shared.hiddenCallbacks;if(se!==null)for(w.shared.hiddenCallbacks=null,w=0;w<se.length;w++)lf(se[w],W)}catch(xe){Vn(v,v.return,xe)}}d&&B&64&&Za(A),gl(A,A.return);break;case 27:Qp(A);case 26:case 5:as(w,A,d),d&&v===null&&B&4&&Xh(A),gl(A,A.return);break;case 12:as(w,A,d);break;case 31:as(w,A,d),d&&B&4&&rc(w,A);break;case 13:as(w,A,d),d&&B&4&&pf(w,A);break;case 22:A.memoizedState===null&&as(w,A,d),gl(A,A.return);break;case 30:break;default:as(w,A,d)}l=l.sibling}}function ac(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Vc(d))}function tu(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Vc(a))}function Or(a,l,d,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ev(a,l,d,v),l=l.sibling}function ev(a,l,d,v){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Or(a,l,d,v),w&2048&&Ta(9,l);break;case 1:Or(a,l,d,v);break;case 3:Or(a,l,d,v),w&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Vc(a)));break;case 12:if(w&2048){Or(a,l,d,v),a=l.stateNode;try{var A=l.memoizedProps,B=A.id,W=A.onPostCommit;typeof W=="function"&&W(B,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(se){Vn(l,l.return,se)}}else Or(a,l,d,v);break;case 31:Or(a,l,d,v);break;case 13:Or(a,l,d,v);break;case 23:break;case 22:A=l.stateNode,B=l.alternate,l.memoizedState!==null?A._visibility&2?Or(a,l,d,v):zo(a,l):A._visibility&2?Or(a,l,d,v):(A._visibility|=2,Ur(a,l,d,v,(l.subtreeFlags&10256)!==0||!1)),w&2048&&ac(B,l);break;case 24:Or(a,l,d,v),w&2048&&tu(l.alternate,l);break;default:Or(a,l,d,v)}}function Ur(a,l,d,v,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var A=a,B=l,W=d,se=v,xe=B.flags;switch(B.tag){case 0:case 11:case 15:Ur(A,B,W,se,w),Ta(8,B);break;case 23:break;case 22:var ke=B.stateNode;B.memoizedState!==null?ke._visibility&2?Ur(A,B,W,se,w):zo(A,B):(ke._visibility|=2,Ur(A,B,W,se,w)),w&&xe&2048&&ac(B.alternate,B);break;case 24:Ur(A,B,W,se,w),w&&xe&2048&&tu(B.alternate,B);break;default:Ur(A,B,W,se,w)}l=l.sibling}}function zo(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,v=l,w=v.flags;switch(v.tag){case 22:zo(d,v),w&2048&&ac(v.alternate,v);break;case 24:zo(d,v),w&2048&&tu(v.alternate,v);break;default:zo(d,v)}l=l.sibling}}var nu=8192;function Ys(a,l,d){if(a.subtreeFlags&nu)for(a=a.child;a!==null;)tm(a,l,d),a=a.sibling}function tm(a,l,d){switch(a.tag){case 26:Ys(a,l,d),a.flags&nu&&a.memoizedState!==null&&HF(d,Ra,a.memoizedState,a.memoizedProps);break;case 5:Ys(a,l,d);break;case 3:case 4:var v=Ra;Ra=Yx(a.stateNode.containerInfo),Ys(a,l,d),Ra=v;break;case 22:a.memoizedState===null&&(v=a.alternate,v!==null&&v.memoizedState!==null?(v=nu,nu=16777216,Ys(a,l,d),nu=v):Ys(a,l,d));break;default:Ys(a,l,d)}}function iu(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function oc(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var v=l[d];Mr=v,zi(v,a)}iu(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ms(a),a=a.sibling}function Ms(a){switch(a.tag){case 0:case 11:case 15:oc(a),a.flags&2048&&Pr(9,a,a.return);break;case 3:oc(a);break;case 12:oc(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,ws(a)):oc(a);break;default:oc(a)}}function ws(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var v=l[d];Mr=v,zi(v,a)}iu(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Pr(8,l,l.return),ws(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,ws(l));break;default:ws(l)}a=a.sibling}}function zi(a,l){for(;Mr!==null;){var d=Mr;switch(d.tag){case 0:case 11:case 15:Pr(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Vc(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Mr=v;else e:for(d=a;Mr!==null;){v=Mr;var w=v.sibling,A=v.return;if(qh(v),v===d){Mr=null;break e}if(w!==null){w.return=A,Mr=w;break e}Mr=A}}}var yl={getCacheForType:function(a){var l=Zt(tr),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return Zt(tr).controller.signal}},on=typeof WeakMap=="function"?WeakMap:Map,zt=0,en=null,mn=null,fn=0,On=0,qr=null,Da=!1,Ka=!1,tv=!1,Zs=0,Li=0,ko=0,lc=0,Yh=0,os=0,yi=0,ru=null,ki=null,Bi=!1,mf=0,nv=0,Wi=1/0,Pi=null,Xi=null,ni=0,$s=null,gf=null,La=0,vf=0,yf=null,Zh=null,cc=0,su=null;function Ks(){return(zt&2)!==0&&fn!==0?fn&-fn:q.T!==null?Ae():nn()}function wn(){if(os===0)if((fn&536870912)===0||Dn){var a=et;et<<=1,(et&3932160)===0&&(et=262144),os=a}else os=536870912;return a=_s.current,a!==null&&(a.flags|=32),os}function gn(a,l,d){(a===en&&(On===2||On===9)||a.cancelPendingCommit!==null)&&(fc(a,0),ir(a,fn,os,!1)),wt(a,d),((zt&2)===0||a!==en)&&(a===en&&((zt&2)===0&&(lc|=d),Li===4&&ir(a,fn,os,!1)),tt(a))}function En(a,l,d){if((zt&6)!==0)throw Error(n(327));var v=!d&&(l&127)===0&&(l&a.expiredLanes)===0||mt(a,l),w=v?$h(a,l):ls(a,l,!0),A=v;do{if(w===0){Ka&&!v&&ir(a,l,0,!1);break}else{if(d=a.current.alternate,A&&!ii(d)){w=ls(a,l,!1),A=!1;continue}if(w===2){if(A=l,a.errorRecoveryDisabledLanes&A)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){l=B;e:{var W=a;w=ru;var se=W.current.memoizedState.isDehydrated;if(se&&(fc(W,B).flags|=256),B=ls(W,B,!1),B!==2){if(tv&&!se){W.errorRecoveryDisabledLanes|=A,lc|=A,w=4;break e}A=ki,ki=w,A!==null&&(ki===null?ki=A:ki.push.apply(ki,A))}w=B}if(A=!1,w!==2)continue}}if(w===1){fc(a,0),ir(a,l,0,!0);break}e:{switch(v=a,A=w,A){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:ir(v,l,os,!Da);break e;case 2:ki=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(w=mf+300-V(),10<w)){if(ir(v,l,os,!Da),ze(v,0,!0)!==0)break e;La=l,v.timeoutHandle=I3(Cn.bind(null,v,d,ki,Pi,Bi,l,os,lc,yi,Da,A,"Throttled",-0,0),w);break e}Cn(v,d,ki,Pi,Bi,l,os,lc,yi,Da,A,null,-0,0)}}break}while(!0);tt(a)}function Cn(a,l,d,v,w,A,B,W,se,xe,ke,Ve,we,Re){if(a.timeoutHandle=-1,Ve=l.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rl},tm(l,A,Ve);var Nt=(A&62914560)===A?mf-V():(A&4194048)===A?nv-V():0;if(Nt=jF(Ve,Nt),Nt!==null){La=A,a.cancelPendingCommit=Nt(xl.bind(null,a,l,A,d,v,w,B,W,se,ke,Ve,null,we,Re)),ir(a,A,B,!xe);return}}xl(a,l,A,d,v,w,B,W,se)}function ii(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var w=d[v],A=w.getSnapshot;w=w.value;try{if(!ts(A(),w))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ir(a,l,d,v){l&=~Yh,l&=~lc,a.suspendedLanes|=l,a.pingedLanes&=~l,v&&(a.warmLanes|=l),v=a.expirationTimes;for(var w=l;0<w;){var A=31-ft(w),B=1<<A;v[A]=-1,w&=~B}d!==0&&ut(a,d,l)}function Qa(){return(zt&6)===0?(_t(0),!1):!0}function uc(){if(mn!==null){if(On===0)var a=mn.return;else a=mn,Co=$l=null,E0(a),Xc=null,qc=0,a=mn;for(;a!==null;)qs(a.alternate,a),a=a.return;mn=null}}function fc(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,EF(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),La=0,uc(),en=a,mn=d=gs(a.current,null),fn=l,On=0,qr=null,Da=!1,Ka=mt(a,l),tv=!1,yi=os=Yh=lc=ko=Li=0,ki=ru=null,Bi=!1,(l&8)!==0&&(l|=l&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=l;0<v;){var w=31-ft(v),A=1<<w;l|=a[w],v&=~A}return Zs=l,Rh(),d}function Bo(a,l){an=null,q.H=hf,l===Hc||l===pn?(l=Gc(),On=3):l===Ph?(l=Gc(),On=4):On=l===jp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,qr=l,mn===null&&(Li=1,Hp(a,js(l,a.current)))}function Ii(){var a=_s.current;return a===null?!0:(fn&4194048)===fn?rs===null:(fn&62914560)===fn||(fn&536870912)!==0?a===rs:!1}function _l(){var a=q.H;return q.H=hf,a===null?hf:a}function hc(){var a=q.A;return q.A=yl,a}function _f(){Li=4,Da||(fn&4194048)!==fn&&_s.current!==null||(Ka=!0),(ko&134217727)===0&&(lc&134217727)===0||en===null||ir(en,fn,os,!1)}function ls(a,l,d){var v=zt;zt|=2;var w=_l(),A=hc();(en!==a||fn!==l)&&(Pi=null,fc(a,l)),l=!1;var B=Li;e:do try{if(On!==0&&mn!==null){var W=mn,se=qr;switch(On){case 8:uc(),B=6;break e;case 3:case 2:case 9:case 6:_s.current===null&&(l=!0);var xe=On;if(On=0,qr=null,au(a,W,se,xe),d&&Ka){B=0;break e}break;default:xe=On,On=0,qr=null,au(a,W,se,xe)}}xf(),B=Li;break}catch(ke){Bo(a,ke)}while(!0);return l&&a.shellSuspendCounter++,Co=$l=null,zt=v,q.H=w,q.A=A,mn===null&&(en=null,fn=0,Rh()),B}function xf(){for(;mn!==null;)nm(mn)}function $h(a,l){var d=zt;zt|=2;var v=_l(),w=hc();en!==a||fn!==l?(Pi=null,Wi=V()+500,fc(a,l)):Ka=mt(a,l);e:do try{if(On!==0&&mn!==null){l=mn;var A=qr;t:switch(On){case 1:On=0,qr=null,au(a,l,A,1);break;case 2:case 9:if(ys(A)){On=0,qr=null,Kh(l);break}l=function(){On!==2&&On!==9||en!==a||(On=7),tt(a)},A.then(l,l);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:ys(A)?(On=0,qr=null,Kh(l)):(On=0,qr=null,au(a,l,A,7));break;case 5:var B=null;switch(mn.tag){case 26:B=mn.memoizedState;case 5:case 27:var W=mn;if(B?Z3(B):W.stateNode.complete){On=0,qr=null;var se=W.sibling;if(se!==null)mn=se;else{var xe=W.return;xe!==null?(mn=xe,dc(xe)):mn=null}break t}}On=0,qr=null,au(a,l,A,5);break;case 6:On=0,qr=null,au(a,l,A,6);break;case 8:uc(),Li=6;break e;default:throw Error(n(462))}}Es();break}catch(ke){Bo(a,ke)}while(!0);return Co=$l=null,q.H=v,q.A=w,zt=d,mn!==null?0:(en=null,fn=0,Rh(),Li)}function Es(){for(;mn!==null&&!Rt();)nm(mn)}function nm(a){var l=Kp(a.alternate,a,Zs);a.memoizedProps=a.pendingProps,l===null?dc(a):mn=l}function Kh(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=Hh(d,l,l.pendingProps,l.type,void 0,fn);break;case 11:l=Hh(d,l,l.pendingProps,l.type.render,l.ref,fn);break;case 5:E0(l);default:qs(d,l),l=mn=Ku(l,Zs),l=Kp(d,l,Zs)}a.memoizedProps=a.pendingProps,l===null?dc(a):mn=l}function au(a,l,d,v){Co=$l=null,E0(l),Xc=null,qc=0;var w=l.return;try{if(hr(a,w,l,d,fn)){Li=1,Hp(a,js(d,a.current)),mn=null;return}}catch(A){if(w!==null)throw mn=w,A;Li=1,Hp(a,js(d,a.current)),mn=null;return}l.flags&32768?(Dn||v===1?a=!0:Ka||(fn&536870912)!==0?a=!1:(Da=a=!0,(v===2||v===9||v===3||v===6)&&(v=_s.current,v!==null&&v.tag===13&&(v.flags|=16384))),Qh(l,a)):dc(l)}function dc(a){var l=a;do{if((l.flags&32768)!==0){Qh(l,Da);return}a=l.return;var d=Wh(l.alternate,l,Zs);if(d!==null){mn=d;return}if(l=l.sibling,l!==null){mn=l;return}mn=l=a}while(l!==null);Li===0&&(Li=5)}function Qh(a,l){do{var d=Ea(a.alternate,a);if(d!==null){d.flags&=32767,mn=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){mn=a;return}mn=a=d}while(a!==null);Li=6,mn=null}function xl(a,l,d,v,w,A,B,W,se){a.cancelPendingCommit=null;do bf();while(ni!==0);if((zt&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(A=l.lanes|l.childLanes,A|=_r,Kt(a,d,A,B,W,se),a===en&&(mn=en=null,fn=0),gf=l,$s=a,La=d,vf=A,yf=w,Zh=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,N(Te,function(){return im(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=q.T,q.T=null,w=J.p,J.p=2,B=zt,zt|=4;try{Rw(a,l,d)}finally{zt=B,J.p=w,q.T=v}}ni=1,rr(),bl(),ou()}}function rr(){if(ni===1){ni=0;var a=$s,l=gf,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=q.T,q.T=null;var v=J.p;J.p=2;var w=zt;zt|=4;try{sc(l,a);var A=Uw,B=X_(a.containerInfo),W=A.focusedElem,se=A.selectionRange;if(B!==W&&W&&W.ownerDocument&&hi(W.ownerDocument.documentElement,W)){if(se!==null&&o0(W)){var xe=se.start,ke=se.end;if(ke===void 0&&(ke=xe),"selectionStart"in W)W.selectionStart=xe,W.selectionEnd=Math.min(ke,W.value.length);else{var Ve=W.ownerDocument||document,we=Ve&&Ve.defaultView||window;if(we.getSelection){var Re=we.getSelection(),Nt=W.textContent.length,Yt=Math.min(se.start,Nt),gi=se.end===void 0?Yt:Math.min(se.end,Nt);!Re.extend&&Yt>gi&&(B=gi,gi=Yt,Yt=B);var ge=Yu(W,Yt),ce=Yu(W,gi);if(ge&&ce&&(Re.rangeCount!==1||Re.anchorNode!==ge.node||Re.anchorOffset!==ge.offset||Re.focusNode!==ce.node||Re.focusOffset!==ce.offset)){var ye=Ve.createRange();ye.setStart(ge.node,ge.offset),Re.removeAllRanges(),Yt>gi?(Re.addRange(ye),Re.extend(ce.node,ce.offset)):(ye.setEnd(ce.node,ce.offset),Re.addRange(ye))}}}}for(Ve=[],Re=W;Re=Re.parentNode;)Re.nodeType===1&&Ve.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ve.length;W++){var Be=Ve[W];Be.element.scrollLeft=Be.left,Be.element.scrollTop=Be.top}}eb=!!Ow,Uw=Ow=null}finally{zt=w,J.p=v,q.T=d}}a.current=l,ni=2}}function bl(){if(ni===2){ni=0;var a=$s,l=gf,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=q.T,q.T=null;var v=J.p;J.p=2;var w=zt;zt|=4;try{Ti(a,l.alternate,l)}finally{zt=w,J.p=v,q.T=d}}ni=3}}function ou(){if(ni===4||ni===3){ni=0,Z();var a=$s,l=gf,d=La,v=Zh;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ni=5:(ni=0,gf=$s=null,Fo(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(Xi=null),ri(d),l=l.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Xe,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=q.T,w=J.p,J.p=2,q.T=null;try{for(var A=a.onRecoverableError,B=0;B<v.length;B++){var W=v[B];A(W.value,{componentStack:W.stack})}}finally{q.T=l,J.p=w}}(La&3)!==0&&bf(),tt(a),w=a.pendingLanes,(d&261930)!==0&&(w&42)!==0?a===su?cc++:(cc=0,su=a):cc=0,_t(0)}}function Fo(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Vc(l)))}function bf(){return rr(),bl(),ou(),im()}function im(){if(ni!==5)return!1;var a=$s,l=vf;vf=0;var d=ri(La),v=q.T,w=J.p;try{J.p=32>d?32:d,q.T=null,d=yf,yf=null;var A=$s,B=La;if(ni=0,gf=$s=null,La=0,(zt&6)!==0)throw Error(n(331));var W=zt;if(zt|=4,Ms(A.current),ev(A,A.current,B,d),zt=W,_t(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Xe,A)}catch{}return!0}finally{J.p=w,q.T=v,Fo(a,l)}}function iv(a,l,d){l=js(d,l),l=q0(a.stateNode,l,2),a=Jl(a,l,2),a!==null&&(wt(a,2),tt(a))}function Vn(a,l,d){if(a.tag===3)iv(a,a,d);else for(;l!==null;){if(l.tag===3){iv(l,a,d);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Xi===null||!Xi.has(v))){a=js(d,a),d=Y0(2),v=Jl(l,d,2),v!==null&&(Bx(d,v,l,a),wt(v,2),tt(v));break}}l=l.return}}function Jh(a,l,d){var v=a.pingCache;if(v===null){v=a.pingCache=new on;var w=new Set;v.set(l,w)}else w=v.get(l),w===void 0&&(w=new Set,v.set(l,w));w.has(d)||(tv=!0,w.add(d),a=u.bind(null,a,l,d),l.then(a,a))}function u(a,l,d){var v=a.pingCache;v!==null&&v.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,en===a&&(fn&d)===d&&(Li===4||Li===3&&(fn&62914560)===fn&&300>V()-mf?(zt&2)===0&&fc(a,0):Yh|=d,yi===fn&&(yi=0)),tt(a)}function f(a,l){l===0&&(l=cn()),a=ns(a,l),a!==null&&(wt(a,l),tt(a))}function y(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),f(a,d)}function S(a,l){var d=0;switch(a.tag){case 31:case 13:var v=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(l),f(a,d)}function N(a,l){return Je(a,l)}var P=null,H=null,ae=!1,Ce=!1,We=!1,at=0;function tt(a){a!==H&&a.next===null&&(H===null?P=H=a:H=H.next=a),Ce=!0,ae||(ae=!0,ve())}function _t(a,l){if(!We&&Ce){We=!0;do for(var d=!1,v=P;v!==null;){if(a!==0){var w=v.pendingLanes;if(w===0)var A=0;else{var B=v.suspendedLanes,W=v.pingedLanes;A=(1<<31-ft(42|a)+1)-1,A&=w&~(B&~W),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(d=!0,Se(v,A))}else A=fn,A=ze(v,v===en?A:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(A&3)===0||mt(v,A)||(d=!0,Se(v,A));v=v.next}while(d);We=!1}}function sn(){qi()}function qi(){Ce=ae=!1;var a=0;at!==0&&wF()&&(a=at);for(var l=V(),d=null,v=P;v!==null;){var w=v.next,A=Sf(v,l);A===0?(v.next=null,d===null?P=w:d.next=w,w===null&&(H=d)):(d=v,(a!==0||(A&3)!==0)&&(Ce=!0)),v=w}ni!==0&&ni!==5||_t(a),at!==0&&(at=0)}function Sf(a,l){for(var d=a.suspendedLanes,v=a.pingedLanes,w=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var B=31-ft(A),W=1<<B,se=w[B];se===-1?((W&d)===0||(W&v)!==0)&&(w[B]=Ft(W,l)):se<=l&&(a.expiredLanes|=W),A&=~W}if(l=en,d=fn,d=ze(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,d===0||a===l&&(On===2||On===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&vt(v),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||mt(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(v!==null&&vt(v),ri(d)){case 2:case 8:d=Ue;break;case 32:d=Te;break;case 268435456:d=Ye;break;default:d=Te}return v=pc.bind(null,a),d=Je(d,v),a.callbackPriority=l,a.callbackNode=d,l}return v!==null&&v!==null&&vt(v),a.callbackPriority=2,a.callbackNode=null,2}function pc(a,l){if(ni!==0&&ni!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(bf()&&a.callbackNode!==d)return null;var v=fn;return v=ze(a,a===en?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(En(a,v,l),Sf(a,V()),a.callbackNode!=null&&a.callbackNode===d?pc.bind(null,a):null)}function Se(a,l){if(bf())return null;En(a,l,!0)}function ve(){TF(function(){(zt&6)!==0?Je(Ee,sn):qi()})}function Ae(){if(at===0){var a=ul;a===0&&(a=$e,$e<<=1,($e&261888)===0&&($e=256)),at=a}return at}function rt(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:mh(""+a)}function Gt(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function Oi(a,l,d,v,w){if(l==="submit"&&d&&d.stateNode===w){var A=rt((w[rn]||null).action),B=v.submitter;B&&(l=(l=B[rn]||null)?rt(l.formAction):B.getAttribute("formAction"),l!==null&&(A=l,B=null));var W=new yh("action","action",null,v,w);a.push({event:W,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(at!==0){var se=B?Gt(w,B):new FormData(w);B0(d,{pending:!0,data:se,method:w.method,action:A},null,se)}}else typeof A=="function"&&(W.preventDefault(),se=B?Gt(w,B):new FormData(w),B0(d,{pending:!0,data:se,method:w.method,action:A},A,se))},currentTarget:w}]})}}for(var qt=0;qt<Ah.length;qt++){var kn=Ah[qt],wr=kn.toLowerCase(),Gn=kn[0].toUpperCase()+kn.slice(1);ya(wr,"on"+Gn)}ya(gp,"onAnimationEnd"),ya(Th,"onAnimationIteration"),ya(c0,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(Y_,"onTransitionRun"),ya(bw,"onTransitionStart"),ya(Z_,"onTransitionCancel"),ya(u0,"onTransitionEnd"),St("onMouseEnter",["mouseout","mouseover"]),St("onMouseLeave",["mouseout","mouseover"]),St("onPointerEnter",["pointerout","pointerover"]),St("onPointerLeave",["pointerout","pointerover"]),dt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dt("onBeforeInput",["compositionend","keypress","textInput","paste"]),dt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pa));function T3(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var v=a[d],w=v.event;v=v.listeners;e:{var A=void 0;if(l)for(var B=v.length-1;0<=B;B--){var W=v[B],se=W.instance,xe=W.currentTarget;if(W=W.listener,se!==A&&w.isPropagationStopped())break e;A=W,w.currentTarget=xe;try{A(w)}catch(ke){Ch(ke)}w.currentTarget=null,A=se}else for(B=0;B<v.length;B++){if(W=v[B],se=W.instance,xe=W.currentTarget,W=W.listener,se!==A&&w.isPropagationStopped())break e;A=W,w.currentTarget=xe;try{A(w)}catch(ke){Ch(ke)}w.currentTarget=null,A=se}}}}function Un(a,l){var d=l[bi];d===void 0&&(d=l[bi]=new Set);var v=a+"__bubble";d.has(v)||(A3(l,a,2,!1),d.add(v))}function Dw(a,l,d){var v=0;l&&(v|=4),A3(d,a,v,l)}var Wx="_reactListening"+Math.random().toString(36).slice(2);function Lw(a){if(!a[Wx]){a[Wx]=!0,it.forEach(function(d){d!=="selectionchange"&&(Nw.has(d)||Dw(d,!1,a),Dw(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Wx]||(l[Wx]=!0,Dw("selectionchange",!1,l))}}function A3(a,l,d,v){switch(nN(l)){case 2:var w=XF;break;case 8:w=qF;break;default:w=qw}d=w.bind(null,l,d,a),w=void 0,!Wg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),v?w!==void 0?a.addEventListener(l,d,{capture:!0,passive:w}):a.addEventListener(l,d,!0):w!==void 0?a.addEventListener(l,d,{passive:w}):a.addEventListener(l,d,!1)}function Pw(a,l,d,v,w){var A=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var B=v.tag;if(B===3||B===4){var W=v.stateNode.containerInfo;if(W===w)break;if(B===4)for(B=v.return;B!==null;){var se=B.tag;if((se===3||se===4)&&B.stateNode.containerInfo===w)return;B=B.return}for(;W!==null;){if(B=ue(W),B===null)return;if(se=B.tag,se===5||se===6||se===26||se===27){v=A=B;continue e}W=W.parentNode}}v=v.return}Gg(function(){var xe=A,ke=ip(d),Ve=[];e:{var we=va.get(a);if(we!==void 0){var Re=yh,Nt=a;switch(a){case"keypress":if(vh(d)===0)break e;case"keydown":case"keyup":Re=Uc;break;case"focusin":Nt="focus",Re=op;break;case"focusout":Nt="blur",Re=op;break;case"beforeblur":case"afterblur":Re=op;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=C_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=I_;break;case gp:case Th:case c0:Re=yw;break;case u0:Re=xw;break;case"scroll":case"scrollend":Re=T_;break;case"wheel":Re=U_;break;case"copy":case"cut":case"paste":Re=N_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Zg;break;case"toggle":case"beforetoggle":Re=k_}var Yt=(l&4)!==0,gi=!Yt&&(a==="scroll"||a==="scrollend"),ge=Yt?we!==null?we+"Capture":null:we;Yt=[];for(var ce=xe,ye;ce!==null;){var Be=ce;if(ye=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||ye===null||ge===null||(Be=Bu(ce,ge),Be!=null&&Yt.push(rv(ce,Be,ye))),gi)break;ce=ce.return}0<Yt.length&&(we=new Re(we,Nt,null,d,ke),Ve.push({event:we,listeners:Yt}))}}if((l&7)===0){e:{if(we=a==="mouseover"||a==="pointerover",Re=a==="mouseout"||a==="pointerout",we&&d!==np&&(Nt=d.relatedTarget||d.fromElement)&&(ue(Nt)||Nt[bn]))break e;if((Re||we)&&(we=ke.window===ke?ke:(we=ke.ownerDocument)?we.defaultView||we.parentWindow:window,Re?(Nt=d.relatedTarget||d.toElement,Re=xe,Nt=Nt?ue(Nt):null,Nt!==null&&(gi=s(Nt),Yt=Nt.tag,Nt!==gi||Yt!==5&&Yt!==27&&Yt!==6)&&(Nt=null)):(Re=null,Nt=xe),Re!==Nt)){if(Yt=Xg,Be="onMouseLeave",ge="onMouseEnter",ce="mouse",(a==="pointerout"||a==="pointerover")&&(Yt=Zg,Be="onPointerLeave",ge="onPointerEnter",ce="pointer"),gi=Re==null?we:Me(Re),ye=Nt==null?we:Me(Nt),we=new Yt(Be,ce+"leave",Re,d,ke),we.target=gi,we.relatedTarget=ye,Be=null,ue(ke)===xe&&(Yt=new Yt(ge,ce+"enter",Nt,d,ke),Yt.target=ye,Yt.relatedTarget=gi,Be=Yt),gi=Be,Re&&Nt)t:{for(Yt=_F,ge=Re,ce=Nt,ye=0,Be=ge;Be;Be=Yt(Be))ye++;Be=0;for(var jt=ce;jt;jt=Yt(jt))Be++;for(;0<ye-Be;)ge=Yt(ge),ye--;for(;0<Be-ye;)ce=Yt(ce),Be--;for(;ye--;){if(ge===ce||ce!==null&&ge===ce.alternate){Yt=ge;break t}ge=Yt(ge),ce=Yt(ce)}Yt=null}else Yt=null;Re!==null&&C3(Ve,we,Re,Yt,!1),Nt!==null&&gi!==null&&C3(Ve,gi,Nt,Yt,!0)}}e:{if(we=xe?Me(xe):window,Re=we.nodeName&&we.nodeName.toLowerCase(),Re==="select"||Re==="input"&&we.type==="file")var $n=n0;else if(t0(we))if(xo)$n=W_;else{$n=s0;var Ot=j_}else Re=we.nodeName,!Re||Re.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?xe&&tp(xe.elementType)&&($n=n0):$n=G_;if($n&&($n=$n(a,xe))){pp(Ve,$n,d,ke);break e}Ot&&Ot(a,we,xe),a==="focusout"&&xe&&we.type==="number"&&xe.memoizedProps.value!=null&&ui(we,"number",we.value)}switch(Ot=xe?Me(xe):window,a){case"focusin":(t0(Ot)||Ot.contentEditable==="true")&&(bo=Ot,So=xe,Zu=null);break;case"focusout":Zu=So=bo=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,$u(Ve,d,ke);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":$u(Ve,d,ke)}var _n;if(zc)e:{switch(a){case"compositionstart":var Bn="onCompositionStart";break e;case"compositionend":Bn="onCompositionEnd";break e;case"compositionupdate":Bn="onCompositionUpdate";break e}Bn=void 0}else kc?dp(a,d)&&(Bn="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Bn="onCompositionStart");Bn&&(Kg&&d.locale!=="ko"&&(kc||Bn!=="onCompositionStart"?Bn==="onCompositionEnd"&&kc&&(_n=gh()):(Hs=ke,sp="value"in Hs?Hs.value:Hs.textContent,kc=!0)),Ot=Xx(xe,Bn),0<Ot.length&&(Bn=new lp(Bn,a,null,d,ke),Ve.push({event:Bn,listeners:Ot}),_n?Bn.data=_n:(_n=Qg(d),_n!==null&&(Bn.data=_n)))),(_n=hp?V_(a,d):Jg(a,d))&&(Bn=Xx(xe,"onBeforeInput"),0<Bn.length&&(Ot=new lp("onBeforeInput","beforeinput",null,d,ke),Ve.push({event:Ot,listeners:Bn}),Ot.data=_n)),Oi(Ve,a,xe,d,ke)}T3(Ve,l)})}function rv(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Xx(a,l){for(var d=l+"Capture",v=[];a!==null;){var w=a,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=Bu(a,d),w!=null&&v.unshift(rv(a,w,A)),w=Bu(a,l),w!=null&&v.push(rv(a,w,A))),a.tag===3)return v;a=a.return}return[]}function _F(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function C3(a,l,d,v,w){for(var A=l._reactName,B=[];d!==null&&d!==v;){var W=d,se=W.alternate,xe=W.stateNode;if(W=W.tag,se!==null&&se===v)break;W!==5&&W!==26&&W!==27||xe===null||(se=xe,w?(xe=Bu(d,A),xe!=null&&B.unshift(rv(d,xe,se))):w||(xe=Bu(d,A),xe!=null&&B.push(rv(d,xe,se)))),d=d.return}B.length!==0&&a.push({event:l,listeners:B})}var xF=/\r\n?/g,bF=/\u0000|\uFFFD/g;function R3(a){return(typeof a=="string"?a:""+a).replace(xF,`
`).replace(bF,"")}function N3(a,l){return l=R3(l),R3(a)===l}function mi(a,l,d,v,w,A){switch(d){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||Pc(a,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&Pc(a,""+v);break;case"className":Xn(a,"class",v);break;case"tabIndex":Xn(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(a,d,v);break;case"style":Vg(a,v,A);break;case"data":if(l!=="object"){Xn(a,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(d);break}v=mh(""+v),a.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(d==="formAction"?(l!=="input"&&mi(a,l,"name",w.name,w,null),mi(a,l,"formEncType",w.formEncType,w,null),mi(a,l,"formMethod",w.formMethod,w,null),mi(a,l,"formTarget",w.formTarget,w,null)):(mi(a,l,"encType",w.encType,w,null),mi(a,l,"method",w.method,w,null),mi(a,l,"target",w.target,w,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(d);break}v=mh(""+v),a.setAttribute(d,v);break;case"onClick":v!=null&&(a.onclick=rl);break;case"onScroll":v!=null&&Un("scroll",a);break;case"onScrollEnd":v!=null&&Un("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(d=v.__html,d!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}d=mh(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(d,""+v):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":v===!0?a.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(d,v):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(d,v):a.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(d):a.setAttribute(d,v);break;case"popover":Un("beforetoggle",a),Un("toggle",a),ei(a,"popover",v);break;case"xlinkActuate":Sn(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Sn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Sn(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Sn(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Sn(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Sn(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ei(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=w_.get(d)||d,ei(a,d,v))}}function Iw(a,l,d,v,w,A){switch(d){case"style":Vg(a,v,A);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(d=v.__html,d!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof v=="string"?Pc(a,v):(typeof v=="number"||typeof v=="bigint")&&Pc(a,""+v);break;case"onScroll":v!=null&&Un("scroll",a);break;case"onScrollEnd":v!=null&&Un("scrollend",a);break;case"onClick":v!=null&&(a.onclick=rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xt.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),l=d.slice(2,w?d.length-7:void 0),A=a[rn]||null,A=A!=null?A[d]:null,typeof A=="function"&&a.removeEventListener(l,A,w),typeof v=="function")){typeof A!="function"&&A!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,v,w);break e}d in a?a[d]=v:v===!0?a.setAttribute(d,""):ei(a,d,v)}}}function cs(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Un("error",a),Un("load",a);var v=!1,w=!1,A;for(A in d)if(d.hasOwnProperty(A)){var B=d[A];if(B!=null)switch(A){case"src":v=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:mi(a,l,A,B,d,null)}}w&&mi(a,l,"srcSet",d.srcSet,d,null),v&&mi(a,l,"src",d.src,d,null);return;case"input":Un("invalid",a);var W=A=B=w=null,se=null,xe=null;for(v in d)if(d.hasOwnProperty(v)){var ke=d[v];if(ke!=null)switch(v){case"name":w=ke;break;case"type":B=ke;break;case"checked":se=ke;break;case"defaultChecked":xe=ke;break;case"value":A=ke;break;case"defaultValue":W=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(n(137,l));break;default:mi(a,l,v,ke,d,null)}}Dr(a,A,W,se,xe,B,w,!1);return;case"select":Un("invalid",a),v=B=A=null;for(w in d)if(d.hasOwnProperty(w)&&(W=d[w],W!=null))switch(w){case"value":A=W;break;case"defaultValue":B=W;break;case"multiple":v=W;default:mi(a,l,w,W,d,null)}l=A,d=B,a.multiple=!!v,l!=null?Si(a,!!v,l,!1):d!=null&&Si(a,!!v,d,!0);return;case"textarea":Un("invalid",a),A=w=v=null;for(B in d)if(d.hasOwnProperty(B)&&(W=d[B],W!=null))switch(B){case"value":v=W;break;case"defaultValue":w=W;break;case"children":A=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:mi(a,l,B,W,d,null)}ma(a,v,w,A);return;case"option":for(se in d)d.hasOwnProperty(se)&&(v=d[se],v!=null)&&(se==="selected"?a.selected=v&&typeof v!="function"&&typeof v!="symbol":mi(a,l,se,v,d,null));return;case"dialog":Un("beforetoggle",a),Un("toggle",a),Un("cancel",a),Un("close",a);break;case"iframe":case"object":Un("load",a);break;case"video":case"audio":for(v=0;v<Pa.length;v++)Un(Pa[v],a);break;case"image":Un("error",a),Un("load",a);break;case"details":Un("toggle",a);break;case"embed":case"source":case"link":Un("error",a),Un("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in d)if(d.hasOwnProperty(xe)&&(v=d[xe],v!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:mi(a,l,xe,v,d,null)}return;default:if(tp(l)){for(ke in d)d.hasOwnProperty(ke)&&(v=d[ke],v!==void 0&&Iw(a,l,ke,v,d,void 0));return}}for(W in d)d.hasOwnProperty(W)&&(v=d[W],v!=null&&mi(a,l,W,v,d,null))}function SF(a,l,d,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,B=null,W=null,se=null,xe=null,ke=null;for(Re in d){var Ve=d[Re];if(d.hasOwnProperty(Re)&&Ve!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":se=Ve;default:v.hasOwnProperty(Re)||mi(a,l,Re,null,v,Ve)}}for(var we in v){var Re=v[we];if(Ve=d[we],v.hasOwnProperty(we)&&(Re!=null||Ve!=null))switch(we){case"type":A=Re;break;case"name":w=Re;break;case"checked":xe=Re;break;case"defaultChecked":ke=Re;break;case"value":B=Re;break;case"defaultValue":W=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,l));break;default:Re!==Ve&&mi(a,l,we,Re,v,Ve)}}ur(a,B,W,se,xe,ke,A,w);return;case"select":Re=B=W=we=null;for(A in d)if(se=d[A],d.hasOwnProperty(A)&&se!=null)switch(A){case"value":break;case"multiple":Re=se;default:v.hasOwnProperty(A)||mi(a,l,A,null,v,se)}for(w in v)if(A=v[w],se=d[w],v.hasOwnProperty(w)&&(A!=null||se!=null))switch(w){case"value":we=A;break;case"defaultValue":W=A;break;case"multiple":B=A;default:A!==se&&mi(a,l,w,A,v,se)}l=W,d=B,v=Re,we!=null?Si(a,!!d,we,!1):!!v!=!!d&&(l!=null?Si(a,!!d,l,!0):Si(a,!!d,d?[]:"",!1));return;case"textarea":Re=we=null;for(W in d)if(w=d[W],d.hasOwnProperty(W)&&w!=null&&!v.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:mi(a,l,W,null,v,w)}for(B in v)if(w=v[B],A=d[B],v.hasOwnProperty(B)&&(w!=null||A!=null))switch(B){case"value":we=w;break;case"defaultValue":Re=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==A&&mi(a,l,B,w,v,A)}Fl(a,we,Re);return;case"option":for(var Nt in d)we=d[Nt],d.hasOwnProperty(Nt)&&we!=null&&!v.hasOwnProperty(Nt)&&(Nt==="selected"?a.selected=!1:mi(a,l,Nt,null,v,we));for(se in v)we=v[se],Re=d[se],v.hasOwnProperty(se)&&we!==Re&&(we!=null||Re!=null)&&(se==="selected"?a.selected=we&&typeof we!="function"&&typeof we!="symbol":mi(a,l,se,we,v,Re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in d)we=d[Yt],d.hasOwnProperty(Yt)&&we!=null&&!v.hasOwnProperty(Yt)&&mi(a,l,Yt,null,v,we);for(xe in v)if(we=v[xe],Re=d[xe],v.hasOwnProperty(xe)&&we!==Re&&(we!=null||Re!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,l));break;default:mi(a,l,xe,we,v,Re)}return;default:if(tp(l)){for(var gi in d)we=d[gi],d.hasOwnProperty(gi)&&we!==void 0&&!v.hasOwnProperty(gi)&&Iw(a,l,gi,void 0,v,we);for(ke in v)we=v[ke],Re=d[ke],!v.hasOwnProperty(ke)||we===Re||we===void 0&&Re===void 0||Iw(a,l,ke,we,v,Re);return}}for(var ge in d)we=d[ge],d.hasOwnProperty(ge)&&we!=null&&!v.hasOwnProperty(ge)&&mi(a,l,ge,null,v,we);for(Ve in v)we=v[Ve],Re=d[Ve],!v.hasOwnProperty(Ve)||we===Re||we==null&&Re==null||mi(a,l,Ve,we,v,Re)}function D3(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MF(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),v=0;v<d.length;v++){var w=d[v],A=w.transferSize,B=w.initiatorType,W=w.duration;if(A&&W&&D3(B)){for(B=0,W=w.responseEnd,v+=1;v<d.length;v++){var se=d[v],xe=se.startTime;if(xe>W)break;var ke=se.transferSize,Ve=se.initiatorType;ke&&D3(Ve)&&(se=se.responseEnd,B+=ke*(se<W?1:(W-xe)/(se-xe)))}if(--v,l+=8*(A+B)/(w.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ow=null,Uw=null;function qx(a){return a.nodeType===9?a:a.ownerDocument}function L3(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P3(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function zw(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var kw=null;function wF(){var a=window.event;return a&&a.type==="popstate"?a===kw?!1:(kw=a,!0):(kw=null,!1)}var I3=typeof setTimeout=="function"?setTimeout:void 0,EF=typeof clearTimeout=="function"?clearTimeout:void 0,O3=typeof Promise=="function"?Promise:void 0,TF=typeof queueMicrotask=="function"?queueMicrotask:typeof O3<"u"?function(a){return O3.resolve(null).then(a).catch(AF)}:I3;function AF(a){setTimeout(function(){throw a})}function Mf(a){return a==="head"}function U3(a,l){var d=l,v=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(v===0){a.removeChild(w),om(l);return}v--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")v++;else if(d==="html")sv(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,sv(d);for(var A=d.firstChild;A;){var B=A.nextSibling,W=A.nodeName;A[Jn]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&A.rel.toLowerCase()==="stylesheet"||d.removeChild(A),A=B}}else d==="body"&&sv(a.ownerDocument.body);d=w}while(d);om(l)}function z3(a,l){var d=a;a=0;do{var v=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=v}while(d)}function Bw(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Bw(d),G(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function CF(a,l,d,v){for(;a.nodeType===1;){var w=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[Jn])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=Vo(a.nextSibling),a===null)break}return null}function RF(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Vo(a.nextSibling),a===null))return null;return a}function k3(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Vo(a.nextSibling),a===null))return null;return a}function Fw(a){return a.data==="$?"||a.data==="$~"}function Vw(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function NF(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var v=function(){l(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function Vo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Hw=null;function B3(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return Vo(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function F3(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function V3(a,l,d){switch(l=qx(d),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function sv(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);G(a)}var Ho=new Map,H3=new Set;function Yx(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var lu=J.d;J.d={f:DF,r:LF,D:PF,C:IF,L:OF,m:UF,X:kF,S:zF,M:BF};function DF(){var a=lu.f(),l=Qa();return a||l}function LF(a){var l=_e(a);l!==null&&l.tag===5&&l.type==="form"?Nx(l):lu.r(a)}var rm=typeof document>"u"?null:document;function j3(a,l,d){var v=rm;if(v&&typeof l=="string"&&l){var w=dn(l);w='link[rel="'+a+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),H3.has(w)||(H3.add(w),a={rel:a,crossOrigin:d,href:l},v.querySelector(w)===null&&(l=v.createElement("link"),cs(l,"link",a),Oe(l),v.head.appendChild(l)))}}function PF(a){lu.D(a),j3("dns-prefetch",a,null)}function IF(a,l){lu.C(a,l),j3("preconnect",a,l)}function OF(a,l,d){lu.L(a,l,d);var v=rm;if(v&&a&&l){var w='link[rel="preload"][as="'+dn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+dn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+dn(d.imageSizes)+'"]')):w+='[href="'+dn(a)+'"]';var A=w;switch(l){case"style":A=sm(a);break;case"script":A=am(a)}Ho.has(A)||(a=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Ho.set(A,a),v.querySelector(w)!==null||l==="style"&&v.querySelector(av(A))||l==="script"&&v.querySelector(ov(A))||(l=v.createElement("link"),cs(l,"link",a),Oe(l),v.head.appendChild(l)))}}function UF(a,l){lu.m(a,l);var d=rm;if(d&&a){var v=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+dn(v)+'"][href="'+dn(a)+'"]',A=w;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=am(a)}if(!Ho.has(A)&&(a=g({rel:"modulepreload",href:a},l),Ho.set(A,a),d.querySelector(w)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ov(A)))return}v=d.createElement("link"),cs(v,"link",a),Oe(v),d.head.appendChild(v)}}}function zF(a,l,d){lu.S(a,l,d);var v=rm;if(v&&a){var w=fe(v).hoistableStyles,A=sm(a);l=l||"default";var B=w.get(A);if(!B){var W={loading:0,preload:null};if(B=v.querySelector(av(A)))W.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Ho.get(A))&&jw(a,d);var se=B=v.createElement("link");Oe(se),cs(se,"link",a),se._p=new Promise(function(xe,ke){se.onload=xe,se.onerror=ke}),se.addEventListener("load",function(){W.loading|=1}),se.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Zx(B,l,v)}B={type:"stylesheet",instance:B,count:1,state:W},w.set(A,B)}}}function kF(a,l){lu.X(a,l);var d=rm;if(d&&a){var v=fe(d).hoistableScripts,w=am(a),A=v.get(w);A||(A=d.querySelector(ov(w)),A||(a=g({src:a,async:!0},l),(l=Ho.get(w))&&Gw(a,l),A=d.createElement("script"),Oe(A),cs(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(w,A))}}function BF(a,l){lu.M(a,l);var d=rm;if(d&&a){var v=fe(d).hoistableScripts,w=am(a),A=v.get(w);A||(A=d.querySelector(ov(w)),A||(a=g({src:a,async:!0,type:"module"},l),(l=Ho.get(w))&&Gw(a,l),A=d.createElement("script"),Oe(A),cs(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(w,A))}}function G3(a,l,d,v){var w=(w=me.current)?Yx(w):null;if(!w)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=sm(d.href),d=fe(w).hoistableStyles,v=d.get(l),v||(v={type:"style",instance:null,count:0,state:null},d.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=sm(d.href);var A=fe(w).hoistableStyles,B=A.get(a);if(B||(w=w.ownerDocument||w,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,B),(A=w.querySelector(av(a)))&&!A._p&&(B.instance=A,B.state.loading=5),Ho.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ho.set(a,d),A||FF(w,a,d,B.state))),l&&v===null)throw Error(n(528,""));return B}if(l&&v!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=am(d),d=fe(w).hoistableScripts,v=d.get(l),v||(v={type:"script",instance:null,count:0,state:null},d.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function sm(a){return'href="'+dn(a)+'"'}function av(a){return'link[rel="stylesheet"]['+a+"]"}function W3(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function FF(a,l,d,v){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=a.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),cs(l,"link",d),Oe(l),a.head.appendChild(l))}function am(a){return'[src="'+dn(a)+'"]'}function ov(a){return"script[async]"+a}function X3(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var v=a.querySelector('style[data-href~="'+dn(d.href)+'"]');if(v)return l.instance=v,Oe(v),v;var w=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Oe(v),cs(v,"style",w),Zx(v,d.precedence,a),l.instance=v;case"stylesheet":w=sm(d.href);var A=a.querySelector(av(w));if(A)return l.state.loading|=4,l.instance=A,Oe(A),A;v=W3(d),(w=Ho.get(w))&&jw(v,w),A=(a.ownerDocument||a).createElement("link"),Oe(A);var B=A;return B._p=new Promise(function(W,se){B.onload=W,B.onerror=se}),cs(A,"link",v),l.state.loading|=4,Zx(A,d.precedence,a),l.instance=A;case"script":return A=am(d.src),(w=a.querySelector(ov(A)))?(l.instance=w,Oe(w),w):(v=d,(w=Ho.get(A))&&(v=g({},d),Gw(v,w)),a=a.ownerDocument||a,w=a.createElement("script"),Oe(w),cs(w,"link",v),a.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,Zx(v,d.precedence,a));return l.instance}function Zx(a,l,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=v.length?v[v.length-1]:null,A=w,B=0;B<v.length;B++){var W=v[B];if(W.dataset.precedence===l)A=W;else if(A!==w)break}A?A.parentNode.insertBefore(a,A.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function jw(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Gw(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var $x=null;function q3(a,l,d){if($x===null){var v=new Map,w=$x=new Map;w.set(d,v)}else w=$x,v=w.get(d),v||(v=new Map,w.set(d,v));if(v.has(a))return v;for(v.set(a,null),d=d.getElementsByTagName(a),w=0;w<d.length;w++){var A=d[w];if(!(A[Jn]||A[Jt]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var B=A.getAttribute(l)||"";B=a+B;var W=v.get(B);W?W.push(A):v.set(B,[A])}}return v}function Y3(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function VF(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Z3(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function HF(a,l,d,v){if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=sm(v.href),A=l.querySelector(av(w));if(A){l=A._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Kx.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=A,Oe(A);return}A=l.ownerDocument||l,v=W3(v),(w=Ho.get(w))&&jw(v,w),A=A.createElement("link"),Oe(A);var B=A;B._p=new Promise(function(W,se){B.onload=W,B.onerror=se}),cs(A,"link",v),d.instance=A}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Kx.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var Ww=0;function jF(a,l){return a.stylesheets&&a.count===0&&Jx(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var v=setTimeout(function(){if(a.stylesheets&&Jx(a,a.stylesheets),a.unsuspend){var A=a.unsuspend;a.unsuspend=null,A()}},6e4+l);0<a.imgBytes&&Ww===0&&(Ww=62500*MF());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Jx(a,a.stylesheets),a.unsuspend)){var A=a.unsuspend;a.unsuspend=null,A()}},(a.imgBytes>Ww?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(v),clearTimeout(w)}}:null}function Kx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jx(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qx=null;function Jx(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qx=new Map,l.forEach(GF,a),Qx=null,Kx.call(a))}function GF(a,l){if(!(l.state.loading&4)){var d=Qx.get(a);if(d)var v=d.get(null);else{d=new Map,Qx.set(a,d);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var B=w[A];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(d.set(B.dataset.precedence,B),v=B)}v&&d.set(null,v)}w=l.instance,B=w.getAttribute("data-precedence"),A=d.get(B)||v,A===v&&d.set(null,w),d.set(B,w),this.count++,v=Kx.bind(this),w.addEventListener("load",v),w.addEventListener("error",v),A?A.parentNode.insertBefore(w,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),l.state.loading|=4}}var lv={$$typeof:D,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function WF(a,l,d,v,w,A,B,W,se){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.hiddenUpdates=ht(null),this.identifierPrefix=v,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function $3(a,l,d,v,w,A,B,W,se,xe,ke,Ve){return a=new WF(a,l,d,B,se,xe,ke,Ve,W),l=1,A===!0&&(l|=24),A=Ri(3,null,null,l),a.current=A,A.stateNode=a,l=h0(),l.refCount++,a.pooledCache=l,l.refCount++,A.memoizedState={element:v,isDehydrated:d,cache:l},Oh(A),a}function K3(a){return a?(a=Wl,a):Wl}function Q3(a,l,d,v,w,A){w=K3(w),v.context===null?v.context=w:v.pendingContext=w,v=hl(l),v.payload={element:d},A=A===void 0?null:A,A!==null&&(v.callback=A),d=Jl(a,v,l),d!==null&&(gn(d,a,l),ec(d,a,l))}function J3(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Xw(a,l){J3(a,l),(a=a.alternate)&&J3(a,l)}function eN(a){if(a.tag===13||a.tag===31){var l=ns(a,67108864);l!==null&&gn(l,a,67108864),Xw(a,67108864)}}function tN(a){if(a.tag===13||a.tag===31){var l=Ks();l=Vt(l);var d=ns(a,l);d!==null&&gn(d,a,l),Xw(a,l)}}var eb=!0;function XF(a,l,d,v){var w=q.T;q.T=null;var A=J.p;try{J.p=2,qw(a,l,d,v)}finally{J.p=A,q.T=w}}function qF(a,l,d,v){var w=q.T;q.T=null;var A=J.p;try{J.p=8,qw(a,l,d,v)}finally{J.p=A,q.T=w}}function qw(a,l,d,v){if(eb){var w=Yw(v);if(w===null)Pw(a,l,v,tb,d),iN(a,v);else if(ZF(w,a,l,d,v))v.stopPropagation();else if(iN(a,v),l&4&&-1<YF.indexOf(a)){for(;w!==null;){var A=_e(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var B=He(A.pendingLanes);if(B!==0){var W=A;for(W.pendingLanes|=2,W.entangledLanes|=2;B;){var se=1<<31-ft(B);W.entanglements[1]|=se,B&=~se}tt(A),(zt&6)===0&&(Wi=V()+500,_t(0))}}break;case 31:case 13:W=ns(A,2),W!==null&&gn(W,A,2),Qa(),Xw(A,2)}if(A=Yw(v),A===null&&Pw(a,l,v,tb,d),A===w)break;w=A}w!==null&&v.stopPropagation()}else Pw(a,l,v,null,d)}}function Yw(a){return a=ip(a),Zw(a)}var tb=null;function Zw(a){if(tb=null,a=ue(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===31){if(a=c(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return tb=a,null}function nN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case Ee:return 2;case Ue:return 8;case Te:case lt:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var $w=!1,wf=null,Ef=null,Tf=null,cv=new Map,uv=new Map,Af=[],YF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iN(a,l){switch(a){case"focusin":case"focusout":wf=null;break;case"dragenter":case"dragleave":Ef=null;break;case"mouseover":case"mouseout":Tf=null;break;case"pointerover":case"pointerout":cv.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":uv.delete(l.pointerId)}}function fv(a,l,d,v,w,A){return a===null||a.nativeEvent!==A?(a={blockedOn:l,domEventName:d,eventSystemFlags:v,nativeEvent:A,targetContainers:[w]},l!==null&&(l=_e(l),l!==null&&eN(l)),a):(a.eventSystemFlags|=v,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function ZF(a,l,d,v,w){switch(l){case"focusin":return wf=fv(wf,a,l,d,v,w),!0;case"dragenter":return Ef=fv(Ef,a,l,d,v,w),!0;case"mouseover":return Tf=fv(Tf,a,l,d,v,w),!0;case"pointerover":var A=w.pointerId;return cv.set(A,fv(cv.get(A)||null,a,l,d,v,w)),!0;case"gotpointercapture":return A=w.pointerId,uv.set(A,fv(uv.get(A)||null,a,l,d,v,w)),!0}return!1}function rN(a){var l=ue(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,Fn(a.priority,function(){tN(d)});return}}else if(l===31){if(l=c(d),l!==null){a.blockedOn=l,Fn(a.priority,function(){tN(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function nb(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Yw(a.nativeEvent);if(d===null){d=a.nativeEvent;var v=new d.constructor(d.type,d);np=v,d.target.dispatchEvent(v),np=null}else return l=_e(d),l!==null&&eN(l),a.blockedOn=d,!1;l.shift()}return!0}function sN(a,l,d){nb(a)&&d.delete(l)}function $F(){$w=!1,wf!==null&&nb(wf)&&(wf=null),Ef!==null&&nb(Ef)&&(Ef=null),Tf!==null&&nb(Tf)&&(Tf=null),cv.forEach(sN),uv.forEach(sN)}function ib(a,l){a.blockedOn===l&&(a.blockedOn=null,$w||($w=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$F)))}var rb=null;function aN(a){rb!==a&&(rb=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rb===a&&(rb=null);for(var l=0;l<a.length;l+=3){var d=a[l],v=a[l+1],w=a[l+2];if(typeof v!="function"){if(Zw(v||d)===null)continue;break}var A=_e(d);A!==null&&(a.splice(l,3),l-=3,B0(A,{pending:!0,data:w,method:d.method,action:v},v,w))}}))}function om(a){function l(se){return ib(se,a)}wf!==null&&ib(wf,a),Ef!==null&&ib(Ef,a),Tf!==null&&ib(Tf,a),cv.forEach(l),uv.forEach(l);for(var d=0;d<Af.length;d++){var v=Af[d];v.blockedOn===a&&(v.blockedOn=null)}for(;0<Af.length&&(d=Af[0],d.blockedOn===null);)rN(d),d.blockedOn===null&&Af.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var w=d[v],A=d[v+1],B=w[rn]||null;if(typeof A=="function")B||aN(d);else if(B){var W=null;if(A&&A.hasAttribute("formAction")){if(w=A,B=A[rn]||null)W=B.formAction;else if(Zw(w)!==null)continue}else W=B.action;typeof W=="function"?d[v+1]=W:(d.splice(v,3),v-=3),aN(d)}}}function oN(){function a(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(B){return w=B})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),v||setTimeout(d,20)}function d(){if(!v&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){v=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function Kw(a){this._internalRoot=a}sb.prototype.render=Kw.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,v=Ks();Q3(d,v,a,l,null,null)},sb.prototype.unmount=Kw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Q3(a.current,2,null,a,null,null),Qa(),l[bn]=null}};function sb(a){this._internalRoot=a}sb.prototype.unstable_scheduleHydration=function(a){if(a){var l=nn();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Af.length&&l!==0&&l<Af[d].priority;d++);Af.splice(d,0,a),d===0&&rN(a)}};var lN=e.version;if(lN!=="19.2.3")throw Error(n(527,lN,"19.2.3"));J.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=p(l),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var KF={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ab=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ab.isDisabled&&ab.supportsFiber)try{Xe=ab.inject(KF),nt=ab}catch{}}return dv.createRoot=function(a,l){if(!r(a))throw Error(n(299));var d=!1,v="",w=zx,A=W0,B=X0;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError)),l=$3(a,1,!1,null,null,d,v,null,w,A,B,oN),a[bn]=l.current,Lw(a),new Kw(l)},dv.hydrateRoot=function(a,l,d){if(!r(a))throw Error(n(299));var v=!1,w="",A=zx,B=W0,W=X0,se=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(A=d.onUncaughtError),d.onCaughtError!==void 0&&(B=d.onCaughtError),d.onRecoverableError!==void 0&&(W=d.onRecoverableError),d.formState!==void 0&&(se=d.formState)),l=$3(a,1,!0,l,d??null,v,w,se,A,B,W,oN),l.context=K3(null),d=l.current,v=Ks(),v=Vt(v),w=hl(v),w.callback=null,Jl(d,w,v),d=v,l.current.lanes=d,wt(l,d),tt(l),a[bn]=l.current,Lw(a),new sb(l)},dv.version="19.2.3",dv}var yN;function a5(){if(yN)return eE.exports;yN=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),eE.exports=s5(),eE.exports}var o5=a5();const l5=mM(o5);var _N="popstate";function c5(i={}){function e(n,r){let{pathname:s,search:o,hash:c}=n.location;return YT("",{pathname:s,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:by(r)}return f5(e,t,null,i)}function er(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Il(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u5(){return Math.random().toString(36).substring(2,10)}function xN(i,e){return{usr:i.state,key:i.key,idx:e}}function YT(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Tg(e):e,state:t,key:e&&e.key||n||u5()}}function by({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Tg(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function f5(i,e,t,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,c="POP",h=null,p=m();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function m(){return(o.state||{idx:null}).idx}function g(){c="POP";let E=m(),M=E==null?null:E-p;p=E,h&&h({action:c,location:T.location,delta:M})}function _(E,M){c="PUSH";let R=YT(T.location,E,M);p=m()+1;let D=xN(R,p),L=T.createHref(R);try{o.pushState(D,"",L)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(L)}s&&h&&h({action:c,location:T.location,delta:1})}function x(E,M){c="REPLACE";let R=YT(T.location,E,M);p=m();let D=xN(R,p),L=T.createHref(R);o.replaceState(D,"",L),s&&h&&h({action:c,location:T.location,delta:0})}function b(E){return h5(E)}let T={get action(){return c},get location(){return i(r,o)},listen(E){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(_N,g),h=E,()=>{r.removeEventListener(_N,g),h=null}},createHref(E){return e(r,E)},createURL:b,encodeLocation(E){let M=b(E);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:x,go(E){return o.go(E)}};return T}function h5(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),er(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:by(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function QI(i,e,t="/"){return d5(i,e,t,!1)}function d5(i,e,t,n){let r=typeof e=="string"?Tg(e):e,s=Ru(r.pathname||"/",t);if(s==null)return null;let o=JI(i);p5(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let p=E5(s);c=M5(o[h],p,n)}return c}function JI(i,e=[],t=[],n="",r=!1){let s=(o,c,h=r,p)=>{let m={relativePath:p===void 0?o.path||"":p,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&h)return;er(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let g=Su([n,m.relativePath]),_=t.concat(m);o.children&&o.children.length>0&&(er(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),JI(o.children,e,_,g,h)),!(o.path==null&&!o.index)&&e.push({path:g,score:b5(g,o.index),routesMeta:_})};return i.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let h of eO(o.path))s(o,c,!0,h)}),e}function eO(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=eO(n.join("/")),c=[];return c.push(...o.map(h=>h===""?s:[s,h].join("/"))),r&&c.push(...o),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function p5(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:S5(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var m5=/^:[\w-]+$/,g5=3,v5=2,y5=1,_5=10,x5=-2,bN=i=>i==="*";function b5(i,e){let t=i.split("/"),n=t.length;return t.some(bN)&&(n+=x5),e&&(n+=v5),t.filter(r=>!bN(r)).reduce((r,s)=>r+(m5.test(s)?g5:s===""?y5:_5),n)}function S5(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function M5(i,e,t=!1){let{routesMeta:n}=i,r={},s="/",o=[];for(let c=0;c<n.length;++c){let h=n[c],p=c===n.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=YS({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),_=h.route;if(!g&&p&&t&&!n[n.length-1].route.index&&(g=YS({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(r,g.params),o.push({params:r,pathname:Su([s,g.pathname]),pathnameBase:R5(Su([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Su([s,g.pathnameBase]))}return o}function YS(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=w5(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((p,{paramName:m,isOptional:g},_)=>{if(m==="*"){let b=c[_]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[_];return g&&!x?p[m]=void 0:p[m]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:o,pattern:i}}function w5(i,e=!1,t=!0){Il(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function E5(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Il(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ru(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}var tO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T5=i=>tO.test(i);function A5(i,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?Tg(i):i,s;if(t)if(T5(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Il(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=SN(t.substring(1),"/"):s=SN(t,e)}else s=e;return{pathname:s,search:N5(n),hash:D5(r)}}function SN(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function rE(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C5(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nO(i){let e=C5(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function iO(i,e,t,n=!1){let r;typeof i=="string"?r=Tg(i):(r={...i},er(!r.pathname||!r.pathname.includes("?"),rE("?","pathname","search",r)),er(!r.pathname||!r.pathname.includes("#"),rE("#","pathname","hash",r)),er(!r.search||!r.search.includes("#"),rE("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=t;else{let g=e.length-1;if(!n&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),g-=1;r.pathname=_.join("/")}c=g>=0?e[g]:"/"}let h=A5(r,c),p=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Su=i=>i.join("/").replace(/\/\/+/g,"/"),R5=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),N5=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,D5=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,L5=class{constructor(i,e,t,n=!1){this.status=i,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function P5(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function I5(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sO(i,e){let t=i;if(typeof t!="string"||!tO.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,r=!1;if(rO)try{let s=new URL(window.location.href),o=t.startsWith("//")?new URL(s.protocol+t):new URL(t),c=Ru(o.pathname,e);o.origin===s.origin&&c!=null?t=c+o.search+o.hash:r=!0}catch{Il(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aO=["POST","PUT","PATCH","DELETE"];new Set(aO);var O5=["GET",...aO];new Set(O5);var Ag=j.createContext(null);Ag.displayName="DataRouter";var gM=j.createContext(null);gM.displayName="DataRouterState";var U5=j.createContext(!1),oO=j.createContext({isTransitioning:!1});oO.displayName="ViewTransition";var z5=j.createContext(new Map);z5.displayName="Fetchers";var k5=j.createContext(null);k5.displayName="Await";var tl=j.createContext(null);tl.displayName="Navigation";var i_=j.createContext(null);i_.displayName="Location";var ku=j.createContext({outlet:null,matches:[],isDataRoute:!1});ku.displayName="Route";var xC=j.createContext(null);xC.displayName="RouteError";var lO="REACT_ROUTER_ERROR",B5="REDIRECT",F5="ROUTE_ERROR_RESPONSE";function V5(i){if(i.startsWith(`${lO}:${B5}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function H5(i){if(i.startsWith(`${lO}:${F5}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new L5(e.status,e.statusText,e.data)}catch{}}function j5(i,{relative:e}={}){er(r_(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=j.useContext(tl),{hash:r,pathname:s,search:o}=s_(i,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Su([t,s])),n.createHref({pathname:c,search:o,hash:r})}function r_(){return j.useContext(i_)!=null}function nl(){return er(r_(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(i_).location}var cO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uO(i){j.useContext(tl).static||j.useLayoutEffect(i)}function vM(){let{isDataRoute:i}=j.useContext(ku);return i?nV():G5()}function G5(){er(r_(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(Ag),{basename:e,navigator:t}=j.useContext(tl),{matches:n}=j.useContext(ku),{pathname:r}=nl(),s=JSON.stringify(nO(n)),o=j.useRef(!1);return uO(()=>{o.current=!0}),j.useCallback((h,p={})=>{if(Il(o.current,cO),!o.current)return;if(typeof h=="number"){t.go(h);return}let m=iO(h,JSON.parse(s),r,p.relative==="path");i==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Su([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,s,r,i])}j.createContext(null);function s_(i,{relative:e}={}){let{matches:t}=j.useContext(ku),{pathname:n}=nl(),r=JSON.stringify(nO(t));return j.useMemo(()=>iO(i,JSON.parse(r),n,e==="path"),[i,r,n,e])}function W5(i,e){return fO(i,e)}function fO(i,e,t,n,r){er(r_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(tl),{matches:o}=j.useContext(ku),c=o[o.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";dO(p,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=nl(),x;if(e){let R=typeof e=="string"?Tg(e):e;er(m==="/"||R.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${R.pathname}" was given in the \`location\` prop.`),x=R}else x=_;let b=x.pathname||"/",T=b;if(m!=="/"){let R=m.replace(/^\//,"").split("/");T="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=QI(i,{pathname:T});Il(g||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Il(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=$5(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:Su([m,s.encodeLocation?s.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Su([m,s.encodeLocation?s.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),o,t,n,r);return e&&M?j.createElement(i_.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function X5(){let i=tV(),e=P5(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:r},t):null,o)}var q5=j.createElement(X5,null),hO=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=H5(i.digest);t&&(i=t)}let e=i!==void 0?j.createElement(ku.Provider,{value:this.props.routeContext},j.createElement(xC.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?j.createElement(Y5,{error:i},e):e}};hO.contextType=U5;var sE=new WeakMap;function Y5({children:i,error:e}){let{basename:t}=j.useContext(tl);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=V5(e.digest);if(n){let r=sE.get(e);if(r)throw r;let s=sO(n.location,t);if(rO&&!sE.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw sE.set(e,o),o}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return i}function Z5({routeContext:i,match:e,children:t}){let n=j.useContext(Ag);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ku.Provider,{value:i},t)}function $5(i,e=[],t=null,n=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let s=i,o=t?.errors;if(o!=null){let m=s.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);er(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,h=-1;if(t)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:_,errors:x}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||b){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}let p=t&&n?(m,g)=>{n(m,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:I5(t.matches),errorInfo:g})}:void 0;return s.reduceRight((m,g,_)=>{let x,b=!1,T=null,E=null;t&&(x=o&&g.route.id?o[g.route.id]:void 0,T=g.route.errorElement||q5,c&&(h<0&&_===0?(dO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):h===_&&(b=!0,E=g.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,_+1)),R=()=>{let D;return x?D=T:b?D=E:g.route.Component?D=j.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=m,j.createElement(Z5,{match:g,routeContext:{outlet:m,matches:M,isDataRoute:t!=null},children:D})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?j.createElement(hO,{location:t.location,revalidation:t.revalidation,component:T,error:x,children:R(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):R()},null)}function bC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K5(i){let e=j.useContext(Ag);return er(e,bC(i)),e}function Q5(i){let e=j.useContext(gM);return er(e,bC(i)),e}function J5(i){let e=j.useContext(ku);return er(e,bC(i)),e}function SC(i){let e=J5(i),t=e.matches[e.matches.length-1];return er(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function eV(){return SC("useRouteId")}function tV(){let i=j.useContext(xC),e=Q5("useRouteError"),t=SC("useRouteError");return i!==void 0?i:e.errors?.[t]}function nV(){let{router:i}=K5("useNavigate"),e=SC("useNavigate"),t=j.useRef(!1);return uO(()=>{t.current=!0}),j.useCallback(async(r,s={})=>{Il(t.current,cO),t.current&&(typeof r=="number"?await i.navigate(r):await i.navigate(r,{fromRouteId:e,...s}))},[i,e])}var MN={};function dO(i,e,t){!e&&!MN[i]&&(MN[i]=!0,Il(!1,t))}j.memo(iV);function iV({routes:i,future:e,state:t,onError:n}){return fO(i,void 0,t,n,e)}function Ns(i){er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rV({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:s=!1,unstable_useTransitions:o}){er(!r_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:c,navigator:r,static:s,unstable_useTransitions:o,future:{}}),[c,r,s,o]);typeof t=="string"&&(t=Tg(t));let{pathname:p="/",search:m="",hash:g="",state:_=null,key:x="default"}=t,b=j.useMemo(()=>{let T=Ru(p,c);return T==null?null:{location:{pathname:T,search:m,hash:g,state:_,key:x},navigationType:n}},[c,p,m,g,_,x,n]);return Il(b!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(tl.Provider,{value:h},j.createElement(i_.Provider,{children:e,value:b}))}function sV({children:i,location:e}){return W5(ZT(i),e)}function ZT(i,e=[]){let t=[];return j.Children.forEach(i,(n,r)=>{if(!j.isValidElement(n))return;let s=[...e,r];if(n.type===j.Fragment){t.push.apply(t,ZT(n.props.children,s));return}er(n.type===Ns,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),er(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ZT(n.props.children,s)),t.push(o)}),t}var MS="get",wS="application/x-www-form-urlencoded";function yM(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function aV(i){return yM(i)&&i.tagName.toLowerCase()==="button"}function oV(i){return yM(i)&&i.tagName.toLowerCase()==="form"}function lV(i){return yM(i)&&i.tagName.toLowerCase()==="input"}function cV(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uV(i,e){return i.button===0&&(!e||e==="_self")&&!cV(i)}var ob=null;function fV(){if(ob===null)try{new FormData(document.createElement("form"),0),ob=!1}catch{ob=!0}return ob}var hV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function aE(i){return i!=null&&!hV.has(i)?(Il(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wS}"`),null):i}function dV(i,e){let t,n,r,s,o;if(oV(i)){let c=i.getAttribute("action");n=c?Ru(c,e):null,t=i.getAttribute("method")||MS,r=aE(i.getAttribute("enctype"))||wS,s=new FormData(i)}else if(aV(i)||lV(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?Ru(h,e):null,t=i.getAttribute("formmethod")||c.getAttribute("method")||MS,r=aE(i.getAttribute("formenctype"))||aE(c.getAttribute("enctype"))||wS,s=new FormData(c,i),!fV()){let{name:p,type:m,value:g}=i;if(m==="image"){let _=p?`${p}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else p&&s.append(p,g)}}else{if(yM(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=MS,n=null,r=wS,o=i}return s&&r==="text/plain"&&(o=s,s=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function MC(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function pV(i,e,t,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${n}`:r.pathname=`${r.pathname}.${n}`:r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ru(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function mV(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gV(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function vV(i,e,t){let n=await Promise.all(i.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await mV(s,t);return o.links?o.links():[]}return[]}));return bV(n.flat(1).filter(gV).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function wN(i,e,t,n,r,s){let o=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,p)=>o(h,p)||c(h,p)):s==="data"?e.filter((h,p)=>{let m=n.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(o(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function yV(i,e,{includeHydrateFallback:t}={}){return _V(i.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function _V(i){return[...new Set(i)]}function xV(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function bV(i,e){let t=new Set;return new Set(e),i.reduce((n,r)=>{let s=JSON.stringify(xV(r));return t.has(s)||(t.add(s),n.push({key:s,link:r})),n},[])}function pO(){let i=j.useContext(Ag);return MC(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function SV(){let i=j.useContext(gM);return MC(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var wC=j.createContext(void 0);wC.displayName="FrameworkContext";function mO(){let i=j.useContext(wC);return MC(i,"You must render this element inside a <HydratedRouter> element"),i}function MV(i,e){let t=j.useContext(wC),[n,r]=j.useState(!1),[s,o]=j.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:g}=e,_=j.useRef(null);j.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let T=M=>{M.forEach(R=>{o(R.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[i]),j.useEffect(()=>{if(n){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[n]);let x=()=>{r(!0)},b=()=>{r(!1),o(!1)};return t?i!=="intent"?[s,_,{}]:[s,_,{onFocus:pv(c,x),onBlur:pv(h,b),onMouseEnter:pv(p,x),onMouseLeave:pv(m,b),onTouchStart:pv(g,x)}]:[!1,_,{}]}function pv(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function wV({page:i,...e}){let{router:t}=pO(),n=j.useMemo(()=>QI(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?j.createElement(TV,{page:i,matches:n,...e}):null}function EV(i){let{manifest:e,routeModules:t}=mO(),[n,r]=j.useState([]);return j.useEffect(()=>{let s=!1;return vV(i,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[i,e,t]),n}function TV({page:i,matches:e,...t}){let n=nl(),{future:r,manifest:s,routeModules:o}=mO(),{basename:c}=pO(),{loaderData:h,matches:p}=SV(),m=j.useMemo(()=>wN(i,e,p,s,n,"data"),[i,e,p,s,n]),g=j.useMemo(()=>wN(i,e,p,s,n,"assets"),[i,e,p,s,n]),_=j.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let T=new Set,E=!1;if(e.forEach(R=>{let D=s.routes[R.route.id];!D||!D.hasLoader||(!m.some(L=>L.route.id===R.route.id)&&R.route.id in h&&o[R.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:T.add(R.route.id))}),T.size===0)return[];let M=pV(i,c,r.unstable_trailingSlashAwareDataRequests,"data");return E&&T.size>0&&M.searchParams.set("_routes",e.filter(R=>T.has(R.route.id)).map(R=>R.route.id).join(",")),[M.pathname+M.search]},[c,r.unstable_trailingSlashAwareDataRequests,h,n,s,m,e,i,o]),x=j.useMemo(()=>yV(g,s),[g,s]),b=EV(g);return j.createElement(j.Fragment,null,_.map(T=>j.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),x.map(T=>j.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),b.map(({key:T,link:E})=>j.createElement("link",{key:T,nonce:t.nonce,...E})))}function AV(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CV&&(window.__reactRouterVersion="7.12.0")}catch{}function RV({basename:i,children:e,unstable_useTransitions:t,window:n}){let r=j.useRef();r.current==null&&(r.current=c5({window:n,v5Compat:!0}));let s=r.current,[o,c]=j.useState({action:s.action,location:s.location}),h=j.useCallback(p=>{t===!1?c(p):j.startTransition(()=>c(p))},[t]);return j.useLayoutEffect(()=>s.listen(h),[s,h]),j.createElement(rV,{basename:i,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:t})}var gO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vO=j.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:s,replace:o,state:c,target:h,to:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:_,...x},b){let{basename:T,unstable_useTransitions:E}=j.useContext(tl),M=typeof p=="string"&&gO.test(p),R=sO(p,T);p=R.to;let D=j5(p,{relative:r}),[L,I,z]=MV(n,x),k=PV(p,{replace:o,state:c,target:h,preventScrollReset:m,relative:r,viewTransition:g,unstable_defaultShouldRevalidate:_,unstable_useTransitions:E});function F(U){e&&e(U),U.defaultPrevented||k(U)}let O=j.createElement("a",{...x,...z,href:R.absoluteURL||D,onClick:R.isExternal||s?e:F,ref:AV(b,I),target:h,"data-discover":!M&&t==="render"?"true":void 0});return L&&!M?j.createElement(j.Fragment,null,O,j.createElement(wV,{page:D})):O});vO.displayName="Link";var NV=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:s,to:o,viewTransition:c,children:h,...p},m){let g=s_(o,{relative:p.relative}),_=nl(),x=j.useContext(gM),{navigator:b,basename:T}=j.useContext(tl),E=x!=null&&kV(g)&&c===!0,M=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,R=_.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(R=R.toLowerCase(),D=D?D.toLowerCase():null,M=M.toLowerCase()),D&&T&&(D=Ru(D,T)||D);const L=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let I=R===M||!r&&R.startsWith(M)&&R.charAt(L)==="/",z=D!=null&&(D===M||!r&&D.startsWith(M)&&D.charAt(M.length)==="/"),k={isActive:I,isPending:z,isTransitioning:E},F=I?e:void 0,O;typeof n=="function"?O=n(k):O=[n,I?"active":null,z?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(k):s;return j.createElement(vO,{...p,"aria-current":F,className:O,ref:m,style:U,to:o,viewTransition:c},typeof h=="function"?h(k):h)});NV.displayName="NavLink";var DV=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:s,method:o=MS,action:c,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:_,...x},b)=>{let{unstable_useTransitions:T}=j.useContext(tl),E=UV(),M=zV(c,{relative:p}),R=o.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&gO.test(c),L=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let z=I.nativeEvent.submitter,k=z?.getAttribute("formmethod")||o,F=()=>E(z||I.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:r,state:s,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:_});T&&t!==!1?j.startTransition(()=>F()):F()};return j.createElement("form",{ref:b,method:R,action:M,onSubmit:n?h:L,...x,"data-discover":!D&&i==="render"?"true":void 0})});DV.displayName="Form";function LV(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yO(i){let e=j.useContext(Ag);return er(e,LV(i)),e}function PV(i,{target:e,replace:t,state:n,preventScrollReset:r,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:h}={}){let p=vM(),m=nl(),g=s_(i,{relative:s});return j.useCallback(_=>{if(uV(_,e)){_.preventDefault();let x=t!==void 0?t:by(m)===by(g),b=()=>p(i,{replace:x,state:n,preventScrollReset:r,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:c});h?j.startTransition(()=>b()):b()}},[m,p,g,t,n,e,i,r,s,o,c,h])}var IV=0,OV=()=>`__${String(++IV)}__`;function UV(){let{router:i}=yO("useSubmit"),{basename:e}=j.useContext(tl),t=eV(),n=i.fetch,r=i.navigate;return j.useCallback(async(s,o={})=>{let{action:c,method:h,encType:p,formData:m,body:g}=dV(s,e);if(o.navigate===!1){let _=o.fetcherKey||OV();await n(_,t,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,r,e,t])}function zV(i,{relative:e}={}){let{basename:t}=j.useContext(tl),n=j.useContext(ku);er(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...s_(i||".",{relative:e})},o=nl();if(i==null){s.search=o.search;let c=new URLSearchParams(s.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();s.search=m?`?${m}`:""}}return(!i||i===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Su([t,s.pathname])),by(s)}function kV(i,{relative:e}={}){let t=j.useContext(oO);er(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=yO("useViewTransitionState"),r=s_(i,{relative:e});if(!t.isTransitioning)return!1;let s=Ru(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Ru(t.nextLocation.pathname,n)||t.nextLocation.pathname;return YS(r.pathname,o)!=null||YS(r.pathname,s)!=null}var oE={exports:{}},lE={};var EN;function BV(){if(EN)return lE;EN=1;var i=Eg();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var t=typeof Object.is=="function"?Object.is:e,n=i.useSyncExternalStore,r=i.useRef,s=i.useEffect,o=i.useMemo,c=i.useDebugValue;return lE.useSyncExternalStoreWithSelector=function(h,p,m,g,_){var x=r(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function E(I){if(!M){if(M=!0,R=I,I=g(I),_!==void 0&&b.hasValue){var z=b.value;if(_(z,I))return D=z}return D=I}if(z=D,t(R,I))return z;var k=g(I);return _!==void 0&&_(z,k)?(R=I,z):(R=I,D=k)}var M=!1,R,D,L=m===void 0?null:m;return[function(){return E(p())},L===null?void 0:function(){return E(L())}]},[p,m,g,_]);var T=n(h,x[0],x[1]);return s(function(){b.hasValue=!0,b.value=T},[T]),c(T),T},lE}var TN;function FV(){return TN||(TN=1,oE.exports=BV()),oE.exports}FV();function VV(i){i()}function HV(){let i=null,e=null;return{clear(){i=null,e=null},notify(){VV(()=>{let t=i;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=i;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:i=r,function(){!n||i===null||(n=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:i=r.next)}}}}var AN={notify(){},get:()=>[]};function jV(i,e){let t,n=AN,r=0,s=!1;function o(T){m();const E=n.subscribe(T);let M=!1;return()=>{M||(M=!0,E(),g())}}function c(){n.notify()}function h(){b.onStateChange&&b.onStateChange()}function p(){return s}function m(){r++,t||(t=i.subscribe(h),n=HV())}function g(){r--,t&&r===0&&(t(),t=void 0,n.clear(),n=AN)}function _(){s||(s=!0,m())}function x(){s&&(s=!1,g())}const b={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:p,trySubscribe:_,tryUnsubscribe:x,getListeners:()=>n};return b}var GV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WV=GV(),XV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qV=XV(),YV=()=>WV||qV?j.useLayoutEffect:j.useEffect,ZV=YV(),$V=Symbol.for("react-redux-context"),KV=typeof globalThis<"u"?globalThis:{};function QV(){if(!j.createContext)return{};const i=KV[$V]??=new Map;let e=i.get(j.createContext);return e||(e=j.createContext(null),i.set(j.createContext,e)),e}var JV=QV();function eH(i){const{children:e,context:t,serverState:n,store:r}=i,s=j.useMemo(()=>{const h=jV(r);return{store:r,subscription:h,getServerState:n?()=>n:void 0}},[r,n]),o=j.useMemo(()=>r.getState(),[r]);ZV(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),o!==r.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,o]);const c=t||JV;return j.createElement(c.Provider,{value:s},e)}var tH=eH;function us(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var nH=typeof Symbol=="function"&&Symbol.observable||"@@observable",CN=nH,cE=()=>Math.random().toString(36).substring(7).split("").join("."),iH={INIT:`@@redux/INIT${cE()}`,REPLACE:`@@redux/REPLACE${cE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cE()}`},ZS=iH;function EC(i){if(typeof i!="object"||i===null)return!1;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e||Object.getPrototypeOf(i)===null}function _O(i,e,t){if(typeof i!="function")throw new Error(us(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(us(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(us(1));return t(_O)(i,e)}let n=i,r=e,s=new Map,o=s,c=0,h=!1;function p(){o===s&&(o=new Map,s.forEach((E,M)=>{o.set(M,E)}))}function m(){if(h)throw new Error(us(3));return r}function g(E){if(typeof E!="function")throw new Error(us(4));if(h)throw new Error(us(5));let M=!0;p();const R=c++;return o.set(R,E),function(){if(M){if(h)throw new Error(us(6));M=!1,p(),o.delete(R),s=null}}}function _(E){if(!EC(E))throw new Error(us(7));if(typeof E.type>"u")throw new Error(us(8));if(typeof E.type!="string")throw new Error(us(17));if(h)throw new Error(us(9));try{h=!0,r=n(r,E)}finally{h=!1}return(s=o).forEach(R=>{R()}),E}function x(E){if(typeof E!="function")throw new Error(us(10));n=E,_({type:ZS.REPLACE})}function b(){const E=g;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(us(11));function R(){const L=M;L.next&&L.next(m())}return R(),{unsubscribe:E(R)}},[CN](){return this}}}return _({type:ZS.INIT}),{dispatch:_,subscribe:g,getState:m,replaceReducer:x,[CN]:b}}function rH(i){Object.keys(i).forEach(e=>{const t=i[e];if(typeof t(void 0,{type:ZS.INIT})>"u")throw new Error(us(12));if(typeof t(void 0,{type:ZS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(us(13))})}function sH(i){const e=Object.keys(i),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof i[o]=="function"&&(t[o]=i[o])}const n=Object.keys(t);let r;try{rH(t)}catch(s){r=s}return function(o={},c){if(r)throw r;let h=!1;const p={};for(let m=0;m<n.length;m++){const g=n[m],_=t[g],x=o[g],b=_(x,c);if(typeof b>"u")throw c&&c.type,new Error(us(14));p[g]=b,h=h||b!==x}return h=h||n.length!==Object.keys(o).length,h?p:o}}function $S(...i){return i.length===0?e=>e:i.length===1?i[0]:i.reduce((e,t)=>(...n)=>e(t(...n)))}function aH(...i){return e=>(t,n)=>{const r=e(t,n);let s=()=>{throw new Error(us(15))};const o={getState:r.getState,dispatch:(h,...p)=>s(h,...p)},c=i.map(h=>h(o));return s=$S(...c)(r.dispatch),{...r,dispatch:s}}}function oH(i){return EC(i)&&"type"in i&&typeof i.type=="string"}var xO=Symbol.for("immer-nothing"),RN=Symbol.for("immer-draftable"),da=Symbol.for("immer-state");function Nl(i,...e){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var oo=Object,sg=oo.getPrototypeOf,KS="constructor",_M="prototype",$T="configurable",QS="enumerable",ES="writable",Sy="value",Nu=i=>!!i&&!!i[da];function Ol(i){return i?bO(i)||bM(i)||!!i[RN]||!!i[KS]?.[RN]||SM(i)||MM(i):!1}var lH=oo[_M][KS].toString(),NN=new WeakMap;function bO(i){if(!i||!TC(i))return!1;const e=sg(i);if(e===null||e===oo[_M])return!0;const t=oo.hasOwnProperty.call(e,KS)&&e[KS];if(t===Object)return!0;if(!Um(t))return!1;let n=NN.get(t);return n===void 0&&(n=Function.toString.call(t),NN.set(t,n)),n===lH}function xM(i,e,t=!0){a_(i)===0?(t?Reflect.ownKeys(i):oo.keys(i)).forEach(r=>{e(r,i[r],i)}):i.forEach((n,r)=>e(r,n,i))}function a_(i){const e=i[da];return e?e.type_:bM(i)?1:SM(i)?2:MM(i)?3:0}var DN=(i,e,t=a_(i))=>t===2?i.has(e):oo[_M].hasOwnProperty.call(i,e),KT=(i,e,t=a_(i))=>t===2?i.get(e):i[e],JS=(i,e,t,n=a_(i))=>{n===2?i.set(e,t):n===3?i.add(t):i[e]=t};function cH(i,e){return i===e?i!==0||1/i===1/e:i!==i&&e!==e}var bM=Array.isArray,SM=i=>i instanceof Map,MM=i=>i instanceof Set,TC=i=>typeof i=="object",Um=i=>typeof i=="function",uE=i=>typeof i=="boolean";function uH(i){const e=+i;return Number.isInteger(e)&&String(e)===i}var gu=i=>i.copy_||i.base_,AC=i=>i.modified_?i.copy_:i.base_;function QT(i,e){if(SM(i))return new Map(i);if(MM(i))return new Set(i);if(bM(i))return Array[_M].slice.call(i);const t=bO(i);if(e===!0||e==="class_only"&&!t){const n=oo.getOwnPropertyDescriptors(i);delete n[da];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const o=r[s],c=n[o];c[ES]===!1&&(c[ES]=!0,c[$T]=!0),(c.get||c.set)&&(n[o]={[$T]:!0,[ES]:!0,[QS]:c[QS],[Sy]:i[o]})}return oo.create(sg(i),n)}else{const n=sg(i);if(n!==null&&t)return{...i};const r=oo.create(n);return oo.assign(r,i)}}function CC(i,e=!1){return wM(i)||Nu(i)||!Ol(i)||(a_(i)>1&&oo.defineProperties(i,{set:lb,add:lb,clear:lb,delete:lb}),oo.freeze(i),e&&xM(i,(t,n)=>{CC(n,!0)},!1)),i}function fH(){Nl(2)}var lb={[Sy]:fH};function wM(i){return i===null||!TC(i)?!0:oo.isFrozen(i)}var e1="MapSet",JT="Patches",LN="ArrayMethods",SO={};function Hd(i){const e=SO[i];return e||Nl(0,i),e}var PN=i=>!!SO[i],My,MO=()=>My,hH=(i,e)=>({drafts_:[],parent_:i,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:PN(e1)?Hd(e1):void 0,arrayMethodsPlugin_:PN(LN)?Hd(LN):void 0});function IN(i,e){e&&(i.patchPlugin_=Hd(JT),i.patches_=[],i.inversePatches_=[],i.patchListener_=e)}function eA(i){tA(i),i.drafts_.forEach(dH),i.drafts_=null}function tA(i){i===My&&(My=i.parent_)}var ON=i=>My=hH(My,i);function dH(i){const e=i[da];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UN(i,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(i!==void 0&&i!==t){t[da].modified_&&(eA(e),Nl(4)),Ol(i)&&(i=zN(e,i));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[da].base_,i,e)}else i=zN(e,t);return pH(e,i,!0),eA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),i!==xO?i:void 0}function zN(i,e){if(wM(e))return e;const t=e[da];if(!t)return t1(e,i.handledSet_,i);if(!EM(t,i))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:n}=t;if(n)for(;n.length>0;)n.pop()(i);TO(t,i)}return t.copy_}function pH(i,e,t=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&CC(e,t)}function wO(i){i.finalized_=!0,i.scope_.unfinalizedDrafts_--}var EM=(i,e)=>i.scope_===e,mH=[];function EO(i,e,t,n){const r=gu(i),s=i.type_;if(n!==void 0&&KT(r,n,s)===e){JS(r,n,t,s);return}if(!i.draftLocations_){const c=i.draftLocations_=new Map;xM(r,(h,p)=>{if(Nu(p)){const m=c.get(p)||[];m.push(h),c.set(p,m)}})}const o=i.draftLocations_.get(e)??mH;for(const c of o)JS(r,c,t,s)}function gH(i,e,t){i.callbacks_.push(function(r){const s=e;if(!s||!EM(s,r))return;r.mapSetPlugin_?.fixSetContents(s);const o=AC(s);EO(i,s.draft_??s,o,t),TO(s,r)})}function TO(i,e){if(i.modified_&&!i.finalized_&&(i.type_===3||i.type_===1&&i.allIndicesReassigned_||(i.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const r=n.getPath(i);r&&n.generatePatches_(i,r,e)}wO(i)}}function vH(i,e,t){const{scope_:n}=i;if(Nu(t)){const r=t[da];EM(r,n)&&r.callbacks_.push(function(){TS(i);const o=AC(r);EO(i,t,o,e)})}else Ol(t)&&i.callbacks_.push(function(){const s=gu(i);i.type_===3?s.has(t)&&t1(t,n.handledSet_,n):KT(s,e,i.type_)===t&&n.drafts_.length>1&&(i.assigned_.get(e)??!1)===!0&&i.copy_&&t1(KT(i.copy_,e,i.type_),n.handledSet_,n)})}function t1(i,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Nu(i)||e.has(i)||!Ol(i)||wM(i)||(e.add(i),xM(i,(n,r)=>{if(Nu(r)){const s=r[da];if(EM(s,t)){const o=AC(s);JS(i,n,o,i.type_),wO(s)}}else Ol(r)&&t1(r,e,t)})),i}function yH(i,e){const t=bM(i),n={type_:t?1:0,scope_:e?e.scope_:MO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=n,s=n1;t&&(r=[n],s=wy);const{revoke:o,proxy:c}=Proxy.revocable(r,s);return n.draft_=c,n.revoke_=o,[c,n]}var n1={get(i,e){if(e===da)return i;let t=i.scope_.arrayMethodsPlugin_;const n=i.type_===1&&typeof e=="string";if(n&&t?.isArrayOperationMethod(e))return t.createMethodInterceptor(i,e);const r=gu(i);if(!DN(r,e,i.type_))return _H(i,r,e);const s=r[e];if(i.finalized_||!Ol(s)||n&&i.operationMethod&&t?.isMutatingArrayMethod(i.operationMethod)&&uH(e))return s;if(s===fE(i.base_,e)){TS(i);const o=i.type_===1?+e:e,c=iA(i.scope_,s,i,o);return i.copy_[o]=c}return s},has(i,e){return e in gu(i)},ownKeys(i){return Reflect.ownKeys(gu(i))},set(i,e,t){const n=AO(gu(i),e);if(n?.set)return n.set.call(i.draft_,t),!0;if(!i.modified_){const r=fE(gu(i),e),s=r?.[da];if(s&&s.base_===t)return i.copy_[e]=t,i.assigned_.set(e,!1),!0;if(cH(t,r)&&(t!==void 0||DN(i.base_,e,i.type_)))return!0;TS(i),nA(i)}return i.copy_[e]===t&&(t!==void 0||e in i.copy_)||Number.isNaN(t)&&Number.isNaN(i.copy_[e])||(i.copy_[e]=t,i.assigned_.set(e,!0),vH(i,e,t)),!0},deleteProperty(i,e){return TS(i),fE(i.base_,e)!==void 0||e in i.base_?(i.assigned_.set(e,!1),nA(i)):i.assigned_.delete(e),i.copy_&&delete i.copy_[e],!0},getOwnPropertyDescriptor(i,e){const t=gu(i),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{[ES]:!0,[$T]:i.type_!==1||e!=="length",[QS]:n[QS],[Sy]:t[e]}},defineProperty(){Nl(11)},getPrototypeOf(i){return sg(i.base_)},setPrototypeOf(){Nl(12)}},wy={};for(let i in n1){let e=n1[i];wy[i]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}wy.deleteProperty=function(i,e){return wy.set.call(this,i,e,void 0)};wy.set=function(i,e,t){return n1.set.call(this,i[0],e,t,i[0])};function fE(i,e){const t=i[da];return(t?gu(t):i)[e]}function _H(i,e,t){const n=AO(e,t);return n?Sy in n?n[Sy]:n.get?.call(i.draft_):void 0}function AO(i,e){if(!(e in i))return;let t=sg(i);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=sg(t)}}function nA(i){i.modified_||(i.modified_=!0,i.parent_&&nA(i.parent_))}function TS(i){i.copy_||(i.assigned_=new Map,i.copy_=QT(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var xH=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(Um(e)&&!Um(t)){const s=t;t=e;const o=this;return function(h=s,...p){return o.produce(h,m=>t.call(this,m,...p))}}Um(t)||Nl(6),n!==void 0&&!Um(n)&&Nl(7);let r;if(Ol(e)){const s=ON(this),o=iA(s,e,void 0);let c=!0;try{r=t(o),c=!1}finally{c?eA(s):tA(s)}return IN(s,n),UN(r,s)}else if(!e||!TC(e)){if(r=t(e),r===void 0&&(r=e),r===xO&&(r=void 0),this.autoFreeze_&&CC(r,!0),n){const s=[],o=[];Hd(JT).generateReplacementPatches_(e,r,{patches_:s,inversePatches_:o}),n(s,o)}return r}else Nl(1,e)},this.produceWithPatches=(e,t)=>{if(Um(e))return(o,...c)=>this.produceWithPatches(o,h=>e(h,...c));let n,r;return[this.produce(e,t,(o,c)=>{n=o,r=c}),n,r]},uE(i?.autoFreeze)&&this.setAutoFreeze(i.autoFreeze),uE(i?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(i.useStrictShallowCopy),uE(i?.useStrictIteration)&&this.setUseStrictIteration(i.useStrictIteration)}createDraft(i){Ol(i)||Nl(8),Nu(i)&&(i=bH(i));const e=ON(this),t=iA(e,i,void 0);return t[da].isManual_=!0,tA(e),t}finishDraft(i,e){const t=i&&i[da];(!t||!t.isManual_)&&Nl(9);const{scope_:n}=t;return IN(n,e),UN(void 0,n)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}setUseStrictIteration(i){this.useStrictIteration_=i}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(i,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){i=r.value;break}}t>-1&&(e=e.slice(t+1));const n=Hd(JT).applyPatches_;return Nu(i)?n(i,e):this.produce(i,r=>n(r,e))}};function iA(i,e,t,n){const[r,s]=SM(e)?Hd(e1).proxyMap_(e,t):MM(e)?Hd(e1).proxySet_(e,t):yH(e,t);return(t?.scope_??MO()).drafts_.push(r),s.callbacks_=t?.callbacks_??[],s.key_=n,t&&n!==void 0?gH(t,s,n):s.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:p}=h;s.modified_&&p&&p.generatePatches_(s,[],h)}),r}function bH(i){return Nu(i)||Nl(10,i),CO(i)}function CO(i){if(!Ol(i)||wM(i))return i;const e=i[da];let t,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=QT(i,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else t=QT(i,!0);return xM(t,(r,s)=>{JS(t,r,CO(s))},n),e&&(e.finalized_=!1),t}var SH=new xH,RO=SH.produce;function NO(i){return({dispatch:t,getState:n})=>r=>s=>typeof s=="function"?s(t,n,i):r(s)}var MH=NO(),wH=NO,EH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$S:$S.apply(null,arguments)},TH=i=>i&&typeof i.match=="function";function Xv(i,e){function t(...n){if(e){let r=e(...n);if(!r)throw new Error(Mu(0));return{type:i,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:i,payload:n[0]}}return t.toString=()=>`${i}`,t.type=i,t.match=n=>oH(n)&&n.type===i,t}var DO=class Pv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pv.prototype)}static get[Symbol.species](){return Pv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pv(...e[0].concat(this)):new Pv(...e.concat(this))}};function kN(i){return Ol(i)?RO(i,()=>{}):i}function cb(i,e,t){return i.has(e)?i.get(e):i.set(e,t(e)).get(e)}function AH(i){return typeof i=="boolean"}var CH=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let o=new DO;return t&&(AH(t)?o.push(MH):o.push(wH(t.extraArgument))),o},RH="RTK_autoBatch",BN=i=>e=>{setTimeout(e,i)},NH=(i={type:"raf"})=>e=>(...t)=>{const n=e(...t);let r=!0,s=!1,o=!1;const c=new Set,h=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BN(10):i.type==="callback"?i.queueNotification:BN(i.timeout),p=()=>{o=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>r&&m(),_=n.subscribe(g);return c.add(m),()=>{_(),c.delete(m)}},dispatch(m){try{return r=!m?.meta?.[RH],s=!r,s&&(o||(o=!0,h(p))),n.dispatch(m)}finally{r=!0}}})},DH=i=>function(t){const{autoBatch:n=!0}=t??{};let r=new DO(i);return n&&r.push(NH(typeof n=="object"?n:void 0)),r};function LH(i){const e=CH(),{reducer:t=void 0,middleware:n,devTools:r=!0,preloadedState:s=void 0,enhancers:o=void 0}=i||{};let c;if(typeof t=="function")c=t;else if(EC(t))c=sH(t);else throw new Error(Mu(1));let h;typeof n=="function"?h=n(e):h=e();let p=$S;r&&(p=EH({trace:!1,...typeof r=="object"&&r}));const m=aH(...h),g=DH(m);let _=typeof o=="function"?o(g):g();const x=p(..._);return _O(c,s,x)}function LO(i){const e={},t=[];let n;const r={addCase(s,o){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Mu(28));if(c in e)throw new Error(Mu(29));return e[c]=o,r},addAsyncThunk(s,o){return o.pending&&(e[s.pending.type]=o.pending),o.rejected&&(e[s.rejected.type]=o.rejected),o.fulfilled&&(e[s.fulfilled.type]=o.fulfilled),o.settled&&t.push({matcher:s.settled,reducer:o.settled}),r},addMatcher(s,o){return t.push({matcher:s,reducer:o}),r},addDefaultCase(s){return n=s,r}};return i(r),[e,t,n]}function PH(i){return typeof i=="function"}function IH(i,e){let[t,n,r]=LO(e),s;if(PH(i))s=()=>kN(i());else{const c=kN(i);s=()=>c}function o(c=s(),h){let p=[t[h.type],...n.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return p.filter(m=>!!m).length===0&&(p=[r]),p.reduce((m,g)=>{if(g)if(Nu(m)){const x=g(m,h);return x===void 0?m:x}else{if(Ol(m))return RO(m,_=>g(_,h));{const _=g(m,h);if(_===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return m},c)}return o.getInitialState=s,o}var OH=(i,e)=>TH(i)?i.match(e):i(e);function UH(...i){return e=>i.some(t=>OH(t,e))}var zH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kH=(i=21)=>{let e="",t=i;for(;t--;)e+=zH[Math.random()*64|0];return e},BH=["name","message","stack","code"],hE=class{constructor(i,e){this.payload=i,this.meta=e}_type},FN=class{constructor(i,e){this.payload=i,this.meta=e}_type},FH=i=>{if(typeof i=="object"&&i!==null){const e={};for(const t of BH)typeof i[t]=="string"&&(e[t]=i[t]);return e}return{message:String(i)}},VN="External signal was aborted",VH=(()=>{function i(e,t,n){const r=Xv(e+"/fulfilled",(h,p,m,g)=>({payload:h,meta:{...g||{},arg:m,requestId:p,requestStatus:"fulfilled"}})),s=Xv(e+"/pending",(h,p,m)=>({payload:void 0,meta:{...m||{},arg:p,requestId:h,requestStatus:"pending"}})),o=Xv(e+"/rejected",(h,p,m,g,_)=>({payload:g,error:(n&&n.serializeError||FH)(h||"Rejected"),meta:{..._||{},arg:m,requestId:p,rejectedWithValue:!!g,requestStatus:"rejected",aborted:h?.name==="AbortError",condition:h?.name==="ConditionError"}}));function c(h,{signal:p}={}){return(m,g,_)=>{const x=n?.idGenerator?n.idGenerator(h):kH(),b=new AbortController;let T,E;function M(D){E=D,b.abort()}p&&(p.aborted?M(VN):p.addEventListener("abort",()=>M(VN),{once:!0}));const R=(async function(){let D;try{let I=n?.condition?.(h,{getState:g,extra:_});if(jH(I)&&(I=await I),I===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const z=new Promise((k,F)=>{T=()=>{F({name:"AbortError",message:E||"Aborted"})},b.signal.addEventListener("abort",T,{once:!0})});m(s(x,h,n?.getPendingMeta?.({requestId:x,arg:h},{getState:g,extra:_}))),D=await Promise.race([z,Promise.resolve(t(h,{dispatch:m,getState:g,extra:_,requestId:x,signal:b.signal,abort:M,rejectWithValue:(k,F)=>new hE(k,F),fulfillWithValue:(k,F)=>new FN(k,F)})).then(k=>{if(k instanceof hE)throw k;return k instanceof FN?r(k.payload,x,h,k.meta):r(k,x,h)})])}catch(I){D=I instanceof hE?o(null,x,h,I.payload,I.meta):o(I,x,h)}finally{T&&b.signal.removeEventListener("abort",T)}return n&&!n.dispatchConditionRejection&&o.match(D)&&D.meta.condition||m(D),D})();return Object.assign(R,{abort:M,requestId:x,arg:h,unwrap(){return R.then(HH)}})}}return Object.assign(c,{pending:s,rejected:o,fulfilled:r,settled:UH(o,r),typePrefix:e})}return i.withTypes=()=>i,i})();function HH(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function jH(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var GH=Symbol.for("rtk-slice-createasyncthunk");function WH(i,e){return`${i}/${e}`}function XH({creators:i}={}){const e=i?.asyncThunk?.[GH];return function(n){const{name:r,reducerPath:s=r}=n;if(!r)throw new Error(Mu(11));const o=(typeof n.reducers=="function"?n.reducers(ZH()):n.reducers)||{},c=Object.keys(o),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(D,L){const I=typeof D=="string"?D:D.type;if(!I)throw new Error(Mu(12));if(I in h.sliceCaseReducersByType)throw new Error(Mu(13));return h.sliceCaseReducersByType[I]=L,p},addMatcher(D,L){return h.sliceMatchers.push({matcher:D,reducer:L}),p},exposeAction(D,L){return h.actionCreators[D]=L,p},exposeCaseReducer(D,L){return h.sliceCaseReducersByName[D]=L,p}};c.forEach(D=>{const L=o[D],I={reducerName:D,type:WH(r,D),createNotation:typeof n.reducers=="function"};KH(L)?JH(I,L,p,e):$H(I,L,p)});function m(){const[D={},L=[],I=void 0]=typeof n.extraReducers=="function"?LO(n.extraReducers):[n.extraReducers],z={...D,...h.sliceCaseReducersByType};return IH(n.initialState,k=>{for(let F in z)k.addCase(F,z[F]);for(let F of h.sliceMatchers)k.addMatcher(F.matcher,F.reducer);for(let F of L)k.addMatcher(F.matcher,F.reducer);I&&k.addDefaultCase(I)})}const g=D=>D,_=new Map,x=new WeakMap;let b;function T(D,L){return b||(b=m()),b(D,L)}function E(){return b||(b=m()),b.getInitialState()}function M(D,L=!1){function I(k){let F=k[D];return typeof F>"u"&&L&&(F=cb(x,I,E)),F}function z(k=g){const F=cb(_,L,()=>new WeakMap);return cb(F,k,()=>{const O={};for(const[U,X]of Object.entries(n.selectors??{}))O[U]=qH(X,k,()=>cb(x,k,E),L);return O})}return{reducerPath:D,getSelectors:z,get selectors(){return z(I)},selectSlice:I}}const R={name:r,reducer:T,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:E,...M(s),injectInto(D,{reducerPath:L,...I}={}){const z=L??s;return D.inject({reducerPath:z,reducer:T},I),{...R,...M(z,!0)}}};return R}}function qH(i,e,t,n){function r(s,...o){let c=e(s);return typeof c>"u"&&n&&(c=t()),i(c,...o)}return r.unwrapped=i,r}var YH=XH();function ZH(){function i(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return i.withTypes=()=>i,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:i}}function $H({type:i,reducerName:e,createNotation:t},n,r){let s,o;if("reducer"in n){if(t&&!QH(n))throw new Error(Mu(17));s=n.reducer,o=n.prepare}else s=n;r.addCase(i,s).exposeCaseReducer(e,s).exposeAction(e,o?Xv(i,o):Xv(i))}function KH(i){return i._reducerDefinitionType==="asyncThunk"}function QH(i){return i._reducerDefinitionType==="reducerWithPrepare"}function JH({type:i,reducerName:e},t,n,r){if(!r)throw new Error(Mu(18));const{payloadCreator:s,fulfilled:o,pending:c,rejected:h,settled:p,options:m}=t,g=r(i,s,m);n.exposeAction(e,g),o&&n.addCase(g.fulfilled,o),c&&n.addCase(g.pending,c),h&&n.addCase(g.rejected,h),p&&n.addMatcher(g.settled,p),n.exposeCaseReducer(e,{fulfilled:o||ub,pending:c||ub,rejected:h||ub,settled:p||ub})}function ub(){}function Mu(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const e6={points:[{color:[.36,.75,1],pos:[.45,.55,0]},{color:[.36,.47,1],pos:[.55,.55,0]},{color:[.96,.22,1],pos:[.5,.45,0]}],loading:!1,error:null},dE=VH("colorPoints/fetch",async(i,{rejectWithValue:e})=>{try{return await new Promise(t=>setTimeout(t,500)),[{color:[.36,.75,1],pos:[.45,.55,0]},{color:[.36,.47,1],pos:[.55,.55,0]},{color:[.96,.22,1],pos:[.5,.45,0]}]}catch(t){return e(t.message)}}),PO=YH({name:"colorPoints",initialState:e6,reducers:{setPoints:(i,e)=>{i.points=e.payload},addPoint:(i,e)=>{i.points.push(e.payload)},removePoint:(i,e)=>{i.points.splice(e.payload,1)},updatePointPosition:(i,e)=>{const{index:t,pos:n}=e.payload;i.points[t]&&(i.points[t].pos=n)},updatePointColor:(i,e)=>{const{index:t,color:n}=e.payload;i.points[t]&&(i.points[t].color=n)}},extraReducers:i=>{i.addCase(dE.pending,e=>{e.loading=!0,e.error=null}).addCase(dE.fulfilled,(e,t)=>{e.loading=!1,e.points=t.payload}).addCase(dE.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{setPoints:uie,addPoint:fie,removePoint:hie,updatePointPosition:die,updatePointColor:pie}=PO.actions,t6=PO.reducer,n6=LH({reducer:{colorPoints:t6}}),IO=j.createContext(),lh=()=>{const i=j.useContext(IO);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i},i6=({children:i})=>{const[e,t]=j.useState("dark");j.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const c=document.querySelector('meta[name="theme-color"]');c&&c.setAttribute("content",e==="dark"?"#030108":"#ffffff")},[e]);const s={theme:e,toggleTheme:()=>{t(o=>o==="light"?"dark":"light")},setTheme:o=>{["light","dark"].includes(o)&&t(o)},isDark:e==="dark",isLight:e==="light"};return C.jsx(IO.Provider,{value:s,children:i})};function OO(i,e,t){return Math.max(i,Math.min(e,t))}class r6{advance(e){if(!this.isRunning)return;let t=!1;if(this.lerp)this.value=(n=this.value,r=this.to,s=60*this.lerp,o=e,(function(c,h,p){return(1-p)*c+p*h})(n,r,1-Math.exp(-s*o))),Math.round(this.value)===this.to&&(this.value=this.to,t=!0);else{this.currentTime+=e;const c=OO(0,this.currentTime/this.duration,1);t=c>=1;const h=t?1:this.easing(c);this.value=this.from+(this.to-this.from)*h}var n,r,s,o;this.onUpdate?.(this.value,t),t&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,{lerp:n=.1,duration:r=1,easing:s=(h=>h),onStart:o,onUpdate:c}){this.from=this.value=e,this.to=t,this.lerp=n,this.duration=r,this.easing=s,this.currentTime=0,this.isRunning=!0,o?.(),this.onUpdate=c}}class s6{constructor({wrapper:e,content:t,autoResize:n=!0,debounce:r=250}={}){this.wrapper=e,this.content=t,n&&(this.debouncedResize=(function(s,o){let c;return function(){let h=arguments,p=this;clearTimeout(c),c=setTimeout((function(){s.apply(p,h)}),o)}})(this.resize,r),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class UO{constructor(){this.events={}}emit(e,...t){let n=this.events[e]||[];for(let r=0,s=n.length;r<s;r++)n[r](...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter((n=>t!==n))}}off(e,t){this.events[e]=this.events[e]?.filter((n=>t!==n))}destroy(){this.events={}}}const HN=100/6;class a6{constructor(e,{wheelMultiplier:t=1,touchMultiplier:n=1}){this.element=e,this.wheelMultiplier=t,this.touchMultiplier=n,this.touchStart={x:null,y:null},this.emitter=new UO,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,r=-(t-this.touchStart.x)*this.touchMultiplier,s=-(n-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:r,y:s},this.emitter.emit("scroll",{deltaX:r,deltaY:s,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:n,deltaMode:r}=e;t*=r===1?HN:r===2?this.windowWidth:1,n*=r===1?HN:r===2?this.windowHeight:1,t*=this.wheelMultiplier,n*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class o6{constructor({wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:n=e,eventsTarget:r=n,smoothWheel:s=!0,syncTouch:o=!1,syncTouchLerp:c=.075,touchInertiaMultiplier:h=35,duration:p,easing:m=(D=>Math.min(1,1.001-Math.pow(2,-10*D))),lerp:g=!p&&.1,infinite:_=!1,orientation:x="vertical",gestureOrientation:b="vertical",touchMultiplier:T=1,wheelMultiplier:E=1,autoResize:M=!0,__experimental__naiveDimensions:R=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:D,deltaY:L,event:I})=>{if(I.ctrlKey)return;const z=I.type.includes("touch"),k=I.type.includes("wheel");if(this.options.syncTouch&&z&&I.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const F=D===0&&L===0,O=this.options.gestureOrientation==="vertical"&&L===0||this.options.gestureOrientation==="horizontal"&&D===0;if(F||O)return;let U=I.composedPath();if(U=U.slice(0,U.indexOf(this.rootElement)),U.find((oe=>{var le,q,J,ie,pe;return((le=oe.hasAttribute)===null||le===void 0?void 0:le.call(oe,"data-lenis-prevent"))||z&&((q=oe.hasAttribute)===null||q===void 0?void 0:q.call(oe,"data-lenis-prevent-touch"))||k&&((J=oe.hasAttribute)===null||J===void 0?void 0:J.call(oe,"data-lenis-prevent-wheel"))||((ie=oe.classList)===null||ie===void 0?void 0:ie.contains("lenis"))&&!(!((pe=oe.classList)===null||pe===void 0)&&pe.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void I.preventDefault();if(this.isSmooth=this.options.syncTouch&&z||this.options.smoothWheel&&k,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();I.preventDefault();let X=L;this.options.gestureOrientation==="both"?X=Math.abs(L)>Math.abs(D)?L:D:this.options.gestureOrientation==="horizontal"&&(X=D);const K=z&&this.options.syncTouch,ne=z&&I.type==="touchend"&&Math.abs(X)>5;ne&&(X=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+X,Object.assign({programmatic:!1},K?{lerp:ne?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const D=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-D),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:n,eventsTarget:r,smoothWheel:s,syncTouch:o,syncTouchLerp:c,touchInertiaMultiplier:h,duration:p,easing:m,lerp:g,infinite:_,gestureOrientation:b,orientation:x,touchMultiplier:T,wheelMultiplier:E,autoResize:M,__experimental__naiveDimensions:R},this.animate=new r6,this.emitter=new UO,this.dimensions=new s6({wrapper:e,content:t,autoResize:M}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||s,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new a6(r,{touchMultiplier:T,wheelMultiplier:E}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:n=!1,lock:r=!1,duration:s=this.options.duration,easing:o=this.options.easing,lerp:c=!s&&this.options.lerp,onComplete:h,force:p=!1,programmatic:m=!0}={}){if(!this.isStopped&&!this.isLocked||p){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let g;if(typeof e=="string"?g=document.querySelector(e):e?.nodeType&&(g=e),g){if(this.options.wrapper!==window){const x=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?x.left:x.top}const _=g.getBoundingClientRect();e=(this.isHorizontal?_.left:_.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?m&&(this.targetScroll=this.animatedScroll=this.scroll):e=OO(0,e,this.limit),n)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(h==null||h(this));if(!m){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:s,easing:o,lerp:c,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(g,_)=>{this.isScrolling=!0,this.velocity=g-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=g,this.setScroll(this.scroll),m&&(this.targetScroll=g),_||this.emit(),_&&(this.reset(),this.emit(),h?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,t=this.limit,(e%t+t)%t):this.animatedScroll;var e,t}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}function mu(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function zO(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var fo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ag={duration:.5,overwrite:!1,delay:0},RC,ds,Fi,Zo=1e8,xi=1/Zo,rA=Math.PI*2,l6=rA/4,c6=0,kO=Math.sqrt,u6=Math.cos,f6=Math.sin,Jr=function(e){return typeof e=="string"},or=function(e){return typeof e=="function"},Du=function(e){return typeof e=="number"},NC=function(e){return typeof e>"u"},Rc=function(e){return typeof e=="object"},Fa=function(e){return e!==!1},DC=function(){return typeof window<"u"},fb=function(e){return or(e)||Jr(e)},BO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ks=Array.isArray,h6=/random\([^)]+\)/g,d6=/,\s*/g,jN=/(?:-?\.?\d|\.)+/gi,FO=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Bm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pE=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,VO=/[+-]=-?[.\d]+/,p6=/[^,'"\[\]\s]+/gi,m6=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$i,vc,sA,LC,mo={},i1={},HO,jO=function(e){return(i1=og(e,mo))&&Xa},PC=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Ey=function(e,t){return!t&&console.warn(e)},GO=function(e,t){return e&&(mo[e]=t)&&i1&&(i1[e]=t)||mo},Ty=function(){return 0},g6={suppressEvents:!0,isStart:!0,kill:!1},AS={suppressEvents:!0,kill:!1},v6={suppressEvents:!0},IC={},$f=[],aA={},WO,io={},mE={},GN=30,CS=[],OC="",UC=function(e){var t=e[0],n,r;if(Rc(t)||or(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=CS.length;r--&&!CS[r].targetTest(t););n=CS[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new mU(e[r],n)))||e.splice(r,1);return e},Dd=function(e){return e._gsap||UC($o(e))[0]._gsap},XO=function(e,t,n){return(n=e[t])&&or(n)?e[t]():NC(n)&&e.getAttribute&&e.getAttribute(t)||n},Va=function(e,t){return(e=e.split(",")).forEach(t)||e},vr=function(e){return Math.round(e*1e5)/1e5||0},Zi=function(e){return Math.round(e*1e7)/1e7||0},Km=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},y6=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},r1=function(){var e=$f.length,t=$f.slice(0),n,r;for(aA={},$f.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},zC=function(e){return!!(e._initted||e._startAt||e.add)},qO=function(e,t,n,r){$f.length&&!ds&&r1(),e.render(t,n,!!(ds&&t<0&&zC(e))),$f.length&&!ds&&r1()},YO=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(p6).length<2?t:Jr(e)?e.trim():e},ZO=function(e){return e},go=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_6=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},og=function(e,t){for(var n in t)e[n]=t[n];return e},WN=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Rc(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},s1=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},qv=function(e){var t=e.parent||$i,n=e.keyframes?_6(ks(e.keyframes)):go;if(Fa(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},x6=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},$O=function(e,t,n,r,s){var o=e[r],c;if(s)for(c=t[s];o&&o[s]>c;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},TM=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Jf=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ld=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},b6=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},oA=function(e,t,n,r){return e._startAt&&(ds?e._startAt.revert(AS):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},S6=function i(e){return!e||e._ts&&i(e.parent)},XN=function(e){return e._repeat?lg(e._tTime,e=e.duration()+e._rDelay)*e:0},lg=function(e,t){var n=Math.floor(e=Zi(e/t));return e&&n===e?n-1:n},a1=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},AM=function(e){return e._end=Zi(e._start+(e._tDur/Math.abs(e._ts||e._rts||xi)||0))},CM=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Zi(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),AM(e),n._dirty||Ld(n,e)),e},KO=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=a1(e.rawTime(),t),(!t._dur||o_(0,t.totalDuration(),n)-t._tTime>xi)&&t.render(n,!0)),Ld(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-xi}},_c=function(e,t,n,r){return t.parent&&Jf(t),t._start=Zi((Du(n)?n:n||e!==$i?Wo(e,n,t):e._time)+t._delay),t._end=Zi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),$O(e,t,"_first","_last",e._sort?"_start":0),lA(t)||(e._recent=t),r||KO(e,t),e._ts<0&&CM(e,e._tTime),e},QO=function(e,t){return(mo.ScrollTrigger||PC("scrollTrigger",t))&&mo.ScrollTrigger.create(t,e)},JO=function(e,t,n,r,s){if(BC(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!ds&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&WO!==so.frame)return $f.push(e),e._lazy=[s,r],1},M6=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},lA=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},w6=function(e,t,n,r){var s=e.ratio,o=t<0||!t&&(!e._start&&M6(e)&&!(!e._initted&&lA(e))||(e._ts<0||e._dp._ts<0)&&!lA(e))?0:1,c=e._rDelay,h=0,p,m,g;if(c&&e._repeat&&(h=o_(0,e._tDur,t),m=lg(h,c),e._yoyo&&m&1&&(o=1-o),m!==lg(e._tTime,c)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ds||r||e._zTime===xi||!t&&e._zTime){if(!e._initted&&JO(e,t,r,n,h))return;for(g=e._zTime,e._zTime=t||(n?xi:0),n||(n=t&&!g),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=h,p=e._pt;p;)p.r(o,p.d),p=p._next;t<0&&oA(e,t,n,!0),e._onUpdate&&!n&&lo(e,"onUpdate"),h&&e._repeat&&!n&&e.parent&&lo(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Jf(e,1),!n&&!ds&&(lo(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},E6=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},cg=function(e,t,n,r){var s=e._repeat,o=Zi(t)||0,c=e._tTime/e._tDur;return c&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Zi(o*(s+1)+e._rDelay*s):o,c>0&&!r&&CM(e,e._tTime=e._tDur*c),e.parent&&AM(e),n||Ld(e.parent,e),e},qN=function(e){return e instanceof oa?Ld(e):cg(e,e._dur)},T6={_start:0,endTime:Ty,totalDuration:Ty},Wo=function i(e,t,n){var r=e.labels,s=e._recent||T6,o=e.duration()>=Zo?s.endTime(!1):e._dur,c,h,p;return Jr(t)&&(isNaN(t)||t in r)?(h=t.charAt(0),p=t.substr(-1)==="%",c=t.indexOf("="),h==="<"||h===">"?(c>=0&&(t=t.replace(/=/,"")),(h==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(c<0?s:n).totalDuration()/100:1)):c<0?(t in r||(r[t]=o),r[t]):(h=parseFloat(t.charAt(c-1)+t.substr(c+1)),p&&n&&(h=h/100*(ks(n)?n[0]:n).totalDuration()),c>1?i(e,t.substr(0,c-1),n)+h:o+h)):t==null?o:+t},Yv=function(e,t,n){var r=Du(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],c,h;if(r&&(o.duration=t[1]),o.parent=n,e){for(c=o,h=n;h&&!("immediateRender"in c);)c=h.vars.defaults||{},h=Fa(h.vars.inherit)&&h.parent;o.immediateRender=Fa(c.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Cr(t[0],o,t[s+1])},ch=function(e,t){return e||e===0?t(e):t},o_=function(e,t,n){return n<e?e:n>t?t:n},Is=function(e,t){return!Jr(e)||!(t=m6.exec(e))?"":t[1]},A6=function(e,t,n){return ch(n,function(r){return o_(e,t,r)})},cA=[].slice,eU=function(e,t){return e&&Rc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Rc(e[0]))&&!e.nodeType&&e!==vc},C6=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return Jr(r)&&!t||eU(r,1)?(s=n).push.apply(s,$o(r)):n.push(r)})||n},$o=function(e,t,n){return Fi&&!t&&Fi.selector?Fi.selector(e):Jr(e)&&!n&&(sA||!ug())?cA.call((t||LC).querySelectorAll(e),0):ks(e)?C6(e,n):eU(e)?cA.call(e,0):e?[e]:[]},uA=function(e){return e=$o(e)[0]||Ey("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return $o(t,n.querySelectorAll?n:n===e?Ey("Invalid scope")||LC.createElement("div"):e)}},tU=function(e){return e.sort(function(){return .5-Math.random()})},nU=function(e){if(or(e))return e;var t=Rc(e)?e:{each:e},n=Pd(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},c=r>0&&r<1,h=isNaN(r)||c,p=t.axis,m=r,g=r;return Jr(r)?m=g={center:.5,edges:.5,end:1}[r]||0:!c&&h&&(m=r[0],g=r[1]),function(_,x,b){var T=(b||t).length,E=o[T],M,R,D,L,I,z,k,F,O;if(!E){if(O=t.grid==="auto"?0:(t.grid||[1,Zo])[1],!O){for(k=-Zo;k<(k=b[O++].getBoundingClientRect().left)&&O<T;);O<T&&O--}for(E=o[T]=[],M=h?Math.min(O,T)*m-.5:r%O,R=O===Zo?0:h?T*g/O-.5:r/O|0,k=0,F=Zo,z=0;z<T;z++)D=z%O-M,L=R-(z/O|0),E[z]=I=p?Math.abs(p==="y"?L:D):kO(D*D+L*L),I>k&&(k=I),I<F&&(F=I);r==="random"&&tU(E),E.max=k-F,E.min=F,E.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(O>T?T-1:p?p==="y"?T/O:O:Math.max(O,T/O))||0)*(r==="edges"?-1:1),E.b=T<0?s-T:s,E.u=Is(t.amount||t.each)||0,n=n&&T<0?hU(n):n}return T=(E[_]-E.min)/E.max||0,Zi(E.b+(n?n(T):T)*E.v)+E.u}},fA=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Zi(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Du(n)?0:Is(n))}},iU=function(e,t){var n=ks(e),r,s;return!n&&Rc(e)&&(r=n=e.radius||Zo,e.values?(e=$o(e.values),(s=!Du(e[0]))&&(r*=r)):e=fA(e.increment)),ch(t,n?or(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var c=parseFloat(s?o.x:o),h=parseFloat(s?o.y:0),p=Zo,m=0,g=e.length,_,x;g--;)s?(_=e[g].x-c,x=e[g].y-h,_=_*_+x*x):_=Math.abs(e[g]-c),_<p&&(p=_,m=g);return m=!r||p<=r?e[m]:o,s||m===o||Du(o)?m:m+Is(o)}:fA(e))},rU=function(e,t,n,r){return ch(ks(e)?!t:n===!0?!!(n=0):!r,function(){return ks(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},R6=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,o){return o(s)},r)}},N6=function(e,t){return function(n){return e(parseFloat(n))+(t||Is(n))}},D6=function(e,t,n){return aU(e,t,0,1,n)},sU=function(e,t,n){return ch(n,function(r){return e[~~t(r)]})},L6=function i(e,t,n){var r=t-e;return ks(e)?sU(e,i(0,e.length),t):ch(n,function(s){return(r+(s-e)%r)%r+e})},P6=function i(e,t,n){var r=t-e,s=r*2;return ks(e)?sU(e,i(0,e.length-1),t):ch(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},Ay=function(e){return e.replace(h6,function(t){var n=t.indexOf("[")+1,r=t.substring(n||7,n?t.indexOf("]"):t.length-1).split(d6);return rU(n?r:+r[0],n?0:+r[1],+r[2]||1e-5)})},aU=function(e,t,n,r,s){var o=t-e,c=r-n;return ch(s,function(h){return n+((h-e)/o*c||0)})},I6=function i(e,t,n,r){var s=isNaN(e+t)?0:function(x){return(1-x)*e+x*t};if(!s){var o=Jr(e),c={},h,p,m,g,_;if(n===!0&&(r=1)&&(n=null),o)e={p:e},t={p:t};else if(ks(e)&&!ks(t)){for(m=[],g=e.length,_=g-2,p=1;p<g;p++)m.push(i(e[p-1],e[p]));g--,s=function(b){b*=g;var T=Math.min(_,~~b);return m[T](b-T)},n=t}else r||(e=og(ks(e)?[]:{},e));if(!m){for(h in t)kC.call(c,e,h,"get",t[h]);s=function(b){return HC(b,c)||(o?e.p:e)}}}return ch(n,s)},YN=function(e,t,n){var r=e.labels,s=Zo,o,c,h;for(o in r)c=r[o]-t,c<0==!!n&&c&&s>(c=Math.abs(c))&&(h=o,s=c);return h},lo=function(e,t,n){var r=e.vars,s=r[t],o=Fi,c=e._ctx,h,p,m;if(s)return h=r[t+"Params"],p=r.callbackScope||e,n&&$f.length&&r1(),c&&(Fi=c),m=h?s.apply(p,h):s.call(p),Fi=o,m},Iv=function(e){return Jf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ds),e.progress()<1&&lo(e,"onInterrupt"),e},Fm,oU=[],lU=function(e){if(e)if(e=!e.name&&e.default||e,DC()||e.headless){var t=e.name,n=or(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:Ty,render:HC,add:kC,kill:$6,modifier:Z6,rawVars:0},o={targetTest:0,get:0,getSetter:VC,aliases:{},register:0};if(ug(),e!==r){if(io[t])return;go(r,go(s1(e,s),o)),og(r.prototype,og(s,s1(e,o))),io[r.prop=t]=r,e.targetTest&&(CS.push(r),IC[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}GO(t,r),e.register&&e.register(Xa,r,Ha)}else oU.push(e)},_i=255,Ov={aqua:[0,_i,_i],lime:[0,_i,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_i],navy:[0,0,128],white:[_i,_i,_i],olive:[128,128,0],yellow:[_i,_i,0],orange:[_i,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_i,0,0],pink:[_i,192,203],cyan:[0,_i,_i],transparent:[_i,_i,_i,0]},gE=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*_i+.5|0},cU=function(e,t,n){var r=e?Du(e)?[e>>16,e>>8&_i,e&_i]:0:Ov.black,s,o,c,h,p,m,g,_,x,b;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ov[e])r=Ov[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),c=e.charAt(3),e="#"+s+s+o+o+c+c+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&_i,r&_i,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&_i,e&_i]}else if(e.substr(0,3)==="hsl"){if(r=b=e.match(jN),!t)h=+r[0]%360/360,p=+r[1]/100,m=+r[2]/100,o=m<=.5?m*(p+1):m+p-m*p,s=m*2-o,r.length>3&&(r[3]*=1),r[0]=gE(h+1/3,s,o),r[1]=gE(h,s,o),r[2]=gE(h-1/3,s,o);else if(~e.indexOf("="))return r=e.match(FO),n&&r.length<4&&(r[3]=1),r}else r=e.match(jN)||Ov.transparent;r=r.map(Number)}return t&&!b&&(s=r[0]/_i,o=r[1]/_i,c=r[2]/_i,g=Math.max(s,o,c),_=Math.min(s,o,c),m=(g+_)/2,g===_?h=p=0:(x=g-_,p=m>.5?x/(2-g-_):x/(g+_),h=g===s?(o-c)/x+(o<c?6:0):g===o?(c-s)/x+2:(s-o)/x+4,h*=60),r[0]=~~(h+.5),r[1]=~~(p*100+.5),r[2]=~~(m*100+.5)),n&&r.length<4&&(r[3]=1),r},uU=function(e){var t=[],n=[],r=-1;return e.split(Kf).forEach(function(s){var o=s.match(Bm)||[];t.push.apply(t,o),n.push(r+=o.length+1)}),t.c=n,t},ZN=function(e,t,n){var r="",s=(e+r).match(Kf),o=t?"hsla(":"rgba(",c=0,h,p,m,g;if(!s)return e;if(s=s.map(function(_){return(_=cU(_,t,1))&&o+(t?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),n&&(m=uU(e),h=n.c,h.join(r)!==m.c.join(r)))for(p=e.replace(Kf,"1").split(Bm),g=p.length-1;c<g;c++)r+=p[c]+(~h.indexOf(c)?s.shift()||o+"0,0,0,0)":(m.length?m:s.length?s:n).shift());if(!p)for(p=e.split(Kf),g=p.length-1;c<g;c++)r+=p[c]+s[c];return r+p[g]},Kf=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ov)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),O6=/hsl[a]?\(/,fU=function(e){var t=e.join(" "),n;if(Kf.lastIndex=0,Kf.test(t))return n=O6.test(t),e[1]=ZN(e[1],n),e[0]=ZN(e[0],n,uU(e[1])),!0},Cy,so=(function(){var i=Date.now,e=500,t=33,n=i(),r=n,s=1e3/240,o=s,c=[],h,p,m,g,_,x,b=function T(E){var M=i()-r,R=E===!0,D,L,I,z;if((M>e||M<0)&&(n+=M-t),r+=M,I=r-n,D=I-o,(D>0||R)&&(z=++g.frame,_=I-g.time*1e3,g.time=I=I/1e3,o+=D+(D>=s?4:s-D),L=1),R||(h=p(T)),L)for(x=0;x<c.length;x++)c[x](I,_,z,E)};return g={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(E){return _/(1e3/(E||60))},wake:function(){HO&&(!sA&&DC()&&(vc=sA=window,LC=vc.document||{},mo.gsap=Xa,(vc.gsapVersions||(vc.gsapVersions=[])).push(Xa.version),jO(i1||vc.GreenSockGlobals||!vc.gsap&&vc||{}),oU.forEach(lU)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&g.sleep(),p=m||function(E){return setTimeout(E,o-g.time*1e3+1|0)},Cy=1,b(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(h),Cy=0,p=Ty},lagSmoothing:function(E,M){e=E||1/0,t=Math.min(M||33,e)},fps:function(E){s=1e3/(E||240),o=g.time*1e3+s},add:function(E,M,R){var D=M?function(L,I,z,k){E(L,I,z,k),g.remove(D)}:E;return g.remove(E),c[R?"unshift":"push"](D),ug(),D},remove:function(E,M){~(M=c.indexOf(E))&&c.splice(M,1)&&x>=M&&x--},_listeners:c},g})(),ug=function(){return!Cy&&so.wake()},jn={},U6=/^[\d.\-M][\d.\-,\s]/,z6=/["']/g,k6=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,o=n.length,c,h,p;s<o;s++)h=n[s],c=s!==o-1?h.lastIndexOf(","):h.length,p=h.substr(0,c),t[r]=isNaN(p)?p.replace(z6,"").trim():+p,r=h.substr(c+1).trim();return t},B6=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},F6=function(e){var t=(e+"").split("("),n=jn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[k6(t[1])]:B6(e).split(",").map(YO)):jn._CE&&U6.test(e)?jn._CE("",e):n},hU=function(e){return function(t){return 1-e(1-t)}},dU=function i(e,t){for(var n=e._first,r;n;)n instanceof oa?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},Pd=function(e,t){return e&&(or(e)?e:jn[e]||F6(e))||t},$d=function(e,t,n,r){n===void 0&&(n=function(h){return 1-t(1-h)}),r===void 0&&(r=function(h){return h<.5?t(h*2)/2:1-t((1-h)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},o;return Va(e,function(c){jn[c]=mo[c]=s,jn[o=c.toLowerCase()]=n;for(var h in s)jn[o+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=jn[c+"."+h]=s[h]}),s},pU=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},vE=function i(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/rA*(Math.asin(1/r)||0),c=function(m){return m===1?1:r*Math.pow(2,-10*m)*f6((m-o)*s)+1},h=e==="out"?c:e==="in"?function(p){return 1-c(1-p)}:pU(c);return s=rA/s,h.config=function(p,m){return i(e,p,m)},h},yE=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:pU(n);return r.config=function(s){return i(e,s)},r};Va("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;$d(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});jn.Linear.easeNone=jn.none=jn.Linear.easeIn;$d("Elastic",vE("in"),vE("out"),vE());(function(i,e){var t=1/e,n=2*t,r=2.5*t,s=function(c){return c<t?i*c*c:c<n?i*Math.pow(c-1.5/e,2)+.75:c<r?i*(c-=2.25/e)*c+.9375:i*Math.pow(c-2.625/e,2)+.984375};$d("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);$d("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});$d("Circ",function(i){return-(kO(1-i*i)-1)});$d("Sine",function(i){return i===1?1:-u6(i*l6)+1});$d("Back",yE("in"),yE("out"),yE());jn.SteppedEase=jn.steps=mo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,o=1-xi;return function(c){return((r*o_(0,o,c)|0)+s)*n}}};ag.ease=jn["quad.out"];Va("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return OC+=i+","+i+"Params,"});var mU=function(e,t){this.id=c6++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:XO,this.set=t?t.getSetter:VC},Ry=(function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,cg(this,+t.duration,1,1),this.data=t.data,Fi&&(this._ctx=Fi,Fi.data.push(this)),Cy||so.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,cg(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(ug(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(CM(this,n),!s._dp||s.parent||KO(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&_c(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===xi||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),qO(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+XN(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+XN(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?lg(this._tTime,s)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-xi?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?a1(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-xi?0:this._rts,this.totalTime(o_(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),AM(this),b6(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ug(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==xi&&(this._tTime-=xi)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=Zi(n);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&_c(r,this,this._start-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Fa(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?a1(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=v6);var r=ds;return ds=n,zC(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ds=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,qN(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,qN(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(Wo(this,n),Fa(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,Fa(r)),this._dur||(this._zTime=-xi),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-xi:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-xi,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-xi)},e.eventCallback=function(n,r,s){var o=this.vars;return arguments.length>1?(r?(o[n]=r,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete o[n],this):o[n]},e.then=function(n){var r=this,s=r._prom;return new Promise(function(o){var c=or(n)?n:ZO,h=function(){var m=r.then;r.then=null,s&&s(),or(c)&&(c=c(r))&&(c.then||c===r)&&(r.then=m),o(c),r.then=m};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?h():r._prom=h})},e.kill=function(){Iv(this)},i})();go(Ry.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-xi,_prom:0,_ps:!1,_rts:1});var oa=(function(i){zO(e,i);function e(n,r){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Fa(n.sortChildren),$i&&_c(n.parent||$i,mu(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&QO(mu(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return Yv(0,arguments,this),this},t.from=function(r,s,o){return Yv(1,arguments,this),this},t.fromTo=function(r,s,o,c){return Yv(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,qv(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Cr(r,s,Wo(this,o),1),this},t.call=function(r,s,o){return _c(this,Cr.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,c,h,p,m){return o.duration=s,o.stagger=o.stagger||c,o.onComplete=p,o.onCompleteParams=m,o.parent=this,new Cr(r,o,Wo(this,h)),this},t.staggerFrom=function(r,s,o,c,h,p,m){return o.runBackwards=1,qv(o).immediateRender=Fa(o.immediateRender),this.staggerTo(r,s,o,c,h,p,m)},t.staggerFromTo=function(r,s,o,c,h,p,m,g){return c.startAt=o,qv(c).immediateRender=Fa(c.immediateRender),this.staggerTo(r,s,c,h,p,m,g)},t.render=function(r,s,o){var c=this._time,h=this._dirty?this.totalDuration():this._tDur,p=this._dur,m=r<=0?0:Zi(r),g=this._zTime<0!=r<0&&(this._initted||!p),_,x,b,T,E,M,R,D,L,I,z,k;if(this!==$i&&m>h&&r>=0&&(m=h),m!==this._tTime||o||g){if(c!==this._time&&p&&(m+=this._time-c,r+=this._time-c),_=m,L=this._start,D=this._ts,M=!D,g&&(p||(c=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(z=this._yoyo,E=p+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(E*100+r,s,o);if(_=Zi(m%E),m===h?(T=this._repeat,_=p):(I=Zi(m/E),T=~~I,T&&T===I&&(_=p,T--),_>p&&(_=p)),I=lg(this._tTime,E),!c&&this._tTime&&I!==T&&this._tTime-I*E-this._dur<=0&&(I=T),z&&T&1&&(_=p-_,k=1),T!==I&&!this._lock){var F=z&&I&1,O=F===(z&&T&1);if(T<I&&(F=!F),c=F?0:m%p?p:m,this._lock=1,this.render(c||(k?0:Zi(T*E)),s,!p)._lock=0,this._tTime=m,!s&&this.parent&&lo(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1,I=T),c&&c!==this._time||M!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,h=this._tDur,O&&(this._lock=2,c=F?p:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!M)return this;dU(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=E6(this,Zi(c),Zi(_)),R&&(m-=_-(_=R._start))),this._tTime=m,this._time=_,this._act=!D,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,c=0),!c&&m&&p&&!s&&!I&&(lo(this,"onStart"),this._tTime!==m))return this;if(_>=c&&r>=0)for(x=this._first;x;){if(b=x._next,(x._act||_>=x._start)&&x._ts&&R!==x){if(x.parent!==this)return this.render(r,s,o);if(x.render(x._ts>0?(_-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(_-x._start)*x._ts,s,o),_!==this._time||!this._ts&&!M){R=0,b&&(m+=this._zTime=-xi);break}}x=b}else{x=this._last;for(var U=r<0?r:_;x;){if(b=x._prev,(x._act||U<=x._end)&&x._ts&&R!==x){if(x.parent!==this)return this.render(r,s,o);if(x.render(x._ts>0?(U-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(U-x._start)*x._ts,s,o||ds&&zC(x)),_!==this._time||!this._ts&&!M){R=0,b&&(m+=this._zTime=U?-xi:xi);break}}x=b}}if(R&&!s&&(this.pause(),R.render(_>=c?0:-xi)._zTime=_>=c?1:-1,this._ts))return this._start=L,AM(this),this.render(r,s,o);this._onUpdate&&!s&&lo(this,"onUpdate",!0),(m===h&&this._tTime>=this.totalDuration()||!m&&c)&&(L===this._start||Math.abs(D)!==Math.abs(this._ts))&&(this._lock||((r||!p)&&(m===h&&this._ts>0||!m&&this._ts<0)&&Jf(this,1),!s&&!(r<0&&!c)&&(m||c||!h)&&(lo(this,m===h&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<h&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Du(s)||(s=Wo(this,s,r)),!(r instanceof Ry)){if(ks(r))return r.forEach(function(c){return o.add(c,s)}),this;if(Jr(r))return this.addLabel(r,s);if(or(r))r=Cr.delayedCall(0,r);else return this}return this!==r?_c(this,r,s):this},t.getChildren=function(r,s,o,c){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),c===void 0&&(c=-Zo);for(var h=[],p=this._first;p;)p._start>=c&&(p instanceof Cr?s&&h.push(p):(o&&h.push(p),r&&h.push.apply(h,p.getChildren(!0,s,o)))),p=p._next;return h},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return Jr(r)?this.removeLabel(r):or(r)?this.killTweensOf(r):(r.parent===this&&TM(this,r),r===this._recent&&(this._recent=this._last),Ld(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Zi(so.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Wo(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var c=Cr.delayedCall(0,s||Ty,o);return c.data="isPause",this._hasPause=1,_c(this,c,Wo(this,r))},t.removePause=function(r){var s=this._first;for(r=Wo(this,r);s;)s._start===r&&s.data==="isPause"&&Jf(s),s=s._next},t.killTweensOf=function(r,s,o){for(var c=this.getTweensOf(r,o),h=c.length;h--;)Hf!==c[h]&&c[h].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],c=$o(r),h=this._first,p=Du(s),m;h;)h instanceof Cr?y6(h._targets,c)&&(p?(!Hf||h._initted&&h._ts)&&h.globalTime(0)<=s&&h.globalTime(h.totalDuration())>s:!s||h.isActive())&&o.push(h):(m=h.getTweensOf(c,s)).length&&o.push.apply(o,m),h=h._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,c=Wo(o,r),h=s,p=h.startAt,m=h.onStart,g=h.onStartParams,_=h.immediateRender,x,b=Cr.to(o,go({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:s.duration||Math.abs((c-(p&&"time"in p?p.time:o._time))/o.timeScale())||xi,onStart:function(){if(o.pause(),!x){var E=s.duration||Math.abs((c-(p&&"time"in p?p.time:o._time))/o.timeScale());b._dur!==E&&cg(b,E,0,1).render(b._time,!0,!0),x=1}m&&m.apply(b,g||[])}},s));return _?b.render(0):b},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,go({startAt:{time:Wo(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),YN(this,Wo(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),YN(this,Wo(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+xi)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);var c=this._first,h=this.labels,p;for(r=Zi(r);c;)c._start>=o&&(c._start+=r,c._end+=r),c=c._next;if(s)for(p in h)h[p]>=o&&(h[p]+=r);return Ld(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Ld(this)},t.totalDuration=function(r){var s=0,o=this,c=o._last,h=Zo,p,m,g;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(g=o.parent;c;)p=c._prev,c._dirty&&c.totalDuration(),m=c._start,m>h&&o._sort&&c._ts&&!o._lock?(o._lock=1,_c(o,c,m-c._delay,1)._lock=0):h=m,m<0&&c._ts&&(s-=m,(!g&&!o._dp||g&&g.smoothChildTiming)&&(o._start+=Zi(m/o._ts),o._time-=m,o._tTime-=m),o.shiftChildren(-m,!1,-1/0),h=0),c._end>s&&c._ts&&(s=c._end),c=p;cg(o,o===$i&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if($i._ts&&(qO($i,a1(r,$i)),WO=so.frame),so.frame>=GN){GN+=fo.autoSleep||120;var s=$i._first;if((!s||!s._ts)&&fo.autoSleep&&so._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||so.sleep()}}},e})(Ry);go(oa.prototype,{_lock:0,_hasPause:0,_forcing:0});var V6=function(e,t,n,r,s,o,c){var h=new Ha(this._pt,e,t,0,1,bU,null,s),p=0,m=0,g,_,x,b,T,E,M,R;for(h.b=n,h.e=r,n+="",r+="",(M=~r.indexOf("random("))&&(r=Ay(r)),o&&(R=[n,r],o(R,e,t),n=R[0],r=R[1]),_=n.match(pE)||[];g=pE.exec(r);)b=g[0],T=r.substring(p,g.index),x?x=(x+1)%5:T.substr(-5)==="rgba("&&(x=1),b!==_[m++]&&(E=parseFloat(_[m-1])||0,h._pt={_next:h._pt,p:T||m===1?T:",",s:E,c:b.charAt(1)==="="?Km(E,b)-E:parseFloat(b)-E,m:x&&x<4?Math.round:0},p=pE.lastIndex);return h.c=p<r.length?r.substring(p,r.length):"",h.fp=c,(VO.test(r)||M)&&(h.e=0),this._pt=h,h},kC=function(e,t,n,r,s,o,c,h,p,m){or(r)&&(r=r(s||0,e,o));var g=e[t],_=n!=="get"?n:or(g)?p?e[t.indexOf("set")||!or(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():g,x=or(g)?p?X6:_U:FC,b;if(Jr(r)&&(~r.indexOf("random(")&&(r=Ay(r)),r.charAt(1)==="="&&(b=Km(_,r)+(Is(_)||0),(b||b===0)&&(r=b))),!m||_!==r||hA)return!isNaN(_*r)&&r!==""?(b=new Ha(this._pt,e,t,+_||0,r-(_||0),typeof g=="boolean"?Y6:xU,0,x),p&&(b.fp=p),c&&b.modifier(c,this,e),this._pt=b):(!g&&!(t in e)&&PC(t,r),V6.call(this,e,t,_,r,x,h||fo.stringFilter,p))},H6=function(e,t,n,r,s){if(or(e)&&(e=Zv(e,s,t,n,r)),!Rc(e)||e.style&&e.nodeType||ks(e)||BO(e))return Jr(e)?Zv(e,s,t,n,r):e;var o={},c;for(c in e)o[c]=Zv(e[c],s,t,n,r);return o},gU=function(e,t,n,r,s,o){var c,h,p,m;if(io[e]&&(c=new io[e]).init(s,c.rawVars?t[e]:H6(t[e],r,s,o,n),n,r,o)!==!1&&(n._pt=h=new Ha(n._pt,s,e,0,1,c.render,c,0,c.priority),n!==Fm))for(p=n._ptLookup[n._targets.indexOf(s)],m=c._props.length;m--;)p[c._props[m]]=h;return c},Hf,hA,BC=function i(e,t,n){var r=e.vars,s=r.ease,o=r.startAt,c=r.immediateRender,h=r.lazy,p=r.onUpdate,m=r.runBackwards,g=r.yoyoEase,_=r.keyframes,x=r.autoRevert,b=e._dur,T=e._startAt,E=e._targets,M=e.parent,R=M&&M.data==="nested"?M.vars.targets:E,D=e._overwrite==="auto"&&!RC,L=e.timeline,I,z,k,F,O,U,X,K,ne,oe,le,q,J;if(L&&(!_||!s)&&(s="none"),e._ease=Pd(s,ag.ease),e._yEase=g?hU(Pd(g===!0?s:g,ag.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!L&&!!r.runBackwards,!L||_&&!r.stagger){if(K=E[0]?Dd(E[0]).harness:0,q=K&&r[K.prop],I=s1(r,IC),T&&(T._zTime<0&&T.progress(1),t<0&&m&&c&&!x?T.render(-1,!0):T.revert(m&&b?AS:g6),T._lazy=0),o){if(Jf(e._startAt=Cr.set(E,go({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!T&&Fa(h),startAt:null,delay:0,onUpdate:p&&function(){return lo(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ds||!c&&!x)&&e._startAt.revert(AS),c&&b&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(m&&b&&!T){if(t&&(c=!1),k=go({overwrite:!1,data:"isFromStart",lazy:c&&!T&&Fa(h),immediateRender:c,stagger:0,parent:M},I),q&&(k[K.prop]=q),Jf(e._startAt=Cr.set(E,k)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ds?e._startAt.revert(AS):e._startAt.render(-1,!0)),e._zTime=t,!c)i(e._startAt,xi,xi);else if(!t)return}for(e._pt=e._ptCache=0,h=b&&Fa(h)||h&&!b,z=0;z<E.length;z++){if(O=E[z],X=O._gsap||UC(E)[z]._gsap,e._ptLookup[z]=oe={},aA[X.id]&&$f.length&&r1(),le=R===E?z:R.indexOf(O),K&&(ne=new K).init(O,q||I,e,le,R)!==!1&&(e._pt=F=new Ha(e._pt,O,ne.name,0,1,ne.render,ne,0,ne.priority),ne._props.forEach(function(ie){oe[ie]=F}),ne.priority&&(U=1)),!K||q)for(k in I)io[k]&&(ne=gU(k,I,e,le,O,R))?ne.priority&&(U=1):oe[k]=F=kC.call(e,O,k,"get",I[k],le,R,0,r.stringFilter);e._op&&e._op[z]&&e.kill(O,e._op[z]),D&&e._pt&&(Hf=e,$i.killTweensOf(O,oe,e.globalTime(t)),J=!e.parent,Hf=0),e._pt&&h&&(aA[X.id]=1)}U&&SU(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!J,_&&t<=0&&L.render(Zo,!0,!0)},j6=function(e,t,n,r,s,o,c,h){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],m,g,_,x;if(!p)for(p=e._ptCache[t]=[],_=e._ptLookup,x=e._targets.length;x--;){if(m=_[x][t],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return hA=1,e.vars[t]="+=0",BC(e,c),hA=0,h?Ey(t+" not eligible for reset"):1;p.push(m)}for(x=p.length;x--;)g=p[x],m=g._pt||g,m.s=(r||r===0)&&!s?r:m.s+(r||0)+o*m.c,m.c=n-m.s,g.e&&(g.e=vr(n)+Is(g.e)),g.b&&(g.b=m.s+Is(g.b))},G6=function(e,t){var n=e[0]?Dd(e[0]).harness:0,r=n&&n.aliases,s,o,c,h;if(!r)return t;s=og({},t);for(o in r)if(o in s)for(h=r[o].split(","),c=h.length;c--;)s[h[c]]=s[o];return s},W6=function(e,t,n,r){var s=t.ease||r||"power1.inOut",o,c;if(ks(t))c=n[e]||(n[e]=[]),t.forEach(function(h,p){return c.push({t:p/(t.length-1)*100,v:h,e:s})});else for(o in t)c=n[o]||(n[o]=[]),o==="ease"||c.push({t:parseFloat(e),v:t[o],e:s})},Zv=function(e,t,n,r,s){return or(e)?e.call(t,n,r,s):Jr(e)&&~e.indexOf("random(")?Ay(e):e},vU=OC+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",yU={};Va(vU+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return yU[i]=1});var Cr=(function(i){zO(e,i);function e(n,r,s,o){var c;typeof r=="number"&&(s.duration=r,r=s,s=null),c=i.call(this,o?r:qv(r))||this;var h=c.vars,p=h.duration,m=h.delay,g=h.immediateRender,_=h.stagger,x=h.overwrite,b=h.keyframes,T=h.defaults,E=h.scrollTrigger,M=h.yoyoEase,R=r.parent||$i,D=(ks(n)||BO(n)?Du(n[0]):"length"in r)?[n]:$o(n),L,I,z,k,F,O,U,X;if(c._targets=D.length?UC(D):Ey("GSAP target "+n+" not found. https://gsap.com",!fo.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=x,b||_||fb(p)||fb(m)){if(r=c.vars,L=c.timeline=new oa({data:"nested",defaults:T||{},targets:R&&R.data==="nested"?R.vars.targets:D}),L.kill(),L.parent=L._dp=mu(c),L._start=0,_||fb(p)||fb(m)){if(k=D.length,U=_&&nU(_),Rc(_))for(F in _)~vU.indexOf(F)&&(X||(X={}),X[F]=_[F]);for(I=0;I<k;I++)z=s1(r,yU),z.stagger=0,M&&(z.yoyoEase=M),X&&og(z,X),O=D[I],z.duration=+Zv(p,mu(c),I,O,D),z.delay=(+Zv(m,mu(c),I,O,D)||0)-c._delay,!_&&k===1&&z.delay&&(c._delay=m=z.delay,c._start+=m,z.delay=0),L.to(O,z,U?U(I,O,D):0),L._ease=jn.none;L.duration()?p=m=0:c.timeline=0}else if(b){qv(go(L.vars.defaults,{ease:"none"})),L._ease=Pd(b.ease||r.ease||"none");var K=0,ne,oe,le;if(ks(b))b.forEach(function(q){return L.to(D,q,">")}),L.duration();else{z={};for(F in b)F==="ease"||F==="easeEach"||W6(F,b[F],z,b.easeEach);for(F in z)for(ne=z[F].sort(function(q,J){return q.t-J.t}),K=0,I=0;I<ne.length;I++)oe=ne[I],le={ease:oe.e,duration:(oe.t-(I?ne[I-1].t:0))/100*p},le[F]=oe.v,L.to(D,le,K),K+=le.duration;L.duration()<p&&L.to({},{duration:p-L.duration()})}}p||c.duration(p=L.duration())}else c.timeline=0;return x===!0&&!RC&&(Hf=mu(c),$i.killTweensOf(D),Hf=0),_c(R,mu(c),s),r.reversed&&c.reverse(),r.paused&&c.paused(!0),(g||!p&&!b&&c._start===Zi(R._time)&&Fa(g)&&S6(mu(c))&&R.data!=="nested")&&(c._tTime=-xi,c.render(Math.max(0,-m)||0)),E&&QO(mu(c),E),c}var t=e.prototype;return t.render=function(r,s,o){var c=this._time,h=this._tDur,p=this._dur,m=r<0,g=r>h-xi&&!m?h:r<xi?0:r,_,x,b,T,E,M,R,D,L;if(!p)w6(this,r,s,o);else if(g!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(_=g,D=this.timeline,this._repeat){if(T=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(T*100+r,s,o);if(_=Zi(g%T),g===h?(b=this._repeat,_=p):(E=Zi(g/T),b=~~E,b&&b===E?(_=p,b--):_>p&&(_=p)),M=this._yoyo&&b&1,M&&(L=this._yEase,_=p-_),E=lg(this._tTime,T),_===c&&!o&&this._initted&&b===E)return this._tTime=g,this;b!==E&&(D&&this._yEase&&dU(D,M),this.vars.repeatRefresh&&!M&&!this._lock&&_!==T&&this._initted&&(this._lock=o=1,this.render(Zi(T*b),!0).invalidate()._lock=0))}if(!this._initted){if(JO(this,m?r:_,o,s,g))return this._tTime=0,this;if(c!==this._time&&!(o&&this.vars.repeatRefresh&&b!==E))return this;if(p!==this._dur)return this.render(r,s,o)}if(this._tTime=g,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(L||this._ease)(_/p),this._from&&(this.ratio=R=1-R),!c&&g&&!s&&!E&&(lo(this,"onStart"),this._tTime!==g))return this;for(x=this._pt;x;)x.r(R,x.d),x=x._next;D&&D.render(r<0?r:D._dur*D._ease(_/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(m&&oA(this,r,s,o),lo(this,"onUpdate")),this._repeat&&b!==E&&this.vars.onRepeat&&!s&&this.parent&&lo(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(m&&!this._onUpdate&&oA(this,r,!0,!0),(r||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Jf(this,1),!s&&!(m&&!c)&&(g||c||M)&&(lo(this,g===h?"onComplete":"onReverseComplete",!0),this._prom&&!(g<h&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,c,h){Cy||so.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||BC(this,p),m=this._ease(p/this._dur),j6(this,r,s,o,c,m,p,h)?this.resetTo(r,s,o,c,1):(CM(this,0),this.parent||$O(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Iv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ds),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Hf&&Hf.vars.overwrite!==!0)._first||Iv(this),this.parent&&o!==this.timeline.totalDuration()&&cg(this,this._dur*this.timeline._tDur/o,0,1),this}var c=this._targets,h=r?$o(r):c,p=this._ptLookup,m=this._pt,g,_,x,b,T,E,M;if((!s||s==="all")&&x6(c,h))return s==="all"&&(this._pt=0),Iv(this);for(g=this._op=this._op||[],s!=="all"&&(Jr(s)&&(T={},Va(s,function(R){return T[R]=1}),s=T),s=G6(c,s)),M=c.length;M--;)if(~h.indexOf(c[M])){_=p[M],s==="all"?(g[M]=s,b=_,x={}):(x=g[M]=g[M]||{},b=s);for(T in b)E=_&&_[T],E&&((!("kill"in E.d)||E.d.kill(T)===!0)&&TM(this,E,"_pt"),delete _[T]),x!=="all"&&(x[T]=1)}return this._initted&&!this._pt&&m&&Iv(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Yv(1,arguments)},e.delayedCall=function(r,s,o,c){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:c})},e.fromTo=function(r,s,o){return Yv(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return $i.killTweensOf(r,s,o)},e})(Ry);go(Cr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Va("staggerTo,staggerFrom,staggerFromTo",function(i){Cr[i]=function(){var e=new oa,t=cA.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var FC=function(e,t,n){return e[t]=n},_U=function(e,t,n){return e[t](n)},X6=function(e,t,n,r){return e[t](r.fp,n)},q6=function(e,t,n){return e.setAttribute(t,n)},VC=function(e,t){return or(e[t])?_U:NC(e[t])&&e.setAttribute?q6:FC},xU=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Y6=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},bU=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},HC=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Z6=function(e,t,n,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,n),s=o},$6=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?TM(this,t,"_pt"):t.dep||(n=1),t=r;return!n},K6=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},SU=function(e){for(var t=e._pt,n,r,s,o;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=n}e._pt=s},Ha=(function(){function i(t,n,r,s,o,c,h,p,m){this.t=n,this.s=s,this.c=o,this.p=r,this.r=c||xU,this.d=h||this,this.set=p||FC,this.pr=m||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=K6,this.m=n,this.mt=s,this.tween=r},i})();Va(OC+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return IC[i]=1});mo.TweenMax=mo.TweenLite=Cr;mo.TimelineLite=mo.TimelineMax=oa;$i=new oa({sortChildren:!1,defaults:ag,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});fo.stringFilter=fU;var Id=[],RS={},Q6=[],$N=0,J6=0,_E=function(e){return(RS[e]||Q6).map(function(t){return t()})},dA=function(){var e=Date.now(),t=[];e-$N>2&&(_E("matchMediaInit"),Id.forEach(function(n){var r=n.queries,s=n.conditions,o,c,h,p;for(c in r)o=vc.matchMedia(r[c]).matches,o&&(h=1),o!==s[c]&&(s[c]=o,p=1);p&&(n.revert(),h&&t.push(n))}),_E("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),$N=e,_E("matchMedia"))},MU=(function(){function i(t,n){this.selector=n&&uA(n),this.data=[],this._r=[],this.isReverted=!1,this.id=J6++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,s){or(n)&&(s=r,r=n,n=or);var o=this,c=function(){var p=Fi,m=o.selector,g;return p&&p!==o&&p.data.push(o),s&&(o.selector=uA(s)),Fi=o,g=r.apply(o,arguments),or(g)&&o._r.push(g),Fi=p,o.selector=m,o.isReverted=!1,g};return o.last=c,n===or?c(o,function(h){return o.add(null,h)}):n?o[n]=c:c},e.ignore=function(n){var r=Fi;Fi=null,n(this),Fi=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof Cr&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n?(function(){for(var c=s.getTweens(),h=s.data.length,p;h--;)p=s.data[h],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(m){return c.splice(c.indexOf(m),1)}));for(c.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,g){return g.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),h=s.data.length;h--;)p=s.data[h],p instanceof oa?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof Cr)&&p.revert&&p.revert(n);s._r.forEach(function(m){return m(n,s)}),s.isReverted=!0})():this.data.forEach(function(c){return c.kill&&c.kill()}),this.clear(),r)for(var o=Id.length;o--;)Id[o].id===this.id&&Id.splice(o,1)},e.revert=function(n){this.kill(n||{})},i})(),e8=(function(){function i(t){this.contexts=[],this.scope=t,Fi&&Fi.data.push(this)}var e=i.prototype;return e.add=function(n,r,s){Rc(n)||(n={matches:n});var o=new MU(0,s||this.scope),c=o.conditions={},h,p,m;Fi&&!o.selector&&(o.selector=Fi.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=n;for(p in n)p==="all"?m=1:(h=vc.matchMedia(n[p]),h&&(Id.indexOf(o)<0&&Id.push(o),(c[p]=h.matches)&&(m=1),h.addListener?h.addListener(dA):h.addEventListener("change",dA)));return m&&r(o,function(g){return o.add(null,g)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i})(),o1={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return lU(r)})},timeline:function(e){return new oa(e)},getTweensOf:function(e,t){return $i.getTweensOf(e,t)},getProperty:function(e,t,n,r){Jr(e)&&(e=$o(e)[0]);var s=Dd(e||{}).get,o=n?ZO:YO;return n==="native"&&(n=""),e&&(t?o((io[t]&&io[t].get||s)(e,t,n,r)):function(c,h,p){return o((io[c]&&io[c].get||s)(e,c,h,p))})},quickSetter:function(e,t,n){if(e=$o(e),e.length>1){var r=e.map(function(m){return Xa.quickSetter(m,t,n)}),s=r.length;return function(m){for(var g=s;g--;)r[g](m)}}e=e[0]||{};var o=io[t],c=Dd(e),h=c.harness&&(c.harness.aliases||{})[t]||t,p=o?function(m){var g=new o;Fm._pt=0,g.init(e,n?m+n:m,Fm,0,[e]),g.render(1,g),Fm._pt&&HC(1,Fm)}:c.set(e,h);return o?p:function(m){return p(e,h,n?m+n:m,c,1)}},quickTo:function(e,t,n){var r,s=Xa.to(e,go((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),o=function(h,p,m){return s.resetTo(t,h,p,m)};return o.tween=s,o},isTweening:function(e){return $i.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Pd(e.ease,ag.ease)),WN(ag,e||{})},config:function(e){return WN(fo,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(c){return c&&!io[c]&&!mo[c]&&Ey(t+" effect requires "+c+" plugin.")}),mE[t]=function(c,h,p){return n($o(c),go(h||{},s),p)},o&&(oa.prototype[t]=function(c,h,p){return this.add(mE[t](c,Rc(h)?h:(p=h)&&{},this),p)})},registerEase:function(e,t){jn[e]=Pd(t)},parseEase:function(e,t){return arguments.length?Pd(e,t):jn},getById:function(e){return $i.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new oa(e),r,s;for(n.smoothChildTiming=Fa(e.smoothChildTiming),$i.remove(n),n._dp=0,n._time=n._tTime=$i._time,r=$i._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Cr&&r.vars.onComplete===r._targets[0]))&&_c(n,r,r._start-r._delay),r=s;return _c($i,n,0),n},context:function(e,t){return e?new MU(e,t):Fi},matchMedia:function(e){return new e8(e)},matchMediaRefresh:function(){return Id.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||dA()},addEventListener:function(e,t){var n=RS[e]||(RS[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=RS[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:L6,wrapYoyo:P6,distribute:nU,random:rU,snap:iU,normalize:D6,getUnit:Is,clamp:A6,splitColor:cU,toArray:$o,selector:uA,mapRange:aU,pipe:R6,unitize:N6,interpolate:I6,shuffle:tU},install:jO,effects:mE,ticker:so,updateRoot:oa.updateRoot,plugins:io,globalTimeline:$i,core:{PropTween:Ha,globals:GO,Tween:Cr,Timeline:oa,Animation:Ry,getCache:Dd,_removeLinkedListItem:TM,reverting:function(){return ds},context:function(e){return e&&Fi&&(Fi.data.push(e),e._ctx=Fi),Fi},suppressOverwrites:function(e){return RC=e}}};Va("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return o1[i]=Cr[i]});so.add(oa.updateRoot);Fm=o1.to({},{duration:0});var t8=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},n8=function(e,t){var n=e._targets,r,s,o;for(r in t)for(s=n.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=t8(o,r)),o&&o.modifier&&o.modifier(t[r],e,n[s],r))},xE=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,s,o){o._onInit=function(c){var h,p;if(Jr(s)&&(h={},Va(s,function(m){return h[m]=1}),s=h),t){h={};for(p in s)h[p]=t(s[p]);s=h}n8(c,s)}}}},Xa=o1.registerPlugin({name:"attr",init:function(e,t,n,r,s){var o,c,h;this.tween=n;for(o in t)h=e.getAttribute(o)||"",c=this.add(e,"setAttribute",(h||0)+"",t[o],r,s,0,0,o),c.op=o,c.b=h,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)ds?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},xE("roundProps",fA),xE("modifiers"),xE("snap",iU))||o1;Cr.version=oa.version=Xa.version="3.14.2";HO=1;DC()&&ug();jn.Power0;jn.Power1;jn.Power2;jn.Power3;jn.Power4;jn.Linear;jn.Quad;jn.Cubic;jn.Quart;jn.Quint;jn.Strong;jn.Elastic;jn.Back;jn.SteppedEase;jn.Bounce;jn.Sine;jn.Expo;jn.Circ;var KN,jf,Qm,jC,wd,QN,GC,i8=function(){return typeof window<"u"},Lu={},vd=180/Math.PI,Jm=Math.PI/180,lm=Math.atan2,JN=1e8,WC=/([A-Z])/g,r8=/(left|right|width|margin|padding|x)/i,s8=/[\s,\(]\S/,bc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},pA=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},a8=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},o8=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},l8=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},c8=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},wU=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},EU=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},u8=function(e,t,n){return e.style[t]=n},f8=function(e,t,n){return e.style.setProperty(t,n)},h8=function(e,t,n){return e._gsap[t]=n},d8=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},p8=function(e,t,n,r,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},m8=function(e,t,n,r,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},Ki="transform",ja=Ki+"Origin",g8=function i(e,t){var n=this,r=this.target,s=r.style,o=r._gsap;if(e in Lu&&s){if(this.tfm=this.tfm||{},e!=="transform")e=bc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(c){return n.tfm[c]=vu(r,c)}):this.tfm[e]=o.x?o[e]:vu(r,e),e===ja&&(this.tfm.zOrigin=o.zOrigin);else return bc.transform.split(",").forEach(function(c){return i.call(n,c,t)});if(this.props.indexOf(Ki)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ja,t,"")),e=Ki}(s||t)&&this.props.push(e,t,s[e])},TU=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},v8=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(WC,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=GC(),(!s||!s.isStart)&&!n[Ki]&&(TU(n),r.zOrigin&&n[ja]&&(n[ja]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},AU=function(e,t){var n={target:e,props:[],revert:v8,save:g8};return e._gsap||Xa.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},CU,mA=function(e,t){var n=jf.createElementNS?jf.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):jf.createElement(e);return n&&n.style?n:jf.createElement(e)},co=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(WC,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,fg(t)||t,1)||""},eD="O,Moz,ms,Ms,Webkit".split(","),fg=function(e,t,n){var r=t||wd,s=r.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(eD[o]+e in s););return o<0?null:(o===3?"ms":o>=0?eD[o]:"")+e},gA=function(){i8()&&window.document&&(KN=window,jf=KN.document,Qm=jf.documentElement,wd=mA("div")||{style:{}},mA("div"),Ki=fg(Ki),ja=Ki+"Origin",wd.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",CU=!!fg("perspective"),GC=Xa.core.reverting,jC=1)},tD=function(e){var t=e.ownerSVGElement,n=mA("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",n.appendChild(r),Qm.appendChild(n);try{s=r.getBBox()}catch{}return n.removeChild(r),Qm.removeChild(n),s},nD=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},RU=function(e){var t,n;try{t=e.getBBox()}catch{t=tD(e),n=1}return t&&(t.width||t.height)||n||(t=tD(e)),t&&!t.width&&!t.x&&!t.y?{x:+nD(e,["x","cx","x1"])||0,y:+nD(e,["y","cy","y1"])||0,width:0,height:0}:t},NU=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&RU(e))},eh=function(e,t){if(t){var n=e.style,r;t in Lu&&t!==ja&&(t=Ki),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(WC,"-$1").toLowerCase())):n.removeAttribute(t)}},Gf=function(e,t,n,r,s,o){var c=new Ha(e._pt,t,n,0,1,o?EU:wU);return e._pt=c,c.b=r,c.e=s,e._props.push(n),c},iD={deg:1,rad:1,turn:1},y8={grid:1,flex:1},th=function i(e,t,n,r){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",c=wd.style,h=r8.test(t),p=e.tagName.toLowerCase()==="svg",m=(p?"client":"offset")+(h?"Width":"Height"),g=100,_=r==="px",x=r==="%",b,T,E,M;if(r===o||!s||iD[r]||iD[o])return s;if(o!=="px"&&!_&&(s=i(e,t,n,"px")),M=e.getCTM&&NU(e),(x||o==="%")&&(Lu[t]||~t.indexOf("adius")))return b=M?e.getBBox()[h?"width":"height"]:e[m],vr(x?s/b*g:s/100*b);if(c[h?"width":"height"]=g+(_?o:r),T=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!p?e:e.parentNode,M&&(T=(e.ownerSVGElement||{}).parentNode),(!T||T===jf||!T.appendChild)&&(T=jf.body),E=T._gsap,E&&x&&E.width&&h&&E.time===so.time&&!E.uncache)return vr(s/E.width*g);if(x&&(t==="height"||t==="width")){var R=e.style[t];e.style[t]=g+r,b=e[m],R?e.style[t]=R:eh(e,t)}else(x||o==="%")&&!y8[co(T,"display")]&&(c.position=co(e,"position")),T===e&&(c.position="static"),T.appendChild(wd),b=wd[m],T.removeChild(wd),c.position="absolute";return h&&x&&(E=Dd(T),E.time=so.time,E.width=T[m]),vr(_?b*s/g:b&&s?g/b*s:0)},vu=function(e,t,n,r){var s;return jC||gA(),t in bc&&t!=="transform"&&(t=bc[t],~t.indexOf(",")&&(t=t.split(",")[0])),Lu[t]&&t!=="transform"?(s=Dy(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:c1(co(e,ja))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=l1[t]&&l1[t](e,t,n)||co(e,t)||XO(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?th(e,t,s,n)+n:s},_8=function(e,t,n,r){if(!n||n==="none"){var s=fg(t,e,1),o=s&&co(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=co(e,"borderTopColor"))}var c=new Ha(this._pt,e.style,t,0,1,bU),h=0,p=0,m,g,_,x,b,T,E,M,R,D,L,I;if(c.b=n,c.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=co(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(T=e.style[t],e.style[t]=r,r=co(e,t)||r,T?e.style[t]=T:eh(e,t)),m=[n,r],fU(m),n=m[0],r=m[1],_=n.match(Bm)||[],I=r.match(Bm)||[],I.length){for(;g=Bm.exec(r);)E=g[0],R=r.substring(h,g.index),b?b=(b+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(b=1),E!==(T=_[p++]||"")&&(x=parseFloat(T)||0,L=T.substr((x+"").length),E.charAt(1)==="="&&(E=Km(x,E)+L),M=parseFloat(E),D=E.substr((M+"").length),h=Bm.lastIndex-D.length,D||(D=D||fo.units[t]||L,h===r.length&&(r+=D,c.e+=D)),L!==D&&(x=th(e,t,T,D)||0),c._pt={_next:c._pt,p:R||p===1?R:",",s:x,c:M-x,m:b&&b<4||t==="zIndex"?Math.round:0});c.c=h<r.length?r.substring(h,r.length):""}else c.r=t==="display"&&r==="none"?EU:wU;return VO.test(r)&&(c.e=0),this._pt=c,c},rD={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},x8=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=rD[n]||n,t[1]=rD[r]||r,t.join(" ")},b8=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,o=n._gsap,c,h,p;if(s==="all"||s===!0)r.cssText="",h=1;else for(s=s.split(","),p=s.length;--p>-1;)c=s[p],Lu[c]&&(h=1,c=c==="transformOrigin"?ja:Ki),eh(n,c);h&&(eh(n,Ki),o&&(o.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Dy(n,1),o.uncache=1,TU(r)))}},l1={clearProps:function(e,t,n,r,s){if(s.data!=="isFromStart"){var o=e._pt=new Ha(e._pt,t,n,0,0,b8);return o.u=r,o.pr=-10,o.tween=s,e._props.push(n),1}}},Ny=[1,0,0,1,0,0],DU={},LU=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},sD=function(e){var t=co(e,Ki);return LU(t)?Ny:t.substr(7).match(FO).map(vr)},XC=function(e,t){var n=e._gsap||Dd(e),r=e.style,s=sD(e),o,c,h,p;return n.svg&&e.getAttribute("transform")?(h=e.transform.baseVal.consolidate().matrix,s=[h.a,h.b,h.c,h.d,h.e,h.f],s.join(",")==="1,0,0,1,0,0"?Ny:s):(s===Ny&&!e.offsetParent&&e!==Qm&&!n.svg&&(h=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,c=e.nextElementSibling,Qm.appendChild(e)),s=sD(e),h?r.display=h:eh(e,"display"),p&&(c?o.insertBefore(e,c):o?o.appendChild(e):Qm.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},vA=function(e,t,n,r,s,o){var c=e._gsap,h=s||XC(e,!0),p=c.xOrigin||0,m=c.yOrigin||0,g=c.xOffset||0,_=c.yOffset||0,x=h[0],b=h[1],T=h[2],E=h[3],M=h[4],R=h[5],D=t.split(" "),L=parseFloat(D[0])||0,I=parseFloat(D[1])||0,z,k,F,O;n?h!==Ny&&(k=x*E-b*T)&&(F=L*(E/k)+I*(-T/k)+(T*R-E*M)/k,O=L*(-b/k)+I*(x/k)-(x*R-b*M)/k,L=F,I=O):(z=RU(e),L=z.x+(~D[0].indexOf("%")?L/100*z.width:L),I=z.y+(~(D[1]||D[0]).indexOf("%")?I/100*z.height:I)),r||r!==!1&&c.smooth?(M=L-p,R=I-m,c.xOffset=g+(M*x+R*T)-M,c.yOffset=_+(M*b+R*E)-R):c.xOffset=c.yOffset=0,c.xOrigin=L,c.yOrigin=I,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[ja]="0px 0px",o&&(Gf(o,c,"xOrigin",p,L),Gf(o,c,"yOrigin",m,I),Gf(o,c,"xOffset",g,c.xOffset),Gf(o,c,"yOffset",_,c.yOffset)),e.setAttribute("data-svg-origin",L+" "+I)},Dy=function(e,t){var n=e._gsap||new mU(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,o="px",c="deg",h=getComputedStyle(e),p=co(e,ja)||"0",m,g,_,x,b,T,E,M,R,D,L,I,z,k,F,O,U,X,K,ne,oe,le,q,J,ie,pe,$,Y,he,De,Le,Ze;return m=g=_=T=E=M=R=D=L=0,x=b=1,n.svg=!!(e.getCTM&&NU(e)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(r[Ki]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[Ki]!=="none"?h[Ki]:"")),r.scale=r.rotate=r.translate="none"),k=XC(e,n.svg),n.svg&&(n.uncache?(ie=e.getBBox(),p=n.xOrigin-ie.x+"px "+(n.yOrigin-ie.y)+"px",J=""):J=!t&&e.getAttribute("data-svg-origin"),vA(e,J||p,!!J||n.originIsAbsolute,n.smooth!==!1,k)),I=n.xOrigin||0,z=n.yOrigin||0,k!==Ny&&(X=k[0],K=k[1],ne=k[2],oe=k[3],m=le=k[4],g=q=k[5],k.length===6?(x=Math.sqrt(X*X+K*K),b=Math.sqrt(oe*oe+ne*ne),T=X||K?lm(K,X)*vd:0,R=ne||oe?lm(ne,oe)*vd+T:0,R&&(b*=Math.abs(Math.cos(R*Jm))),n.svg&&(m-=I-(I*X+z*ne),g-=z-(I*K+z*oe))):(Ze=k[6],De=k[7],$=k[8],Y=k[9],he=k[10],Le=k[11],m=k[12],g=k[13],_=k[14],F=lm(Ze,he),E=F*vd,F&&(O=Math.cos(-F),U=Math.sin(-F),J=le*O+$*U,ie=q*O+Y*U,pe=Ze*O+he*U,$=le*-U+$*O,Y=q*-U+Y*O,he=Ze*-U+he*O,Le=De*-U+Le*O,le=J,q=ie,Ze=pe),F=lm(-ne,he),M=F*vd,F&&(O=Math.cos(-F),U=Math.sin(-F),J=X*O-$*U,ie=K*O-Y*U,pe=ne*O-he*U,Le=oe*U+Le*O,X=J,K=ie,ne=pe),F=lm(K,X),T=F*vd,F&&(O=Math.cos(F),U=Math.sin(F),J=X*O+K*U,ie=le*O+q*U,K=K*O-X*U,q=q*O-le*U,X=J,le=ie),E&&Math.abs(E)+Math.abs(T)>359.9&&(E=T=0,M=180-M),x=vr(Math.sqrt(X*X+K*K+ne*ne)),b=vr(Math.sqrt(q*q+Ze*Ze)),F=lm(le,q),R=Math.abs(F)>2e-4?F*vd:0,L=Le?1/(Le<0?-Le:Le):0),n.svg&&(J=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!LU(co(e,Ki)),J&&e.setAttribute("transform",J))),Math.abs(R)>90&&Math.abs(R)<270&&(s?(x*=-1,R+=T<=0?180:-180,T+=T<=0?180:-180):(b*=-1,R+=R<=0?180:-180)),t=t||n.uncache,n.x=m-((n.xPercent=m&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=g-((n.yPercent=g&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=_+o,n.scaleX=vr(x),n.scaleY=vr(b),n.rotation=vr(T)+c,n.rotationX=vr(E)+c,n.rotationY=vr(M)+c,n.skewX=R+c,n.skewY=D+c,n.transformPerspective=L+o,(n.zOrigin=parseFloat(p.split(" ")[2])||!t&&n.zOrigin||0)&&(r[ja]=c1(p)),n.xOffset=n.yOffset=0,n.force3D=fo.force3D,n.renderTransform=n.svg?M8:CU?PU:S8,n.uncache=0,n},c1=function(e){return(e=e.split(" "))[0]+" "+e[1]},bE=function(e,t,n){var r=Is(t);return vr(parseFloat(t)+parseFloat(th(e,"x",n+"px",r)))+r},S8=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,PU(e,t)},ed="0deg",mv="0px",td=") ",PU=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,c=n.y,h=n.z,p=n.rotation,m=n.rotationY,g=n.rotationX,_=n.skewX,x=n.skewY,b=n.scaleX,T=n.scaleY,E=n.transformPerspective,M=n.force3D,R=n.target,D=n.zOrigin,L="",I=M==="auto"&&e&&e!==1||M===!0;if(D&&(g!==ed||m!==ed)){var z=parseFloat(m)*Jm,k=Math.sin(z),F=Math.cos(z),O;z=parseFloat(g)*Jm,O=Math.cos(z),o=bE(R,o,k*O*-D),c=bE(R,c,-Math.sin(z)*-D),h=bE(R,h,F*O*-D+D)}E!==mv&&(L+="perspective("+E+td),(r||s)&&(L+="translate("+r+"%, "+s+"%) "),(I||o!==mv||c!==mv||h!==mv)&&(L+=h!==mv||I?"translate3d("+o+", "+c+", "+h+") ":"translate("+o+", "+c+td),p!==ed&&(L+="rotate("+p+td),m!==ed&&(L+="rotateY("+m+td),g!==ed&&(L+="rotateX("+g+td),(_!==ed||x!==ed)&&(L+="skew("+_+", "+x+td),(b!==1||T!==1)&&(L+="scale("+b+", "+T+td),R.style[Ki]=L||"translate(0, 0)"},M8=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,c=n.y,h=n.rotation,p=n.skewX,m=n.skewY,g=n.scaleX,_=n.scaleY,x=n.target,b=n.xOrigin,T=n.yOrigin,E=n.xOffset,M=n.yOffset,R=n.forceCSS,D=parseFloat(o),L=parseFloat(c),I,z,k,F,O;h=parseFloat(h),p=parseFloat(p),m=parseFloat(m),m&&(m=parseFloat(m),p+=m,h+=m),h||p?(h*=Jm,p*=Jm,I=Math.cos(h)*g,z=Math.sin(h)*g,k=Math.sin(h-p)*-_,F=Math.cos(h-p)*_,p&&(m*=Jm,O=Math.tan(p-m),O=Math.sqrt(1+O*O),k*=O,F*=O,m&&(O=Math.tan(m),O=Math.sqrt(1+O*O),I*=O,z*=O)),I=vr(I),z=vr(z),k=vr(k),F=vr(F)):(I=g,F=_,z=k=0),(D&&!~(o+"").indexOf("px")||L&&!~(c+"").indexOf("px"))&&(D=th(x,"x",o,"px"),L=th(x,"y",c,"px")),(b||T||E||M)&&(D=vr(D+b-(b*I+T*k)+E),L=vr(L+T-(b*z+T*F)+M)),(r||s)&&(O=x.getBBox(),D=vr(D+r/100*O.width),L=vr(L+s/100*O.height)),O="matrix("+I+","+z+","+k+","+F+","+D+","+L+")",x.setAttribute("transform",O),R&&(x.style[Ki]=O)},w8=function(e,t,n,r,s){var o=360,c=Jr(s),h=parseFloat(s)*(c&&~s.indexOf("rad")?vd:1),p=h-r,m=r+p+"deg",g,_;return c&&(g=s.split("_")[1],g==="short"&&(p%=o,p!==p%(o/2)&&(p+=p<0?o:-o)),g==="cw"&&p<0?p=(p+o*JN)%o-~~(p/o)*o:g==="ccw"&&p>0&&(p=(p-o*JN)%o-~~(p/o)*o)),e._pt=_=new Ha(e._pt,t,n,r,p,a8),_.e=m,_.u="deg",e._props.push(n),_},aD=function(e,t){for(var n in t)e[n]=t[n];return e},E8=function(e,t,n){var r=aD({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,c,h,p,m,g,_,x,b;r.svg?(p=n.getAttribute("transform"),n.setAttribute("transform",""),o[Ki]=t,c=Dy(n,1),eh(n,Ki),n.setAttribute("transform",p)):(p=getComputedStyle(n)[Ki],o[Ki]=t,c=Dy(n,1),o[Ki]=p);for(h in Lu)p=r[h],m=c[h],p!==m&&s.indexOf(h)<0&&(x=Is(p),b=Is(m),g=x!==b?th(n,h,p,b):parseFloat(p),_=parseFloat(m),e._pt=new Ha(e._pt,c,h,g,_-g,pA),e._pt.u=b||0,e._props.push(h));aD(c,r)};Va("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",s="Left",o=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(c){return e<2?i+c:"border"+c+i});l1[e>1?"border"+i:i]=function(c,h,p,m,g){var _,x;if(arguments.length<4)return _=o.map(function(b){return vu(c,b,p)}),x=_.join(" "),x.split(_[0]).length===5?_[0]:x;_=(m+"").split(" "),x={},o.forEach(function(b,T){return x[b]=_[T]=_[T]||_[(T-1)/2|0]}),c.init(h,x,g)}});var IU={name:"css",register:gA,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,s){var o=this._props,c=e.style,h=n.vars.startAt,p,m,g,_,x,b,T,E,M,R,D,L,I,z,k,F,O;jC||gA(),this.styles=this.styles||AU(e),F=this.styles.props,this.tween=n;for(T in t)if(T!=="autoRound"&&(m=t[T],!(io[T]&&gU(T,t,n,r,e,s)))){if(x=typeof m,b=l1[T],x==="function"&&(m=m.call(n,r,e,s),x=typeof m),x==="string"&&~m.indexOf("random(")&&(m=Ay(m)),b)b(this,e,T,m,n)&&(k=1);else if(T.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(T)+"").trim(),m+="",Kf.lastIndex=0,Kf.test(p)||(E=Is(p),M=Is(m),M?E!==M&&(p=th(e,T,p,M)+M):E&&(m+=E)),this.add(c,"setProperty",p,m,r,s,0,0,T),o.push(T),F.push(T,0,c[T]);else if(x!=="undefined"){if(h&&T in h?(p=typeof h[T]=="function"?h[T].call(n,r,e,s):h[T],Jr(p)&&~p.indexOf("random(")&&(p=Ay(p)),Is(p+"")||p==="auto"||(p+=fo.units[T]||Is(vu(e,T))||""),(p+"").charAt(1)==="="&&(p=vu(e,T))):p=vu(e,T),_=parseFloat(p),R=x==="string"&&m.charAt(1)==="="&&m.substr(0,2),R&&(m=m.substr(2)),g=parseFloat(m),T in bc&&(T==="autoAlpha"&&(_===1&&vu(e,"visibility")==="hidden"&&g&&(_=0),F.push("visibility",0,c.visibility),Gf(this,c,"visibility",_?"inherit":"hidden",g?"inherit":"hidden",!g)),T!=="scale"&&T!=="transform"&&(T=bc[T],~T.indexOf(",")&&(T=T.split(",")[0]))),D=T in Lu,D){if(this.styles.save(T),O=m,x==="string"&&m.substring(0,6)==="var(--"){if(m=co(e,m.substring(4,m.indexOf(")"))),m.substring(0,5)==="calc("){var U=e.style.perspective;e.style.perspective=m,m=co(e,"perspective"),U?e.style.perspective=U:eh(e,"perspective")}g=parseFloat(m)}if(L||(I=e._gsap,I.renderTransform&&!t.parseTransform||Dy(e,t.parseTransform),z=t.smoothOrigin!==!1&&I.smooth,L=this._pt=new Ha(this._pt,c,Ki,0,1,I.renderTransform,I,0,-1),L.dep=1),T==="scale")this._pt=new Ha(this._pt,I,"scaleY",I.scaleY,(R?Km(I.scaleY,R+g):g)-I.scaleY||0,pA),this._pt.u=0,o.push("scaleY",T),T+="X";else if(T==="transformOrigin"){F.push(ja,0,c[ja]),m=x8(m),I.svg?vA(e,m,0,z,0,this):(M=parseFloat(m.split(" ")[2])||0,M!==I.zOrigin&&Gf(this,I,"zOrigin",I.zOrigin,M),Gf(this,c,T,c1(p),c1(m)));continue}else if(T==="svgOrigin"){vA(e,m,1,z,0,this);continue}else if(T in DU){w8(this,I,T,_,R?Km(_,R+m):m);continue}else if(T==="smoothOrigin"){Gf(this,I,"smooth",I.smooth,m);continue}else if(T==="force3D"){I[T]=m;continue}else if(T==="transform"){E8(this,m,e);continue}}else T in c||(T=fg(T)||T);if(D||(g||g===0)&&(_||_===0)&&!s8.test(m)&&T in c)E=(p+"").substr((_+"").length),g||(g=0),M=Is(m)||(T in fo.units?fo.units[T]:E),E!==M&&(_=th(e,T,p,M)),this._pt=new Ha(this._pt,D?I:c,T,_,(R?Km(_,R+g):g)-_,!D&&(M==="px"||T==="zIndex")&&t.autoRound!==!1?c8:pA),this._pt.u=M||0,D&&O!==m?(this._pt.b=p,this._pt.e=O,this._pt.r=l8):E!==M&&M!=="%"&&(this._pt.b=p,this._pt.r=o8);else if(T in c)_8.call(this,e,T,p,R?R+m:m);else if(T in e)this.add(e,T,p||e[T],R?R+m:m,r,s);else if(T!=="parseTransform"){PC(T,m);continue}D||(T in c?F.push(T,0,c[T]):typeof e[T]=="function"?F.push(T,2,e[T]()):F.push(T,1,p||e[T])),o.push(T)}}k&&SU(this)},render:function(e,t){if(t.tween._time||!GC())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:vu,aliases:bc,getSetter:function(e,t,n){var r=bc[t];return r&&r.indexOf(",")<0&&(t=r),t in Lu&&t!==ja&&(e._gsap.x||vu(e,"x"))?n&&QN===n?t==="scale"?d8:h8:(QN=n||{})&&(t==="scale"?p8:m8):e.style&&!NC(e.style[t])?u8:~t.indexOf("-")?f8:VC(e,t)},core:{_removeProperty:eh,_getMatrix:XC}};Xa.utils.checkPrefix=fg;Xa.core.getStyleSaver=AU;(function(i,e,t,n){var r=Va(i+","+e+","+t,function(s){Lu[s]=1});Va(e,function(s){fo.units[s]="deg",DU[s]=1}),bc[r[13]]=i+","+e,Va(n,function(s){var o=s.split(":");bc[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Va("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){fo.units[i]="px"});Xa.registerPlugin(IU);var Qn=Xa.registerPlugin(IU)||Xa;Qn.core.Tween;function T8(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function A8(i,e,t){return e&&T8(i.prototype,e),i}var hs,NS,ao,Wf,Xf,eg,OU,yd,$v,UU,bu,Tl,zU,kU=function(){return hs||typeof window<"u"&&(hs=window.gsap)&&hs.registerPlugin&&hs},BU=1,Vm=[],In=[],Ec=[],Kv=Date.now,yA=function(e,t){return t},C8=function(){var e=$v.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,In),r.push.apply(r,Ec),In=n,Ec=r,yA=function(o,c){return t[o](c)}},Qf=function(e,t){return~Ec.indexOf(e)&&Ec[Ec.indexOf(e)+1][t]},Qv=function(e){return!!~UU.indexOf(e)},ta=function(e,t,n,r,s){return e.addEventListener(t,n,{passive:r!==!1,capture:!!s})},Qs=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},hb="scrollLeft",db="scrollTop",_A=function(){return bu&&bu.isPressed||In.cache++},u1=function(e,t){var n=function r(s){if(s||s===0){BU&&(ao.history.scrollRestoration="manual");var o=bu&&bu.isPressed;s=r.v=Math.round(s)||(bu&&bu.iOS?1:0),e(s),r.cacheID=In.cache,o&&yA("ss",s)}else(t||In.cache!==r.cacheID||yA("ref"))&&(r.cacheID=In.cache,r.v=e());return r.v+r.offset};return n.offset=0,e&&n},la={s:hb,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:u1(function(i){return arguments.length?ao.scrollTo(i,Br.sc()):ao.pageXOffset||Wf[hb]||Xf[hb]||eg[hb]||0})},Br={s:db,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:la,sc:u1(function(i){return arguments.length?ao.scrollTo(la.sc(),i):ao.pageYOffset||Wf[db]||Xf[db]||eg[db]||0})},Ua=function(e,t){return(t&&t._ctx&&t._ctx.selector||hs.utils.toArray)(e)[0]||(typeof e=="string"&&hs.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},R8=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},nh=function(e,t){var n=t.s,r=t.sc;Qv(e)&&(e=Wf.scrollingElement||Xf);var s=In.indexOf(e),o=r===Br.sc?1:2;!~s&&(s=In.push(e)-1),In[s+o]||ta(e,"scroll",_A);var c=In[s+o],h=c||(In[s+o]=u1(Qf(e,n),!0)||(Qv(e)?r:u1(function(p){return arguments.length?e[n]=p:e[n]})));return h.target=e,c||(h.smooth=hs.getProperty(e,"scrollBehavior")==="smooth"),h},xA=function(e,t,n){var r=e,s=e,o=Kv(),c=o,h=t||50,p=Math.max(500,h*3),m=function(b,T){var E=Kv();T||E-o>h?(s=r,r=b,c=o,o=E):n?r+=b:r=s+(b-s)/(E-c)*(o-c)},g=function(){s=r=n?0:r,c=o=0},_=function(b){var T=c,E=s,M=Kv();return(b||b===0)&&b!==r&&m(b),o===c||M-c>p?0:(r+(n?E:-E))/((n?M:o)-T)*1e3};return{update:m,reset:g,getVelocity:_}},gv=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},oD=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},FU=function(){$v=hs.core.globals().ScrollTrigger,$v&&$v.core&&C8()},VU=function(e){return hs=e||kU(),!NS&&hs&&typeof document<"u"&&document.body&&(ao=window,Wf=document,Xf=Wf.documentElement,eg=Wf.body,UU=[ao,Wf,Xf,eg],hs.utils.clamp,zU=hs.core.context||function(){},yd="onpointerenter"in eg?"pointer":"mouse",OU=yr.isTouch=ao.matchMedia&&ao.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ao||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Tl=yr.eventTypes=("ontouchstart"in Xf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Xf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return BU=0},500),FU(),NS=1),NS};la.op=Br;In.cache=0;var yr=(function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){NS||VU(hs)||console.warn("Please gsap.registerPlugin(Observer)"),$v||FU();var r=n.tolerance,s=n.dragMinimum,o=n.type,c=n.target,h=n.lineHeight,p=n.debounce,m=n.preventDefault,g=n.onStop,_=n.onStopDelay,x=n.ignore,b=n.wheelSpeed,T=n.event,E=n.onDragStart,M=n.onDragEnd,R=n.onDrag,D=n.onPress,L=n.onRelease,I=n.onRight,z=n.onLeft,k=n.onUp,F=n.onDown,O=n.onChangeX,U=n.onChangeY,X=n.onChange,K=n.onToggleX,ne=n.onToggleY,oe=n.onHover,le=n.onHoverEnd,q=n.onMove,J=n.ignoreCheck,ie=n.isNormalizer,pe=n.onGestureStart,$=n.onGestureEnd,Y=n.onWheel,he=n.onEnable,De=n.onDisable,Le=n.onClick,Ze=n.scrollSpeed,me=n.capture,be=n.allowClicks,Ke=n.lockAxis,qe=n.onLockAxis;this.target=c=Ua(c)||Xf,this.vars=n,x&&(x=hs.utils.toArray(x)),r=r||1e-9,s=s||0,b=b||1,Ze=Ze||1,o=o||"wheel,touch,pointer",p=p!==!1,h||(h=parseFloat(ao.getComputedStyle(eg).lineHeight)||22);var pt,Ut,Wt,ee,Pe,Ie,Ne,te=this,Qe=0,Ge=0,Je=n.passive||!m&&n.passive!==!1,vt=nh(c,la),Rt=nh(c,Br),Z=vt(),V=Rt(),de=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Tl[0]==="pointerdown",Ee=Qv(c),Ue=c.ownerDocument||Wf,Te=[0,0,0],lt=[0,0,0],Ye=0,bt=function(){return Ye=Kv()},ot=function(wt,Kt){return(te.event=wt)&&x&&R8(wt.target,x)||Kt&&de&&wt.pointerType!=="touch"||J&&J(wt,Kt)},Xe=function(){te._vx.reset(),te._vy.reset(),Ut.pause(),g&&g(te)},nt=function(){var wt=te.deltaX=oD(Te),Kt=te.deltaY=oD(lt),ut=Math.abs(wt)>=r,Bt=Math.abs(Kt)>=r;X&&(ut||Bt)&&X(te,wt,Kt,Te,lt),ut&&(I&&te.deltaX>0&&I(te),z&&te.deltaX<0&&z(te),O&&O(te),K&&te.deltaX<0!=Qe<0&&K(te),Qe=te.deltaX,Te[0]=Te[1]=Te[2]=0),Bt&&(F&&te.deltaY>0&&F(te),k&&te.deltaY<0&&k(te),U&&U(te),ne&&te.deltaY<0!=Ge<0&&ne(te),Ge=te.deltaY,lt[0]=lt[1]=lt[2]=0),(ee||Wt)&&(q&&q(te),Wt&&(E&&Wt===1&&E(te),R&&R(te),Wt=0),ee=!1),Ie&&!(Ie=!1)&&qe&&qe(te),Pe&&(Y(te),Pe=!1),pt=0},Et=function(wt,Kt,ut){Te[ut]+=wt,lt[ut]+=Kt,te._vx.update(wt),te._vy.update(Kt),p?pt||(pt=requestAnimationFrame(nt)):nt()},ft=function(wt,Kt){Ke&&!Ne&&(te.axis=Ne=Math.abs(wt)>Math.abs(Kt)?"x":"y",Ie=!0),Ne!=="y"&&(Te[2]+=wt,te._vx.update(wt,!0)),Ne!=="x"&&(lt[2]+=Kt,te._vy.update(Kt,!0)),p?pt||(pt=requestAnimationFrame(nt)):nt()},st=function(wt){if(!ot(wt,1)){wt=gv(wt,m);var Kt=wt.clientX,ut=wt.clientY,Bt=Kt-te.x,It=ut-te.y,Vt=te.isDragging;te.x=Kt,te.y=ut,(Vt||(Bt||It)&&(Math.abs(te.startX-Kt)>=s||Math.abs(te.startY-ut)>=s))&&(Wt||(Wt=Vt?2:1),Vt||(te.isDragging=!0),ft(Bt,It))}},Xt=te.onPress=function(ht){ot(ht,1)||ht&&ht.button||(te.axis=Ne=null,Ut.pause(),te.isPressed=!0,ht=gv(ht),Qe=Ge=0,te.startX=te.x=ht.clientX,te.startY=te.y=ht.clientY,te._vx.reset(),te._vy.reset(),ta(ie?c:Ue,Tl[1],st,Je,!0),te.deltaX=te.deltaY=0,D&&D(te))},re=te.onRelease=function(ht){if(!ot(ht,1)){Qs(ie?c:Ue,Tl[1],st,!0);var wt=!isNaN(te.y-te.startY),Kt=te.isDragging,ut=Kt&&(Math.abs(te.x-te.startX)>3||Math.abs(te.y-te.startY)>3),Bt=gv(ht);!ut&&wt&&(te._vx.reset(),te._vy.reset(),m&&be&&hs.delayedCall(.08,function(){if(Kv()-Ye>300&&!ht.defaultPrevented){if(ht.target.click)ht.target.click();else if(Ue.createEvent){var It=Ue.createEvent("MouseEvents");It.initMouseEvent("click",!0,!0,ao,1,Bt.screenX,Bt.screenY,Bt.clientX,Bt.clientY,!1,!1,!1,!1,0,null),ht.target.dispatchEvent(It)}}})),te.isDragging=te.isGesturing=te.isPressed=!1,g&&Kt&&!ie&&Ut.restart(!0),Wt&&nt(),M&&Kt&&M(te),L&&L(te,ut)}},$e=function(wt){return wt.touches&&wt.touches.length>1&&(te.isGesturing=!0)&&pe(wt,te.isDragging)},et=function(){return(te.isGesturing=!1)||$(te)},ct=function(wt){if(!ot(wt)){var Kt=vt(),ut=Rt();Et((Kt-Z)*Ze,(ut-V)*Ze,1),Z=Kt,V=ut,g&&Ut.restart(!0)}},He=function(wt){if(!ot(wt)){wt=gv(wt,m),Y&&(Pe=!0);var Kt=(wt.deltaMode===1?h:wt.deltaMode===2?ao.innerHeight:1)*b;Et(wt.deltaX*Kt,wt.deltaY*Kt,0),g&&!ie&&Ut.restart(!0)}},ze=function(wt){if(!ot(wt)){var Kt=wt.clientX,ut=wt.clientY,Bt=Kt-te.x,It=ut-te.y;te.x=Kt,te.y=ut,ee=!0,g&&Ut.restart(!0),(Bt||It)&&ft(Bt,It)}},mt=function(wt){te.event=wt,oe(te)},Ft=function(wt){te.event=wt,le(te)},cn=function(wt){return ot(wt)||gv(wt,m)&&Le(te)};Ut=te._dc=hs.delayedCall(_||.25,Xe).pause(),te.deltaX=te.deltaY=0,te._vx=xA(0,50,!0),te._vy=xA(0,50,!0),te.scrollX=vt,te.scrollY=Rt,te.isDragging=te.isGesturing=te.isPressed=!1,zU(this),te.enable=function(ht){return te.isEnabled||(ta(Ee?Ue:c,"scroll",_A),o.indexOf("scroll")>=0&&ta(Ee?Ue:c,"scroll",ct,Je,me),o.indexOf("wheel")>=0&&ta(c,"wheel",He,Je,me),(o.indexOf("touch")>=0&&OU||o.indexOf("pointer")>=0)&&(ta(c,Tl[0],Xt,Je,me),ta(Ue,Tl[2],re),ta(Ue,Tl[3],re),be&&ta(c,"click",bt,!0,!0),Le&&ta(c,"click",cn),pe&&ta(Ue,"gesturestart",$e),$&&ta(Ue,"gestureend",et),oe&&ta(c,yd+"enter",mt),le&&ta(c,yd+"leave",Ft),q&&ta(c,yd+"move",ze)),te.isEnabled=!0,te.isDragging=te.isGesturing=te.isPressed=ee=Wt=!1,te._vx.reset(),te._vy.reset(),Z=vt(),V=Rt(),ht&&ht.type&&Xt(ht),he&&he(te)),te},te.disable=function(){te.isEnabled&&(Vm.filter(function(ht){return ht!==te&&Qv(ht.target)}).length||Qs(Ee?Ue:c,"scroll",_A),te.isPressed&&(te._vx.reset(),te._vy.reset(),Qs(ie?c:Ue,Tl[1],st,!0)),Qs(Ee?Ue:c,"scroll",ct,me),Qs(c,"wheel",He,me),Qs(c,Tl[0],Xt,me),Qs(Ue,Tl[2],re),Qs(Ue,Tl[3],re),Qs(c,"click",bt,!0),Qs(c,"click",cn),Qs(Ue,"gesturestart",$e),Qs(Ue,"gestureend",et),Qs(c,yd+"enter",mt),Qs(c,yd+"leave",Ft),Qs(c,yd+"move",ze),te.isEnabled=te.isPressed=te.isDragging=!1,De&&De(te))},te.kill=te.revert=function(){te.disable();var ht=Vm.indexOf(te);ht>=0&&Vm.splice(ht,1),bu===te&&(bu=0)},Vm.push(te),ie&&Qv(c)&&(bu=te),te.enable(T)},A8(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i})();yr.version="3.14.2";yr.create=function(i){return new yr(i)};yr.register=VU;yr.getAll=function(){return Vm.slice()};yr.getById=function(i){return Vm.filter(function(e){return e.vars.id===i})[0]};kU()&&hs.registerPlugin(yr);var Dt,zm,Pn,Ai,ro,li,qC,f1,Ly,Jv,Uv,pb,Ds,RM,bA,sa,lD,cD,km,HU,SE,jU,ra,SA,GU,WU,Uf,MA,YC,tg,ZC,ey,wA,ME,mb=1,Ls=Date.now,wE=Ls(),Jo=0,zv=0,uD=function(e,t,n){var r=no(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},fD=function(e,t){return t&&(!no(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},N8=function i(){return zv&&requestAnimationFrame(i)},hD=function(){return RM=1},dD=function(){return RM=0},yc=function(e){return e},kv=function(e){return Math.round(e*1e5)/1e5||0},XU=function(){return typeof window<"u"},qU=function(){return Dt||XU()&&(Dt=window.gsap)&&Dt.registerPlugin&&Dt},jd=function(e){return!!~qC.indexOf(e)},YU=function(e){return(e==="Height"?ZC:Pn["inner"+e])||ro["client"+e]||li["client"+e]},ZU=function(e){return Qf(e,"getBoundingClientRect")||(jd(e)?function(){return OS.width=Pn.innerWidth,OS.height=ZC,OS}:function(){return yu(e)})},D8=function(e,t,n){var r=n.d,s=n.d2,o=n.a;return(o=Qf(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?YU(s):e["client"+s])||0}},L8=function(e,t){return!t||~Ec.indexOf(e)?ZU(e):function(){return OS}},Sc=function(e,t){var n=t.s,r=t.d2,s=t.d,o=t.a;return Math.max(0,(n="scroll"+r)&&(o=Qf(e,n))?o()-ZU(e)()[s]:jd(e)?(ro[n]||li[n])-YU(r):e[n]-e["offset"+r])},gb=function(e,t){for(var n=0;n<km.length;n+=3)(!t||~t.indexOf(km[n+1]))&&e(km[n],km[n+1],km[n+2])},no=function(e){return typeof e=="string"},Os=function(e){return typeof e=="function"},Bv=function(e){return typeof e=="number"},_d=function(e){return typeof e=="object"},vv=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},EE=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},cm=Math.abs,$U="left",KU="top",$C="right",KC="bottom",Od="width",Ud="height",ty="Right",ny="Left",iy="Top",ry="Bottom",Tr="padding",qo="margin",hg="Width",QC="Height",zr="px",Yo=function(e){return Pn.getComputedStyle(e)},P8=function(e){var t=Yo(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},pD=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},yu=function(e,t){var n=t&&Yo(e)[bA]!=="matrix(1, 0, 0, 1, 0, 0)"&&Dt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},h1=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},QU=function(e){var t=[],n=e.labels,r=e.duration(),s;for(s in n)t.push(n[s]/r);return t},I8=function(e){return function(t){return Dt.utils.snap(QU(e),t)}},JC=function(e){var t=Dt.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return n?function(r,s,o){o===void 0&&(o=.001);var c;if(!s)return t(r);if(s>0){for(r-=o,c=0;c<n.length;c++)if(n[c]>=r)return n[c];return n[c-1]}else for(c=n.length,r+=o;c--;)if(n[c]<=r)return n[c];return n[0]}:function(r,s,o){o===void 0&&(o=.001);var c=t(r);return!s||Math.abs(c-r)<o||c-r<0==s<0?c:t(s<0?r-e:r+e)}},O8=function(e){return function(t,n){return JC(QU(e))(t,n.direction)}},vb=function(e,t,n,r){return n.split(",").forEach(function(s){return e(t,s,r)})},$r=function(e,t,n,r,s){return e.addEventListener(t,n,{passive:!r,capture:!!s})},Zr=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},yb=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},mD={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_b={toggleActions:"play",anticipatePin:0},d1={top:0,left:0,center:.5,bottom:1,right:1},DS=function(e,t){if(no(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in d1?d1[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},xb=function(e,t,n,r,s,o,c,h){var p=s.startColor,m=s.endColor,g=s.fontSize,_=s.indent,x=s.fontWeight,b=Ai.createElement("div"),T=jd(n)||Qf(n,"pinType")==="fixed",E=e.indexOf("scroller")!==-1,M=T?li:n,R=e.indexOf("start")!==-1,D=R?p:m,L="border-color:"+D+";font-size:"+g+";color:"+D+";font-weight:"+x+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return L+="position:"+((E||h)&&T?"fixed;":"absolute;"),(E||h||!T)&&(L+=(r===Br?$C:KC)+":"+(o+parseFloat(_))+"px;"),c&&(L+="box-sizing:border-box;text-align:left;width:"+c.offsetWidth+"px;"),b._isStart=R,b.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),b.style.cssText=L,b.innerText=t||t===0?e+"-"+t:e,M.children[0]?M.insertBefore(b,M.children[0]):M.appendChild(b),b._offset=b["offset"+r.op.d2],LS(b,0,r,R),b},LS=function(e,t,n,r){var s={display:"block"},o=n[r?"os2":"p2"],c=n[r?"p2":"os2"];e._isFlipped=r,s[n.a+"Percent"]=r?-100:0,s[n.a]=r?"1px":0,s["border"+o+hg]=1,s["border"+c+hg]=0,s[n.p]=t+"px",Dt.set(e,s)},Rn=[],EA={},Py,gD=function(){return Ls()-Jo>34&&(Py||(Py=requestAnimationFrame(wu)))},um=function(){(!ra||!ra.isPressed||ra.startX>li.clientWidth)&&(In.cache++,ra?Py||(Py=requestAnimationFrame(wu)):wu(),Jo||Wd("scrollStart"),Jo=Ls())},TE=function(){WU=Pn.innerWidth,GU=Pn.innerHeight},Fv=function(e){In.cache++,(e===!0||!Ds&&!jU&&!Ai.fullscreenElement&&!Ai.webkitFullscreenElement&&(!SA||WU!==Pn.innerWidth||Math.abs(Pn.innerHeight-GU)>Pn.innerHeight*.25))&&f1.restart(!0)},Gd={},U8=[],JU=function i(){return Zr($t,"scrollEnd",i)||Ed(!0)},Wd=function(e){return Gd[e]&&Gd[e].map(function(t){return t()})||U8},to=[],ez=function(e){for(var t=0;t<to.length;t+=5)(!e||to[t+4]&&to[t+4].query===e)&&(to[t].style.cssText=to[t+1],to[t].getBBox&&to[t].setAttribute("transform",to[t+2]||""),to[t+3].uncache=1)},tz=function(){return In.forEach(function(e){return Os(e)&&++e.cacheID&&(e.rec=e())})},eR=function(e,t){var n;for(sa=0;sa<Rn.length;sa++)n=Rn[sa],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));ey=!0,t&&ez(t),t||Wd("revert")},nz=function(e,t){In.cache++,(t||!aa)&&In.forEach(function(n){return Os(n)&&n.cacheID++&&(n.rec=0)}),no(e)&&(Pn.history.scrollRestoration=YC=e)},aa,zd=0,vD,z8=function(){if(vD!==zd){var e=vD=zd;requestAnimationFrame(function(){return e===zd&&Ed(!0)})}},iz=function(){li.appendChild(tg),ZC=!ra&&tg.offsetHeight||Pn.innerHeight,li.removeChild(tg)},yD=function(e){return Ly(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Ed=function(e,t){if(ro=Ai.documentElement,li=Ai.body,qC=[Pn,Ai,ro,li],Jo&&!e&&!ey){$r($t,"scrollEnd",JU);return}iz(),aa=$t.isRefreshing=!0,ey||tz();var n=Wd("refreshInit");HU&&$t.sort(),t||eR(),In.forEach(function(r){Os(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Rn.slice(0).forEach(function(r){return r.refresh()}),ey=!1,Rn.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-o),r.refresh()}}),wA=1,yD(!0),Rn.forEach(function(r){var s=Sc(r.scroller,r._dir),o=r.vars.end==="max"||r._endClamp&&r.end>s,c=r._startClamp&&r.start>=s;(o||c)&&r.setPositions(c?s-1:r.start,o?Math.max(c?s:r.start+1,s):r.end,!0)}),yD(!1),wA=0,n.forEach(function(r){return r&&r.render&&r.render(-1)}),In.forEach(function(r){Os(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),nz(YC,1),f1.pause(),zd++,aa=2,wu(2),Rn.forEach(function(r){return Os(r.vars.onRefresh)&&r.vars.onRefresh(r)}),aa=$t.isRefreshing=!1,Wd("refresh")},TA=0,PS=1,sy,wu=function(e){if(e===2||!aa&&!ey){$t.isUpdating=!0,sy&&sy.update(0);var t=Rn.length,n=Ls(),r=n-wE>=50,s=t&&Rn[0].scroll();if(PS=TA>s?-1:1,aa||(TA=s),r&&(Jo&&!RM&&n-Jo>200&&(Jo=0,Wd("scrollEnd")),Uv=wE,wE=n),PS<0){for(sa=t;sa-- >0;)Rn[sa]&&Rn[sa].update(0,r);PS=1}else for(sa=0;sa<t;sa++)Rn[sa]&&Rn[sa].update(0,r);$t.isUpdating=!1}Py=0},AA=[$U,KU,KC,$C,qo+ry,qo+ty,qo+iy,qo+ny,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],IS=AA.concat([Od,Ud,"boxSizing","max"+hg,"max"+QC,"position",qo,Tr,Tr+iy,Tr+ty,Tr+ry,Tr+ny]),k8=function(e,t,n){ng(n);var r=e._gsap;if(r.spacerIsNative)ng(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},AE=function(e,t,n,r){if(!e._gsap.swappedIn){for(var s=AA.length,o=t.style,c=e.style,h;s--;)h=AA[s],o[h]=n[h];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),c[KC]=c[$C]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Od]=h1(e,la)+zr,o[Ud]=h1(e,Br)+zr,o[Tr]=c[qo]=c[KU]=c[$U]="0",ng(r),c[Od]=c["max"+hg]=n[Od],c[Ud]=c["max"+QC]=n[Ud],c[Tr]=n[Tr],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},B8=/([A-Z])/g,ng=function(e){if(e){var t=e.t.style,n=e.length,r=0,s,o;for((e.t._gsap||Dt.core.getCache(e.t)).uncache=1;r<n;r+=2)o=e[r+1],s=e[r],o?t[s]=o:t[s]&&t.removeProperty(s.replace(B8,"-$1").toLowerCase())}},bb=function(e){for(var t=IS.length,n=e.style,r=[],s=0;s<t;s++)r.push(IS[s],n[IS[s]]);return r.t=e,r},F8=function(e,t,n){for(var r=[],s=e.length,o=n?8:0,c;o<s;o+=2)c=e[o],r.push(c,c in t?t[c]:e[o+1]);return r.t=e.t,r},OS={left:0,top:0},_D=function(e,t,n,r,s,o,c,h,p,m,g,_,x,b){Os(e)&&(e=e(h)),no(e)&&e.substr(0,3)==="max"&&(e=_+(e.charAt(4)==="="?DS("0"+e.substr(3),n):0));var T=x?x.time():0,E,M,R;if(x&&x.seek(0),isNaN(e)||(e=+e),Bv(e))x&&(e=Dt.utils.mapRange(x.scrollTrigger.start,x.scrollTrigger.end,0,_,e)),c&&LS(c,n,r,!0);else{Os(t)&&(t=t(h));var D=(e||"0").split(" "),L,I,z,k;R=Ua(t,h)||li,L=yu(R)||{},(!L||!L.left&&!L.top)&&Yo(R).display==="none"&&(k=R.style.display,R.style.display="block",L=yu(R),k?R.style.display=k:R.style.removeProperty("display")),I=DS(D[0],L[r.d]),z=DS(D[1]||"0",n),e=L[r.p]-p[r.p]-m+I+s-z,c&&LS(c,z,r,n-z<20||c._isStart&&z>20),n-=n-z}if(b&&(h[b]=e||-.001,e<0&&(e=0)),o){var F=e+n,O=o._isStart;E="scroll"+r.d2,LS(o,F,r,O&&F>20||!O&&(g?Math.max(li[E],ro[E]):o.parentNode[E])<=F+1),g&&(p=yu(c),g&&(o.style[r.op.p]=p[r.op.p]-r.op.m-o._offset+zr))}return x&&R&&(E=yu(R),x.seek(_),M=yu(R),x._caScrollDist=E[r.p]-M[r.p],e=e/x._caScrollDist*_),x&&x.seek(T),x?e:Math.round(e)},V8=/(webkit|moz|length|cssText|inset)/i,xD=function(e,t,n,r){if(e.parentNode!==t){var s=e.style,o,c;if(t===li){e._stOrig=s.cssText,c=Yo(e);for(o in c)!+o&&!V8.test(o)&&c[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=c[o]);s.top=n,s.left=r}else s.cssText=e._stOrig;Dt.core.getCache(e).uncache=1,t.appendChild(e)}},rz=function(e,t,n){var r=t,s=r;return function(o){var c=Math.round(e());return c!==r&&c!==s&&Math.abs(c-r)>3&&Math.abs(c-s)>3&&(o=c,n&&n()),s=r,r=Math.round(o),r}},Sb=function(e,t,n){var r={};r[t.p]="+="+n,Dt.set(e,r)},bD=function(e,t){var n=nh(e,t),r="_scroll"+t.p2,s=function o(c,h,p,m,g){var _=o.tween,x=h.onComplete,b={};p=p||n();var T=rz(n,p,function(){_.kill(),o.tween=0});return g=m&&g||0,m=m||c-p,_&&_.kill(),h[r]=c,h.inherit=!1,h.modifiers=b,b[r]=function(){return T(p+m*_.ratio+g*_.ratio*_.ratio)},h.onUpdate=function(){In.cache++,o.tween&&wu()},h.onComplete=function(){o.tween=0,x&&x.call(_)},_=o.tween=Dt.to(e,h),_};return e[r]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},$r(e,"wheel",n.wheelHandler),$t.isTouch&&$r(e,"touchmove",n.wheelHandler),s},$t=(function(){function i(t,n){zm||i.register(Dt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),MA(this),this.init(t,n)}var e=i.prototype;return e.init=function(n,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!zv){this.update=this.refresh=this.kill=yc;return}n=pD(no(n)||Bv(n)||n.nodeType?{trigger:n}:n,_b);var s=n,o=s.onUpdate,c=s.toggleClass,h=s.id,p=s.onToggle,m=s.onRefresh,g=s.scrub,_=s.trigger,x=s.pin,b=s.pinSpacing,T=s.invalidateOnRefresh,E=s.anticipatePin,M=s.onScrubComplete,R=s.onSnapComplete,D=s.once,L=s.snap,I=s.pinReparent,z=s.pinSpacer,k=s.containerAnimation,F=s.fastScrollEnd,O=s.preventOverlaps,U=n.horizontal||n.containerAnimation&&n.horizontal!==!1?la:Br,X=!g&&g!==0,K=Ua(n.scroller||Pn),ne=Dt.core.getCache(K),oe=jd(K),le=("pinType"in n?n.pinType:Qf(K,"pinType")||oe&&"fixed")==="fixed",q=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],J=X&&n.toggleActions.split(" "),ie="markers"in n?n.markers:_b.markers,pe=oe?0:parseFloat(Yo(K)["border"+U.p2+hg])||0,$=this,Y=n.onRefreshInit&&function(){return n.onRefreshInit($)},he=D8(K,oe,U),De=L8(K,oe),Le=0,Ze=0,me=0,be=nh(K,U),Ke,qe,pt,Ut,Wt,ee,Pe,Ie,Ne,te,Qe,Ge,Je,vt,Rt,Z,V,de,Ee,Ue,Te,lt,Ye,bt,ot,Xe,nt,Et,ft,st,Xt,re,$e,et,ct,He,ze,mt,Ft;if($._startClamp=$._endClamp=!1,$._dir=U,E*=45,$.scroller=K,$.scroll=k?k.time.bind(k):be,Ut=be(),$.vars=n,r=r||n.animation,"refreshPriority"in n&&(HU=1,n.refreshPriority===-9999&&(sy=$)),ne.tweenScroll=ne.tweenScroll||{top:bD(K,Br),left:bD(K,la)},$.tweenTo=Ke=ne.tweenScroll[U.p],$.scrubDuration=function(ut){$e=Bv(ut)&&ut,$e?re?re.duration(ut):re=Dt.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:$e,paused:!0,onComplete:function(){return M&&M($)}}):(re&&re.progress(1).kill(),re=0)},r&&(r.vars.lazy=!1,r._initted&&!$.isReverted||r.vars.immediateRender!==!1&&n.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),$.animation=r.pause(),r.scrollTrigger=$,$.scrubDuration(g),st=0,h||(h=r.vars.id)),L&&((!_d(L)||L.push)&&(L={snapTo:L}),"scrollBehavior"in li.style&&Dt.set(oe?[li,ro]:K,{scrollBehavior:"auto"}),In.forEach(function(ut){return Os(ut)&&ut.target===(oe?Ai.scrollingElement||ro:K)&&(ut.smooth=!1)}),pt=Os(L.snapTo)?L.snapTo:L.snapTo==="labels"?I8(r):L.snapTo==="labelsDirectional"?O8(r):L.directional!==!1?function(ut,Bt){return JC(L.snapTo)(ut,Ls()-Ze<500?0:Bt.direction)}:Dt.utils.snap(L.snapTo),et=L.duration||{min:.1,max:2},et=_d(et)?Jv(et.min,et.max):Jv(et,et),ct=Dt.delayedCall(L.delay||$e/2||.1,function(){var ut=be(),Bt=Ls()-Ze<500,It=Ke.tween;if((Bt||Math.abs($.getVelocity())<10)&&!It&&!RM&&Le!==ut){var Vt=(ut-ee)/vt,ri=r&&!X?r.totalProgress():Vt,nn=Bt?0:(ri-Xt)/(Ls()-Uv)*1e3||0,Fn=Dt.utils.clamp(-Vt,1-Vt,cm(nn/2)*nn/.185),Wn=Vt+(L.inertia===!1?0:Fn),Jt,rn,bn=L,bi=bn.onStart,zn=bn.onInterrupt,Vi=bn.onComplete;if(Jt=pt(Wn,$),Bv(Jt)||(Jt=Wn),rn=Math.max(0,Math.round(ee+Jt*vt)),ut<=Pe&&ut>=ee&&rn!==ut){if(It&&!It._initted&&It.data<=cm(rn-ut))return;L.inertia===!1&&(Fn=Jt-Vt),Ke(rn,{duration:et(cm(Math.max(cm(Wn-ri),cm(Jt-ri))*.185/nn/.05||0)),ease:L.ease||"power3",data:cm(rn-ut),onInterrupt:function(){return ct.restart(!0)&&zn&&zn($)},onComplete:function(){$.update(),Le=be(),r&&!X&&(re?re.resetTo("totalProgress",Jt,r._tTime/r._tDur):r.progress(Jt)),st=Xt=r&&!X?r.totalProgress():$.progress,R&&R($),Vi&&Vi($)}},ut,Fn*vt,rn-ut-Fn*vt),bi&&bi($,Ke.tween)}}else $.isActive&&Le!==ut&&ct.restart(!0)}).pause()),h&&(EA[h]=$),_=$.trigger=Ua(_||x!==!0&&x),Ft=_&&_._gsap&&_._gsap.stRevert,Ft&&(Ft=Ft($)),x=x===!0?_:Ua(x),no(c)&&(c={targets:_,className:c}),x&&(b===!1||b===qo||(b=!b&&x.parentNode&&x.parentNode.style&&Yo(x.parentNode).display==="flex"?!1:Tr),$.pin=x,qe=Dt.core.getCache(x),qe.spacer?Rt=qe.pinState:(z&&(z=Ua(z),z&&!z.nodeType&&(z=z.current||z.nativeElement),qe.spacerIsNative=!!z,z&&(qe.spacerState=bb(z))),qe.spacer=de=z||Ai.createElement("div"),de.classList.add("pin-spacer"),h&&de.classList.add("pin-spacer-"+h),qe.pinState=Rt=bb(x)),n.force3D!==!1&&Dt.set(x,{force3D:!0}),$.spacer=de=qe.spacer,ft=Yo(x),bt=ft[b+U.os2],Ue=Dt.getProperty(x),Te=Dt.quickSetter(x,U.a,zr),AE(x,de,ft),V=bb(x)),ie){Ge=_d(ie)?pD(ie,mD):mD,te=xb("scroller-start",h,K,U,Ge,0),Qe=xb("scroller-end",h,K,U,Ge,0,te),Ee=te["offset"+U.op.d2];var cn=Ua(Qf(K,"content")||K);Ie=this.markerStart=xb("start",h,cn,U,Ge,Ee,0,k),Ne=this.markerEnd=xb("end",h,cn,U,Ge,Ee,0,k),k&&(mt=Dt.quickSetter([Ie,Ne],U.a,zr)),!le&&!(Ec.length&&Qf(K,"fixedMarkers")===!0)&&(P8(oe?li:K),Dt.set([te,Qe],{force3D:!0}),Xe=Dt.quickSetter(te,U.a,zr),Et=Dt.quickSetter(Qe,U.a,zr))}if(k){var ht=k.vars.onUpdate,wt=k.vars.onUpdateParams;k.eventCallback("onUpdate",function(){$.update(0,0,1),ht&&ht.apply(k,wt||[])})}if($.previous=function(){return Rn[Rn.indexOf($)-1]},$.next=function(){return Rn[Rn.indexOf($)+1]},$.revert=function(ut,Bt){if(!Bt)return $.kill(!0);var It=ut!==!1||!$.enabled,Vt=Ds;It!==$.isReverted&&(It&&(He=Math.max(be(),$.scroll.rec||0),me=$.progress,ze=r&&r.progress()),Ie&&[Ie,Ne,te,Qe].forEach(function(ri){return ri.style.display=It?"none":"block"}),It&&(Ds=$,$.update(It)),x&&(!I||!$.isActive)&&(It?k8(x,de,Rt):AE(x,de,Yo(x),ot)),It||$.update(It),Ds=Vt,$.isReverted=It)},$.refresh=function(ut,Bt,It,Vt){if(!((Ds||!$.enabled)&&!Bt)){if(x&&ut&&Jo){$r(i,"scrollEnd",JU);return}!aa&&Y&&Y($),Ds=$,Ke.tween&&!It&&(Ke.tween.kill(),Ke.tween=0),re&&re.pause(),T&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren?r.getChildren(!0,!0,!1).forEach(function(un){return un.vars.immediateRender&&un.render(0,!0,!0)}):r.vars.immediateRender&&r.render(0,!0,!0)),$.isReverted||$.revert(!0,!0),$._subPinOffset=!1;var ri=he(),nn=De(),Fn=k?k.duration():Sc(K,U),Wn=vt<=.01||!vt,Jt=0,rn=Vt||0,bn=_d(It)?It.end:n.end,bi=n.endTrigger||_,zn=_d(It)?It.start:n.start||(n.start===0||!_?0:x?"0 0":"0 100%"),Vi=$.pinnedContainer=n.pinnedContainer&&Ua(n.pinnedContainer,$),Nr=_&&Math.max(0,Rn.indexOf($))||0,Jn=Nr,G,ue,_e,Me,fe,Oe,it,xt,dt,St,yt,Tt,At;for(ie&&_d(It)&&(Tt=Dt.getProperty(te,U.p),At=Dt.getProperty(Qe,U.p));Jn-- >0;)Oe=Rn[Jn],Oe.end||Oe.refresh(0,1)||(Ds=$),it=Oe.pin,it&&(it===_||it===x||it===Vi)&&!Oe.isReverted&&(St||(St=[]),St.unshift(Oe),Oe.revert(!0,!0)),Oe!==Rn[Jn]&&(Nr--,Jn--);for(Os(zn)&&(zn=zn($)),zn=uD(zn,"start",$),ee=_D(zn,_,ri,U,be(),Ie,te,$,nn,pe,le,Fn,k,$._startClamp&&"_startClamp")||(x?-.001:0),Os(bn)&&(bn=bn($)),no(bn)&&!bn.indexOf("+=")&&(~bn.indexOf(" ")?bn=(no(zn)?zn.split(" ")[0]:"")+bn:(Jt=DS(bn.substr(2),ri),bn=no(zn)?zn:(k?Dt.utils.mapRange(0,k.duration(),k.scrollTrigger.start,k.scrollTrigger.end,ee):ee)+Jt,bi=_)),bn=uD(bn,"end",$),Pe=Math.max(ee,_D(bn||(bi?"100% 0":Fn),bi,ri,U,be()+Jt,Ne,Qe,$,nn,pe,le,Fn,k,$._endClamp&&"_endClamp"))||-.001,Jt=0,Jn=Nr;Jn--;)Oe=Rn[Jn]||{},it=Oe.pin,it&&Oe.start-Oe._pinPush<=ee&&!k&&Oe.end>0&&(G=Oe.end-($._startClamp?Math.max(0,Oe.start):Oe.start),(it===_&&Oe.start-Oe._pinPush<ee||it===Vi)&&isNaN(zn)&&(Jt+=G*(1-Oe.progress)),it===x&&(rn+=G));if(ee+=Jt,Pe+=Jt,$._startClamp&&($._startClamp+=Jt),$._endClamp&&!aa&&($._endClamp=Pe||-.001,Pe=Math.min(Pe,Sc(K,U))),vt=Pe-ee||(ee-=.01)&&.001,Wn&&(me=Dt.utils.clamp(0,1,Dt.utils.normalize(ee,Pe,He))),$._pinPush=rn,Ie&&Jt&&(G={},G[U.a]="+="+Jt,Vi&&(G[U.p]="-="+be()),Dt.set([Ie,Ne],G)),x&&!(wA&&$.end>=Sc(K,U)))G=Yo(x),Me=U===Br,_e=be(),lt=parseFloat(Ue(U.a))+rn,!Fn&&Pe>1&&(yt=(oe?Ai.scrollingElement||ro:K).style,yt={style:yt,value:yt["overflow"+U.a.toUpperCase()]},oe&&Yo(li)["overflow"+U.a.toUpperCase()]!=="scroll"&&(yt.style["overflow"+U.a.toUpperCase()]="scroll")),AE(x,de,G),V=bb(x),ue=yu(x,!0),xt=le&&nh(K,Me?la:Br)(),b?(ot=[b+U.os2,vt+rn+zr],ot.t=de,Jn=b===Tr?h1(x,U)+vt+rn:0,Jn&&(ot.push(U.d,Jn+zr),de.style.flexBasis!=="auto"&&(de.style.flexBasis=Jn+zr)),ng(ot),Vi&&Rn.forEach(function(un){un.pin===Vi&&un.vars.pinSpacing!==!1&&(un._subPinOffset=!0)}),le&&be(He)):(Jn=h1(x,U),Jn&&de.style.flexBasis!=="auto"&&(de.style.flexBasis=Jn+zr)),le&&(fe={top:ue.top+(Me?_e-ee:xt)+zr,left:ue.left+(Me?xt:_e-ee)+zr,boxSizing:"border-box",position:"fixed"},fe[Od]=fe["max"+hg]=Math.ceil(ue.width)+zr,fe[Ud]=fe["max"+QC]=Math.ceil(ue.height)+zr,fe[qo]=fe[qo+iy]=fe[qo+ty]=fe[qo+ry]=fe[qo+ny]="0",fe[Tr]=G[Tr],fe[Tr+iy]=G[Tr+iy],fe[Tr+ty]=G[Tr+ty],fe[Tr+ry]=G[Tr+ry],fe[Tr+ny]=G[Tr+ny],Z=F8(Rt,fe,I),aa&&be(0)),r?(dt=r._initted,SE(1),r.render(r.duration(),!0,!0),Ye=Ue(U.a)-lt+vt+rn,nt=Math.abs(vt-Ye)>1,le&&nt&&Z.splice(Z.length-2,2),r.render(0,!0,!0),dt||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),SE(0)):Ye=vt,yt&&(yt.value?yt.style["overflow"+U.a.toUpperCase()]=yt.value:yt.style.removeProperty("overflow-"+U.a));else if(_&&be()&&!k)for(ue=_.parentNode;ue&&ue!==li;)ue._pinOffset&&(ee-=ue._pinOffset,Pe-=ue._pinOffset),ue=ue.parentNode;St&&St.forEach(function(un){return un.revert(!1,!0)}),$.start=ee,$.end=Pe,Ut=Wt=aa?He:be(),!k&&!aa&&(Ut<He&&be(He),$.scroll.rec=0),$.revert(!1,!0),Ze=Ls(),ct&&(Le=-1,ct.restart(!0)),Ds=0,r&&X&&(r._initted||ze)&&r.progress()!==ze&&r.progress(ze||0,!0).render(r.time(),!0,!0),(Wn||me!==$.progress||k||T||r&&!r._initted)&&(r&&!X&&(r._initted||me||r.vars.immediateRender!==!1)&&r.totalProgress(k&&ee<-.001&&!me?Dt.utils.normalize(ee,Pe,0):me,!0),$.progress=Wn||(Ut-ee)/vt===me?0:me),x&&b&&(de._pinOffset=Math.round($.progress*Ye)),re&&re.invalidate(),isNaN(Tt)||(Tt-=Dt.getProperty(te,U.p),At-=Dt.getProperty(Qe,U.p),Sb(te,U,Tt),Sb(Ie,U,Tt-(Vt||0)),Sb(Qe,U,At),Sb(Ne,U,At-(Vt||0))),Wn&&!aa&&$.update(),m&&!aa&&!Je&&(Je=!0,m($),Je=!1)}},$.getVelocity=function(){return(be()-Wt)/(Ls()-Uv)*1e3||0},$.endAnimation=function(){vv($.callbackAnimation),r&&(re?re.progress(1):r.paused()?X||vv(r,$.direction<0,1):vv(r,r.reversed()))},$.labelToScroll=function(ut){return r&&r.labels&&(ee||$.refresh()||ee)+r.labels[ut]/r.duration()*vt||0},$.getTrailing=function(ut){var Bt=Rn.indexOf($),It=$.direction>0?Rn.slice(0,Bt).reverse():Rn.slice(Bt+1);return(no(ut)?It.filter(function(Vt){return Vt.vars.preventOverlaps===ut}):It).filter(function(Vt){return $.direction>0?Vt.end<=ee:Vt.start>=Pe})},$.update=function(ut,Bt,It){if(!(k&&!It&&!ut)){var Vt=aa===!0?He:$.scroll(),ri=ut?0:(Vt-ee)/vt,nn=ri<0?0:ri>1?1:ri||0,Fn=$.progress,Wn,Jt,rn,bn,bi,zn,Vi,Nr;if(Bt&&(Wt=Ut,Ut=k?be():Vt,L&&(Xt=st,st=r&&!X?r.totalProgress():nn)),E&&x&&!Ds&&!mb&&Jo&&(!nn&&ee<Vt+(Vt-Wt)/(Ls()-Uv)*E?nn=1e-4:nn===1&&Pe>Vt+(Vt-Wt)/(Ls()-Uv)*E&&(nn=.9999)),nn!==Fn&&$.enabled){if(Wn=$.isActive=!!nn&&nn<1,Jt=!!Fn&&Fn<1,zn=Wn!==Jt,bi=zn||!!nn!=!!Fn,$.direction=nn>Fn?1:-1,$.progress=nn,bi&&!Ds&&(rn=nn&&!Fn?0:nn===1?1:Fn===1?2:3,X&&(bn=!zn&&J[rn+1]!=="none"&&J[rn+1]||J[rn],Nr=r&&(bn==="complete"||bn==="reset"||bn in r))),O&&(zn||Nr)&&(Nr||g||!r)&&(Os(O)?O($):$.getTrailing(O).forEach(function(_e){return _e.endAnimation()})),X||(re&&!Ds&&!mb?(re._dp._time-re._start!==re._time&&re.render(re._dp._time-re._start),re.resetTo?re.resetTo("totalProgress",nn,r._tTime/r._tDur):(re.vars.totalProgress=nn,re.invalidate().restart())):r&&r.totalProgress(nn,!!(Ds&&(Ze||ut)))),x){if(ut&&b&&(de.style[b+U.os2]=bt),!le)Te(kv(lt+Ye*nn));else if(bi){if(Vi=!ut&&nn>Fn&&Pe+1>Vt&&Vt+1>=Sc(K,U),I)if(!ut&&(Wn||Vi)){var Jn=yu(x,!0),G=Vt-ee;xD(x,li,Jn.top+(U===Br?G:0)+zr,Jn.left+(U===Br?0:G)+zr)}else xD(x,de);ng(Wn||Vi?Z:V),nt&&nn<1&&Wn||Te(lt+(nn===1&&!Vi?Ye:0))}}L&&!Ke.tween&&!Ds&&!mb&&ct.restart(!0),c&&(zn||D&&nn&&(nn<1||!ME))&&Ly(c.targets).forEach(function(_e){return _e.classList[Wn||D?"add":"remove"](c.className)}),o&&!X&&!ut&&o($),bi&&!Ds?(X&&(Nr&&(bn==="complete"?r.pause().totalProgress(1):bn==="reset"?r.restart(!0).pause():bn==="restart"?r.restart(!0):r[bn]()),o&&o($)),(zn||!ME)&&(p&&zn&&EE($,p),q[rn]&&EE($,q[rn]),D&&(nn===1?$.kill(!1,1):q[rn]=0),zn||(rn=nn===1?1:3,q[rn]&&EE($,q[rn]))),F&&!Wn&&Math.abs($.getVelocity())>(Bv(F)?F:2500)&&(vv($.callbackAnimation),re?re.progress(1):vv(r,bn==="reverse"?1:!nn,1))):X&&o&&!Ds&&o($)}if(Et){var ue=k?Vt/k.duration()*(k._caScrollDist||0):Vt;Xe(ue+(te._isFlipped?1:0)),Et(ue)}mt&&mt(-Vt/k.duration()*(k._caScrollDist||0))}},$.enable=function(ut,Bt){$.enabled||($.enabled=!0,$r(K,"resize",Fv),oe||$r(K,"scroll",um),Y&&$r(i,"refreshInit",Y),ut!==!1&&($.progress=me=0,Ut=Wt=Le=be()),Bt!==!1&&$.refresh())},$.getTween=function(ut){return ut&&Ke?Ke.tween:re},$.setPositions=function(ut,Bt,It,Vt){if(k){var ri=k.scrollTrigger,nn=k.duration(),Fn=ri.end-ri.start;ut=ri.start+Fn*ut/nn,Bt=ri.start+Fn*Bt/nn}$.refresh(!1,!1,{start:fD(ut,It&&!!$._startClamp),end:fD(Bt,It&&!!$._endClamp)},Vt),$.update()},$.adjustPinSpacing=function(ut){if(ot&&ut){var Bt=ot.indexOf(U.d)+1;ot[Bt]=parseFloat(ot[Bt])+ut+zr,ot[1]=parseFloat(ot[1])+ut+zr,ng(ot)}},$.disable=function(ut,Bt){if(ut!==!1&&$.revert(!0,!0),$.enabled&&($.enabled=$.isActive=!1,Bt||re&&re.pause(),He=0,qe&&(qe.uncache=1),Y&&Zr(i,"refreshInit",Y),ct&&(ct.pause(),Ke.tween&&Ke.tween.kill()&&(Ke.tween=0)),!oe)){for(var It=Rn.length;It--;)if(Rn[It].scroller===K&&Rn[It]!==$)return;Zr(K,"resize",Fv),oe||Zr(K,"scroll",um)}},$.kill=function(ut,Bt){$.disable(ut,Bt),re&&!Bt&&re.kill(),h&&delete EA[h];var It=Rn.indexOf($);It>=0&&Rn.splice(It,1),It===sa&&PS>0&&sa--,It=0,Rn.forEach(function(Vt){return Vt.scroller===$.scroller&&(It=1)}),It||aa||($.scroll.rec=0),r&&(r.scrollTrigger=null,ut&&r.revert({kill:!1}),Bt||r.kill()),Ie&&[Ie,Ne,te,Qe].forEach(function(Vt){return Vt.parentNode&&Vt.parentNode.removeChild(Vt)}),sy===$&&(sy=0),x&&(qe&&(qe.uncache=1),It=0,Rn.forEach(function(Vt){return Vt.pin===x&&It++}),It||(qe.spacer=0)),n.onKill&&n.onKill($)},Rn.push($),$.enable(!1,!1),Ft&&Ft($),r&&r.add&&!vt){var Kt=$.update;$.update=function(){$.update=Kt,In.cache++,ee||Pe||$.refresh()},Dt.delayedCall(.01,$.update),vt=.01,ee=Pe=0}else $.refresh();x&&z8()},i.register=function(n){return zm||(Dt=n||qU(),XU()&&window.document&&i.enable(),zm=zv),zm},i.defaults=function(n){if(n)for(var r in n)_b[r]=n[r];return _b},i.disable=function(n,r){zv=0,Rn.forEach(function(o){return o[r?"kill":"disable"](n)}),Zr(Pn,"wheel",um),Zr(Ai,"scroll",um),clearInterval(pb),Zr(Ai,"touchcancel",yc),Zr(li,"touchstart",yc),vb(Zr,Ai,"pointerdown,touchstart,mousedown",hD),vb(Zr,Ai,"pointerup,touchend,mouseup",dD),f1.kill(),gb(Zr);for(var s=0;s<In.length;s+=3)yb(Zr,In[s],In[s+1]),yb(Zr,In[s],In[s+2])},i.enable=function(){if(Pn=window,Ai=document,ro=Ai.documentElement,li=Ai.body,Dt&&(Ly=Dt.utils.toArray,Jv=Dt.utils.clamp,MA=Dt.core.context||yc,SE=Dt.core.suppressOverwrites||yc,YC=Pn.history.scrollRestoration||"auto",TA=Pn.pageYOffset||0,Dt.core.globals("ScrollTrigger",i),li)){zv=1,tg=document.createElement("div"),tg.style.height="100vh",tg.style.position="absolute",iz(),N8(),yr.register(Dt),i.isTouch=yr.isTouch,Uf=yr.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),SA=yr.isTouch===1,$r(Pn,"wheel",um),qC=[Pn,Ai,ro,li],Dt.matchMedia?(i.matchMedia=function(p){var m=Dt.matchMedia(),g;for(g in p)m.add(g,p[g]);return m},Dt.addEventListener("matchMediaInit",function(){tz(),eR()}),Dt.addEventListener("matchMediaRevert",function(){return ez()}),Dt.addEventListener("matchMedia",function(){Ed(0,1),Wd("matchMedia")}),Dt.matchMedia().add("(orientation: portrait)",function(){return TE(),TE})):console.warn("Requires GSAP 3.11.0 or later"),TE(),$r(Ai,"scroll",um);var n=li.hasAttribute("style"),r=li.style,s=r.borderTopStyle,o=Dt.core.Animation.prototype,c,h;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",c=yu(li),Br.m=Math.round(c.top+Br.sc())||0,la.m=Math.round(c.left+la.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),n||(li.setAttribute("style",""),li.removeAttribute("style")),pb=setInterval(gD,250),Dt.delayedCall(.5,function(){return mb=0}),$r(Ai,"touchcancel",yc),$r(li,"touchstart",yc),vb($r,Ai,"pointerdown,touchstart,mousedown",hD),vb($r,Ai,"pointerup,touchend,mouseup",dD),bA=Dt.utils.checkPrefix("transform"),IS.push(bA),zm=Ls(),f1=Dt.delayedCall(.2,Ed).pause(),km=[Ai,"visibilitychange",function(){var p=Pn.innerWidth,m=Pn.innerHeight;Ai.hidden?(lD=p,cD=m):(lD!==p||cD!==m)&&Fv()},Ai,"DOMContentLoaded",Ed,Pn,"load",Ed,Pn,"resize",Fv],gb($r),Rn.forEach(function(p){return p.enable(0,1)}),h=0;h<In.length;h+=3)yb(Zr,In[h],In[h+1]),yb(Zr,In[h],In[h+2])}},i.config=function(n){"limitCallbacks"in n&&(ME=!!n.limitCallbacks);var r=n.syncInterval;r&&clearInterval(pb)||(pb=r)&&setInterval(gD,r),"ignoreMobileResize"in n&&(SA=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(gb(Zr)||gb($r,n.autoRefreshEvents||"none"),jU=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,r){var s=Ua(n),o=In.indexOf(s),c=jd(s);~o&&In.splice(o,c?6:2),r&&(c?Ec.unshift(Pn,r,li,r,ro,r):Ec.unshift(s,r))},i.clearMatchMedia=function(n){Rn.forEach(function(r){return r._ctx&&r._ctx.query===n&&r._ctx.kill(!0,!0)})},i.isInViewport=function(n,r,s){var o=(no(n)?Ua(n):n).getBoundingClientRect(),c=o[s?Od:Ud]*r||0;return s?o.right-c>0&&o.left+c<Pn.innerWidth:o.bottom-c>0&&o.top+c<Pn.innerHeight},i.positionInViewport=function(n,r,s){no(n)&&(n=Ua(n));var o=n.getBoundingClientRect(),c=o[s?Od:Ud],h=r==null?c/2:r in d1?d1[r]*c:~r.indexOf("%")?parseFloat(r)*c/100:parseFloat(r)||0;return s?(o.left+h)/Pn.innerWidth:(o.top+h)/Pn.innerHeight},i.killAll=function(n){if(Rn.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var r=Gd.killAll||[];Gd={},r.forEach(function(s){return s()})}},i})();$t.version="3.14.2";$t.saveStyles=function(i){return i?Ly(i).forEach(function(e){if(e&&e.style){var t=to.indexOf(e);t>=0&&to.splice(t,5),to.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Dt.core.getCache(e),MA())}}):to};$t.revert=function(i,e){return eR(!i,e)};$t.create=function(i,e){return new $t(i,e)};$t.refresh=function(i){return i?Fv(!0):(zm||$t.register())&&Ed(!0)};$t.update=function(i){return++In.cache&&wu(i===!0?2:0)};$t.clearScrollMemory=nz;$t.maxScroll=function(i,e){return Sc(i,e?la:Br)};$t.getScrollFunc=function(i,e){return nh(Ua(i),e?la:Br)};$t.getById=function(i){return EA[i]};$t.getAll=function(){return Rn.filter(function(i){return i.vars.id!=="ScrollSmoother"})};$t.isScrolling=function(){return!!Jo};$t.snapDirectional=JC;$t.addEventListener=function(i,e){var t=Gd[i]||(Gd[i]=[]);~t.indexOf(e)||t.push(e)};$t.removeEventListener=function(i,e){var t=Gd[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};$t.batch=function(i,e){var t=[],n={},r=e.interval||.016,s=e.batchMax||1e9,o=function(p,m){var g=[],_=[],x=Dt.delayedCall(r,function(){m(g,_),g=[],_=[]}).pause();return function(b){g.length||x.restart(!0),g.push(b.trigger),_.push(b),s<=g.length&&x.progress(1)}},c;for(c in e)n[c]=c.substr(0,2)==="on"&&Os(e[c])&&c!=="onRefreshInit"?o(c,e[c]):e[c];return Os(s)&&(s=s(),$r($t,"refresh",function(){return s=e.batchMax()})),Ly(i).forEach(function(h){var p={};for(c in n)p[c]=n[c];p.trigger=h,t.push($t.create(p))}),t};var SD=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},CE=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(yr.isTouch?" pinch-zoom":""):"none",e===ro&&i(li,t)},Mb={auto:1,scroll:1},H8=function(e){var t=e.event,n=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||Dt.core.getCache(s),c=Ls(),h;if(!o._isScrollT||c-o._isScrollT>2e3){for(;s&&s!==li&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(Mb[(h=Yo(s)).overflowY]||Mb[h.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==n&&!jd(s)&&(Mb[(h=Yo(s)).overflowY]||Mb[h.overflowX]),o._isScrollT=c}(o._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},sz=function(e,t,n,r){return yr.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&H8,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&$r(Ai,yr.eventTypes[0],wD,!1,!0)},onDisable:function(){return Zr(Ai,yr.eventTypes[0],wD,!0)}})},j8=/(input|label|select|textarea)/i,MD,wD=function(e){var t=j8.test(e.target.tagName);(t||MD)&&(e._gsapAllow=!0,MD=t)},G8=function(e){_d(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,r=t.momentum,s=t.allowNestedScroll,o=t.onRelease,c,h,p=Ua(e.target)||ro,m=Dt.core.globals().ScrollSmoother,g=m&&m.get(),_=Uf&&(e.content&&Ua(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),x=nh(p,Br),b=nh(p,la),T=1,E=(yr.isTouch&&Pn.visualViewport?Pn.visualViewport.scale*Pn.visualViewport.width:Pn.outerWidth)/Pn.innerWidth,M=0,R=Os(r)?function(){return r(c)}:function(){return r||2.8},D,L,I=sz(p,e.type,!0,s),z=function(){return L=!1},k=yc,F=yc,O=function(){h=Sc(p,Br),F=Jv(Uf?1:0,h),n&&(k=Jv(0,Sc(p,la))),D=zd},U=function(){_._gsap.y=kv(parseFloat(_._gsap.y)+x.offset)+"px",_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(_._gsap.y)+", 0, 1)",x.offset=x.cacheID=0},X=function(){if(L){requestAnimationFrame(z);var ie=kv(c.deltaY/2),pe=F(x.v-ie);if(_&&pe!==x.v+x.offset){x.offset=pe-x.v;var $=kv((parseFloat(_&&_._gsap.y)||0)-x.offset);_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+$+", 0, 1)",_._gsap.y=$+"px",x.cacheID=In.cache,wu()}return!0}x.offset&&U(),L=!0},K,ne,oe,le,q=function(){O(),K.isActive()&&K.vars.scrollY>h&&(x()>h?K.progress(1)&&x(h):K.resetTo("scrollY",h))};return _&&Dt.set(_,{y:"+=0"}),e.ignoreCheck=function(J){return Uf&&J.type==="touchmove"&&X()||T>1.05&&J.type!=="touchstart"||c.isGesturing||J.touches&&J.touches.length>1},e.onPress=function(){L=!1;var J=T;T=kv((Pn.visualViewport&&Pn.visualViewport.scale||1)/E),K.pause(),J!==T&&CE(p,T>1.01?!0:n?!1:"x"),ne=b(),oe=x(),O(),D=zd},e.onRelease=e.onGestureStart=function(J,ie){if(x.offset&&U(),!ie)le.restart(!0);else{In.cache++;var pe=R(),$,Y;n&&($=b(),Y=$+pe*.05*-J.velocityX/.227,pe*=SD(b,$,Y,Sc(p,la)),K.vars.scrollX=k(Y)),$=x(),Y=$+pe*.05*-J.velocityY/.227,pe*=SD(x,$,Y,Sc(p,Br)),K.vars.scrollY=F(Y),K.invalidate().duration(pe).play(.01),(Uf&&K.vars.scrollY>=h||$>=h-1)&&Dt.to({},{onUpdate:q,duration:pe})}o&&o(J)},e.onWheel=function(){K._ts&&K.pause(),Ls()-M>1e3&&(D=0,M=Ls())},e.onChange=function(J,ie,pe,$,Y){if(zd!==D&&O(),ie&&n&&b(k($[2]===ie?ne+(J.startX-J.x):b()+ie-$[1])),pe){x.offset&&U();var he=Y[2]===pe,De=he?oe+J.startY-J.y:x()+pe-Y[1],Le=F(De);he&&De!==Le&&(oe+=Le-De),x(Le)}(pe||ie)&&wu()},e.onEnable=function(){CE(p,n?!1:"x"),$t.addEventListener("refresh",q),$r(Pn,"resize",q),x.smooth&&(x.target.style.scrollBehavior="auto",x.smooth=b.smooth=!1),I.enable()},e.onDisable=function(){CE(p,!0),Zr(Pn,"resize",q),$t.removeEventListener("refresh",q),I.kill()},e.lockAxis=e.lockAxis!==!1,c=new yr(e),c.iOS=Uf,Uf&&!x()&&x(1),Uf&&Dt.ticker.add(yc),le=c._dc,K=Dt.to(c,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:rz(x,x(),function(){return K.pause()})},onUpdate:wu,onComplete:le.vars.onComplete}),c};$t.sort=function(i){if(Os(i))return Rn.sort(i);var e=Pn.pageYOffset||0;return $t.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Pn.innerHeight}),Rn.sort(i||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};$t.observe=function(i){return new yr(i)};$t.normalizeScroll=function(i){if(typeof i>"u")return ra;if(i===!0&&ra)return ra.enable();if(i===!1){ra&&ra.kill(),ra=i;return}var e=i instanceof yr?i:G8(i);return ra&&ra.target===e.target&&ra.kill(),jd(e.target)&&(ra=e),e};$t.core={_getVelocityProp:xA,_inputObserver:sz,_scrollers:In,_proxies:Ec,bridge:{ss:function(){Jo||Wd("scrollStart"),Jo=Ls()},ref:function(){return Ds}}};qU()&&Dt.registerPlugin($t);const NM="180",W8={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},X8={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},az=0,CA=1,oz=2,q8=3,lz=0,DM=1,ay=2,Cl=3,Pu=0,ha=1,xc=2,Eu=0,kd=1,RA=2,NA=3,DA=4,cz=5,Ff=100,uz=101,fz=102,hz=103,dz=104,pz=200,mz=201,gz=202,vz=203,p1=204,m1=205,yz=206,_z=207,xz=208,bz=209,Sz=210,Mz=211,wz=212,Ez=213,Tz=214,g1=0,v1=1,y1=2,Xd=3,_1=4,x1=5,b1=6,S1=7,l_=0,Az=1,Cz=2,Tc=0,Rz=1,Nz=2,Dz=3,tR=4,Lz=5,Pz=6,Iz=7,LA="attached",Oz="detached",LM=300,Iu=301,ih=302,Iy=303,Oy=304,Cg=306,Uy=1e3,Ko=1001,zy=1002,ps=1003,nR=1004,Y8=1004,Hm=1005,Z8=1005,Fr=1006,oy=1007,$8=1007,Mc=1008,K8=1008,el=1009,iR=1010,rR=1011,dg=1012,PM=1013,Ou=1014,Ba=1015,Rg=1016,IM=1017,OM=1018,pg=1020,sR=35902,aR=35899,oR=1021,lR=1022,Us=1023,mg=1026,gg=1027,UM=1028,c_=1029,cR=1030,zM=1031,Q8=1032,kM=1033,ly=33776,cy=33777,uy=33778,fy=33779,M1=35840,w1=35841,E1=35842,T1=35843,A1=36196,C1=37492,R1=37496,N1=37808,D1=37809,L1=37810,P1=37811,I1=37812,O1=37813,U1=37814,z1=37815,k1=37816,B1=37817,F1=37818,V1=37819,H1=37820,j1=37821,G1=36492,W1=36494,X1=36495,q1=36283,Y1=36284,Z1=36285,$1=36286,Uz=2200,zz=2201,kz=2202,ky=2300,K1=2301,US=2302,Td=2400,Ad=2401,By=2402,BM=2500,uR=2501,J8=0,ej=1,tj=2,Bz=3200,Fz=3201,nj=3202,ij=3203,uh=0,Vz=1,_u="",Ps="srgb",rh="srgb-linear",Fy="linear",fi="srgb",rj=0,xd=7680,sj=7681,aj=7682,oj=7683,lj=34055,cj=34056,uj=5386,fj=512,hj=513,dj=514,pj=515,mj=516,gj=517,vj=518,PA=519,Hz=512,jz=513,Gz=514,fR=515,Wz=516,Xz=517,qz=518,Yz=519,Vy=35044,yj=35048,_j=35040,xj=35045,bj=35049,Sj=35041,Mj=35046,wj=35050,Ej=35042,Tj="100",IA="300 es",uo=2e3,vg=2001,Aj={COMPUTE:"compute",RENDER:"render"},Cj={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Rj={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Dc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const r=n[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const As=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ED=1234567;const Bd=Math.PI/180,yg=180/Math.PI;function ho(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(As[i&255]+As[i>>8&255]+As[i>>16&255]+As[i>>24&255]+"-"+As[e&255]+As[e>>8&255]+"-"+As[e>>16&15|64]+As[e>>24&255]+"-"+As[t&63|128]+As[t>>8&255]+"-"+As[t>>16&255]+As[t>>24&255]+As[n&255]+As[n>>8&255]+As[n>>16&255]+As[n>>24&255]).toLowerCase()}function Qt(i,e,t){return Math.max(e,Math.min(t,i))}function hR(i,e){return(i%e+e)%e}function Nj(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function Dj(i,e,t){return i!==e?(t-i)/(e-i):0}function hy(i,e,t){return(1-t)*i+t*e}function Lj(i,e,t,n){return hy(i,e,1-Math.exp(-t*n))}function Pj(i,e=1){return e-Math.abs(hR(i,e*2)-e)}function Ij(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function Oj(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function Uj(i,e){return i+Math.floor(Math.random()*(e-i+1))}function zj(i,e){return i+Math.random()*(e-i)}function kj(i){return i*(.5-Math.random())}function Bj(i){i!==void 0&&(ED=i);let e=ED+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Fj(i){return i*Bd}function Vj(i){return i*yg}function Hj(i){return(i&i-1)===0&&i!==0}function jj(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Gj(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function Wj(i,e,t,n,r){const s=Math.cos,o=Math.sin,c=s(t/2),h=o(t/2),p=s((e+n)/2),m=o((e+n)/2),g=s((e-n)/2),_=o((e-n)/2),x=s((n-e)/2),b=o((n-e)/2);switch(r){case"XYX":i.set(c*m,h*g,h*_,c*p);break;case"YZY":i.set(h*_,c*m,h*g,c*p);break;case"ZXZ":i.set(h*g,h*_,c*m,c*p);break;case"XZX":i.set(c*m,h*b,h*x,c*p);break;case"YXY":i.set(h*x,c*m,h*b,c*p);break;case"ZYZ":i.set(h*b,h*x,c*m,c*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ca(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function vn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const Xj={DEG2RAD:Bd,RAD2DEG:yg,generateUUID:ho,clamp:Qt,euclideanModulo:hR,mapLinear:Nj,inverseLerp:Dj,lerp:hy,damp:Lj,pingpong:Pj,smoothstep:Ij,smootherstep:Oj,randInt:Uj,randFloat:zj,randFloatSpread:kj,seededRandom:Bj,degToRad:Fj,radToDeg:Vj,isPowerOfTwo:Hj,ceilPowerOfTwo:jj,floorPowerOfTwo:Gj,setQuaternionFromProperEuler:Wj,normalize:vn,denormalize:ca};class je{constructor(e=0,t=0){je.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*r+e.x,this.y=s*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ga{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,o,c){let h=n[r+0],p=n[r+1],m=n[r+2],g=n[r+3];const _=s[o+0],x=s[o+1],b=s[o+2],T=s[o+3];if(c===0){e[t+0]=h,e[t+1]=p,e[t+2]=m,e[t+3]=g;return}if(c===1){e[t+0]=_,e[t+1]=x,e[t+2]=b,e[t+3]=T;return}if(g!==T||h!==_||p!==x||m!==b){let E=1-c;const M=h*_+p*x+m*b+g*T,R=M>=0?1:-1,D=1-M*M;if(D>Number.EPSILON){const I=Math.sqrt(D),z=Math.atan2(I,M*R);E=Math.sin(E*z)/I,c=Math.sin(c*z)/I}const L=c*R;if(h=h*E+_*L,p=p*E+x*L,m=m*E+b*L,g=g*E+T*L,E===1-c){const I=1/Math.sqrt(h*h+p*p+m*m+g*g);h*=I,p*=I,m*=I,g*=I}}e[t]=h,e[t+1]=p,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,s,o){const c=n[r],h=n[r+1],p=n[r+2],m=n[r+3],g=s[o],_=s[o+1],x=s[o+2],b=s[o+3];return e[t]=c*b+m*g+h*x-p*_,e[t+1]=h*b+m*_+p*g-c*x,e[t+2]=p*b+m*x+c*_-h*g,e[t+3]=m*b-c*g-h*_-p*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,s=e._z,o=e._order,c=Math.cos,h=Math.sin,p=c(n/2),m=c(r/2),g=c(s/2),_=h(n/2),x=h(r/2),b=h(s/2);switch(o){case"XYZ":this._x=_*m*g+p*x*b,this._y=p*x*g-_*m*b,this._z=p*m*b+_*x*g,this._w=p*m*g-_*x*b;break;case"YXZ":this._x=_*m*g+p*x*b,this._y=p*x*g-_*m*b,this._z=p*m*b-_*x*g,this._w=p*m*g+_*x*b;break;case"ZXY":this._x=_*m*g-p*x*b,this._y=p*x*g+_*m*b,this._z=p*m*b+_*x*g,this._w=p*m*g-_*x*b;break;case"ZYX":this._x=_*m*g-p*x*b,this._y=p*x*g+_*m*b,this._z=p*m*b-_*x*g,this._w=p*m*g+_*x*b;break;case"YZX":this._x=_*m*g+p*x*b,this._y=p*x*g+_*m*b,this._z=p*m*b-_*x*g,this._w=p*m*g-_*x*b;break;case"XZY":this._x=_*m*g-p*x*b,this._y=p*x*g-_*m*b,this._z=p*m*b+_*x*g,this._w=p*m*g+_*x*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],o=t[1],c=t[5],h=t[9],p=t[2],m=t[6],g=t[10],_=n+c+g;if(_>0){const x=.5/Math.sqrt(_+1);this._w=.25/x,this._x=(m-h)*x,this._y=(s-p)*x,this._z=(o-r)*x}else if(n>c&&n>g){const x=2*Math.sqrt(1+n-c-g);this._w=(m-h)/x,this._x=.25*x,this._y=(r+o)/x,this._z=(s+p)/x}else if(c>g){const x=2*Math.sqrt(1+c-n-g);this._w=(s-p)/x,this._x=(r+o)/x,this._y=.25*x,this._z=(h+m)/x}else{const x=2*Math.sqrt(1+g-n-c);this._w=(o-r)/x,this._x=(s+p)/x,this._y=(h+m)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,o=e._w,c=t._x,h=t._y,p=t._z,m=t._w;return this._x=n*m+o*c+r*p-s*h,this._y=r*m+o*h+s*c-n*p,this._z=s*m+o*p+n*h-r*c,this._w=o*m-n*c-r*h-s*p,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,o=this._w;let c=o*e._w+n*e._x+r*e._y+s*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=o,this._x=n,this._y=r,this._z=s,this;const h=1-c*c;if(h<=Number.EPSILON){const x=1-t;return this._w=x*o+t*this._w,this._x=x*n+t*this._x,this._y=x*r+t*this._y,this._z=x*s+t*this._z,this.normalize(),this}const p=Math.sqrt(h),m=Math.atan2(p,c),g=Math.sin((1-t)*m)/p,_=Math.sin(t*m)/p;return this._w=o*g+this._w*_,this._x=n*g+this._x*_,this._y=r*g+this._y*_,this._z=s*g+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,t=0,n=0){Q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(TD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(TD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,o=e.y,c=e.z,h=e.w,p=2*(o*r-c*n),m=2*(c*t-s*r),g=2*(s*n-o*t);return this.x=t+h*p+o*g-c*m,this.y=n+h*m+c*p-s*g,this.z=r+h*g+s*m-o*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,o=t.x,c=t.y,h=t.z;return this.x=r*h-s*c,this.y=s*o-n*h,this.z=n*c-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return RE.copy(this).projectOnVector(e),this.sub(RE)}reflect(e){return this.sub(RE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const RE=new Q,TD=new Ga;class hn{constructor(e,t,n,r,s,o,c,h,p){hn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,o,c,h,p)}set(e,t,n,r,s,o,c,h,p){const m=this.elements;return m[0]=e,m[1]=r,m[2]=c,m[3]=t,m[4]=s,m[5]=h,m[6]=n,m[7]=o,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],c=n[3],h=n[6],p=n[1],m=n[4],g=n[7],_=n[2],x=n[5],b=n[8],T=r[0],E=r[3],M=r[6],R=r[1],D=r[4],L=r[7],I=r[2],z=r[5],k=r[8];return s[0]=o*T+c*R+h*I,s[3]=o*E+c*D+h*z,s[6]=o*M+c*L+h*k,s[1]=p*T+m*R+g*I,s[4]=p*E+m*D+g*z,s[7]=p*M+m*L+g*k,s[2]=_*T+x*R+b*I,s[5]=_*E+x*D+b*z,s[8]=_*M+x*L+b*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],c=e[5],h=e[6],p=e[7],m=e[8];return t*o*m-t*c*p-n*s*m+n*c*h+r*s*p-r*o*h}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],c=e[5],h=e[6],p=e[7],m=e[8],g=m*o-c*p,_=c*h-m*s,x=p*s-o*h,b=t*g+n*_+r*x;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/b;return e[0]=g*T,e[1]=(r*p-m*n)*T,e[2]=(c*n-r*o)*T,e[3]=_*T,e[4]=(m*t-r*h)*T,e[5]=(r*s-c*t)*T,e[6]=x*T,e[7]=(n*h-p*t)*T,e[8]=(o*t-n*s)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,o,c){const h=Math.cos(s),p=Math.sin(s);return this.set(n*h,n*p,-n*(h*o+p*c)+o+e,-r*p,r*h,-r*(-p*o+h*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(NE.makeScale(e,t)),this}rotate(e){return this.premultiply(NE.makeRotation(-e)),this}translate(e,t){return this.premultiply(NE.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const NE=new hn;function Zz(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const qj={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function jm(i,e){return new qj[i](e)}function Hy(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function $z(){const i=Hy("canvas");return i.style.display="block",i}const AD={};function jy(i){i in AD||(AD[i]=!0,console.warn(i))}function Yj(i,e,t){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}const CD=new hn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),RD=new hn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Zj(){const i={enabled:!0,workingColorSpace:rh,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===fi&&(r.r=Tu(r.r),r.g=Tu(r.g),r.b=Tu(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===fi&&(r.r=ig(r.r),r.g=ig(r.g),r.b=ig(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===_u?Fy:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return jy("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return jy("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[rh]:{primaries:e,whitePoint:n,transfer:Fy,toXYZ:CD,fromXYZ:RD,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ps},outputColorSpaceConfig:{drawingBufferColorSpace:Ps}},[Ps]:{primaries:e,whitePoint:n,transfer:fi,toXYZ:CD,fromXYZ:RD,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ps}}}),i}const Hn=Zj();function Tu(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function ig(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let fm;class Kz{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{fm===void 0&&(fm=Hy("canvas")),fm.width=e.width,fm.height=e.height;const r=fm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=fm}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Hy("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Tu(s[o]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Tu(t[n]/255)*255):t[n]=Tu(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $j=0;class qf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$j++}),this.uuid=ho(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,c=r.length;o<c;o++)r[o].isDataTexture?s.push(DE(r[o].image)):s.push(DE(r[o]))}else s=DE(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function DE(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?Kz.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Kj=0;const LE=new Q;class lr extends Dc{constructor(e=lr.DEFAULT_IMAGE,t=lr.DEFAULT_MAPPING,n=Ko,r=Ko,s=Fr,o=Mc,c=Us,h=el,p=lr.DEFAULT_ANISOTROPY,m=_u){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Kj++}),this.uuid=ho(),this.name="",this.source=new qf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=h,this.offset=new je(0,0),this.repeat=new je(1,1),this.center=new je(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new hn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(LE).x}get height(){return this.source.getSize(LE).y}get depth(){return this.source.getSize(LE).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LM)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Uy:e.x=e.x-Math.floor(e.x);break;case Ko:e.x=e.x<0?0:1;break;case zy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Uy:e.y=e.y-Math.floor(e.y);break;case Ko:e.y=e.y<0?0:1;break;case zy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}lr.DEFAULT_IMAGE=null;lr.DEFAULT_MAPPING=LM;lr.DEFAULT_ANISOTROPY=1;class Yn{constructor(e=0,t=0,n=0,r=1){Yn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const h=e.elements,p=h[0],m=h[4],g=h[8],_=h[1],x=h[5],b=h[9],T=h[2],E=h[6],M=h[10];if(Math.abs(m-_)<.01&&Math.abs(g-T)<.01&&Math.abs(b-E)<.01){if(Math.abs(m+_)<.1&&Math.abs(g+T)<.1&&Math.abs(b+E)<.1&&Math.abs(p+x+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(p+1)/2,L=(x+1)/2,I=(M+1)/2,z=(m+_)/4,k=(g+T)/4,F=(b+E)/4;return D>L&&D>I?D<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(D),r=z/n,s=k/n):L>I?L<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(L),n=z/r,s=F/r):I<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(I),n=k/s,r=F/s),this.set(n,r,s,t),this}let R=Math.sqrt((E-b)*(E-b)+(g-T)*(g-T)+(_-m)*(_-m));return Math.abs(R)<.001&&(R=1),this.x=(E-b)/R,this.y=(g-T)/R,this.z=(_-m)/R,this.w=Math.acos((p+x+M-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this.w=Qt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this.w=Qt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class dR extends Dc{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Fr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Yn(0,0,e,t),this.scissorTest=!1,this.viewport=new Yn(0,0,e,t);const r={width:e,height:t,depth:n.depth},s=new lr(r);this.textures=[];const o=n.count;for(let c=0;c<o;c++)this.textures[c]=s.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:Fr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new qf(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Nc extends dR{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class FM extends lr{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ps,this.minFilter=ps,this.wrapR=Ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Qj extends Nc{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new FM(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class VM extends lr{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ps,this.minFilter=ps,this.wrapR=Ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Jj extends Nc{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new VM(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Bs{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Sl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Sl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Sl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=s.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,Sl):Sl.fromBufferAttribute(s,o),Sl.applyMatrix4(e.matrixWorld),this.expandByPoint(Sl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),wb.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),wb.copy(n.boundingBox)),wb.applyMatrix4(e.matrixWorld),this.union(wb)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Sl),Sl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(yv),Eb.subVectors(this.max,yv),hm.subVectors(e.a,yv),dm.subVectors(e.b,yv),pm.subVectors(e.c,yv),Rf.subVectors(dm,hm),Nf.subVectors(pm,dm),nd.subVectors(hm,pm);let t=[0,-Rf.z,Rf.y,0,-Nf.z,Nf.y,0,-nd.z,nd.y,Rf.z,0,-Rf.x,Nf.z,0,-Nf.x,nd.z,0,-nd.x,-Rf.y,Rf.x,0,-Nf.y,Nf.x,0,-nd.y,nd.x,0];return!PE(t,hm,dm,pm,Eb)||(t=[1,0,0,0,1,0,0,0,1],!PE(t,hm,dm,pm,Eb))?!1:(Tb.crossVectors(Rf,Nf),t=[Tb.x,Tb.y,Tb.z],PE(t,hm,dm,pm,Eb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Sl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Sl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(cu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),cu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),cu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),cu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),cu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),cu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),cu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),cu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(cu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const cu=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],Sl=new Q,wb=new Bs,hm=new Q,dm=new Q,pm=new Q,Rf=new Q,Nf=new Q,nd=new Q,yv=new Q,Eb=new Q,Tb=new Q,id=new Q;function PE(i,e,t,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){id.fromArray(i,s);const c=r.x*Math.abs(id.x)+r.y*Math.abs(id.y)+r.z*Math.abs(id.z),h=e.dot(id),p=t.dot(id),m=n.dot(id);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>c)return!1}return!0}const e2=new Bs,_v=new Q,IE=new Q;class ms{constructor(e=new Q,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):e2.setFromPoints(e).getCenter(n);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v.subVectors(e,this.center);const t=_v.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(_v,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(IE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v.copy(e.center).add(IE)),this.expandByPoint(_v.copy(e.center).sub(IE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const uu=new Q,OE=new Q,Ab=new Q,Df=new Q,UE=new Q,Cb=new Q,zE=new Q;class Ng{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,uu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=uu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(uu.copy(this.origin).addScaledVector(this.direction,t),uu.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){OE.copy(e).add(t).multiplyScalar(.5),Ab.copy(t).sub(e).normalize(),Df.copy(this.origin).sub(OE);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Ab),c=Df.dot(this.direction),h=-Df.dot(Ab),p=Df.lengthSq(),m=Math.abs(1-o*o);let g,_,x,b;if(m>0)if(g=o*h-c,_=o*c-h,b=s*m,g>=0)if(_>=-b)if(_<=b){const T=1/m;g*=T,_*=T,x=g*(g+o*_+2*c)+_*(o*g+_+2*h)+p}else _=s,g=Math.max(0,-(o*_+c)),x=-g*g+_*(_+2*h)+p;else _=-s,g=Math.max(0,-(o*_+c)),x=-g*g+_*(_+2*h)+p;else _<=-b?(g=Math.max(0,-(-o*s+c)),_=g>0?-s:Math.min(Math.max(-s,-h),s),x=-g*g+_*(_+2*h)+p):_<=b?(g=0,_=Math.min(Math.max(-s,-h),s),x=_*(_+2*h)+p):(g=Math.max(0,-(o*s+c)),_=g>0?s:Math.min(Math.max(-s,-h),s),x=-g*g+_*(_+2*h)+p);else _=o>0?-s:s,g=Math.max(0,-(o*_+c)),x=-g*g+_*(_+2*h)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(OE).addScaledVector(Ab,_),x}intersectSphere(e,t){uu.subVectors(e.center,this.origin);const n=uu.dot(this.direction),r=uu.dot(uu)-n*n,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),c=n-o,h=n+o;return h<0?null:c<0?this.at(h,t):this.at(c,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,o,c,h;const p=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,_=this.origin;return p>=0?(n=(e.min.x-_.x)*p,r=(e.max.x-_.x)*p):(n=(e.max.x-_.x)*p,r=(e.min.x-_.x)*p),m>=0?(s=(e.min.y-_.y)*m,o=(e.max.y-_.y)*m):(s=(e.max.y-_.y)*m,o=(e.min.y-_.y)*m),n>o||s>r||((s>n||isNaN(n))&&(n=s),(o<r||isNaN(r))&&(r=o),g>=0?(c=(e.min.z-_.z)*g,h=(e.max.z-_.z)*g):(c=(e.max.z-_.z)*g,h=(e.min.z-_.z)*g),n>h||c>r)||((c>n||n!==n)&&(n=c),(h<r||r!==r)&&(r=h),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,uu)!==null}intersectTriangle(e,t,n,r,s){UE.subVectors(t,e),Cb.subVectors(n,e),zE.crossVectors(UE,Cb);let o=this.direction.dot(zE),c;if(o>0){if(r)return null;c=1}else if(o<0)c=-1,o=-o;else return null;Df.subVectors(this.origin,e);const h=c*this.direction.dot(Cb.crossVectors(Df,Cb));if(h<0)return null;const p=c*this.direction.dot(UE.cross(Df));if(p<0||h+p>o)return null;const m=-c*Df.dot(zE);return m<0?null:this.at(m/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class tn{constructor(e,t,n,r,s,o,c,h,p,m,g,_,x,b,T,E){tn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,o,c,h,p,m,g,_,x,b,T,E)}set(e,t,n,r,s,o,c,h,p,m,g,_,x,b,T,E){const M=this.elements;return M[0]=e,M[4]=t,M[8]=n,M[12]=r,M[1]=s,M[5]=o,M[9]=c,M[13]=h,M[2]=p,M[6]=m,M[10]=g,M[14]=_,M[3]=x,M[7]=b,M[11]=T,M[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/mm.setFromMatrixColumn(e,0).length(),s=1/mm.setFromMatrixColumn(e,1).length(),o=1/mm.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,o=Math.cos(n),c=Math.sin(n),h=Math.cos(r),p=Math.sin(r),m=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const _=o*m,x=o*g,b=c*m,T=c*g;t[0]=h*m,t[4]=-h*g,t[8]=p,t[1]=x+b*p,t[5]=_-T*p,t[9]=-c*h,t[2]=T-_*p,t[6]=b+x*p,t[10]=o*h}else if(e.order==="YXZ"){const _=h*m,x=h*g,b=p*m,T=p*g;t[0]=_+T*c,t[4]=b*c-x,t[8]=o*p,t[1]=o*g,t[5]=o*m,t[9]=-c,t[2]=x*c-b,t[6]=T+_*c,t[10]=o*h}else if(e.order==="ZXY"){const _=h*m,x=h*g,b=p*m,T=p*g;t[0]=_-T*c,t[4]=-o*g,t[8]=b+x*c,t[1]=x+b*c,t[5]=o*m,t[9]=T-_*c,t[2]=-o*p,t[6]=c,t[10]=o*h}else if(e.order==="ZYX"){const _=o*m,x=o*g,b=c*m,T=c*g;t[0]=h*m,t[4]=b*p-x,t[8]=_*p+T,t[1]=h*g,t[5]=T*p+_,t[9]=x*p-b,t[2]=-p,t[6]=c*h,t[10]=o*h}else if(e.order==="YZX"){const _=o*h,x=o*p,b=c*h,T=c*p;t[0]=h*m,t[4]=T-_*g,t[8]=b*g+x,t[1]=g,t[5]=o*m,t[9]=-c*m,t[2]=-p*m,t[6]=x*g+b,t[10]=_-T*g}else if(e.order==="XZY"){const _=o*h,x=o*p,b=c*h,T=c*p;t[0]=h*m,t[4]=-g,t[8]=p*m,t[1]=_*g+T,t[5]=o*m,t[9]=x*g-b,t[2]=b*g-x,t[6]=c*m,t[10]=T*g+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(t2,e,n2)}lookAt(e,t,n){const r=this.elements;return Ja.subVectors(e,t),Ja.lengthSq()===0&&(Ja.z=1),Ja.normalize(),Lf.crossVectors(n,Ja),Lf.lengthSq()===0&&(Math.abs(n.z)===1?Ja.x+=1e-4:Ja.z+=1e-4,Ja.normalize(),Lf.crossVectors(n,Ja)),Lf.normalize(),Rb.crossVectors(Ja,Lf),r[0]=Lf.x,r[4]=Rb.x,r[8]=Ja.x,r[1]=Lf.y,r[5]=Rb.y,r[9]=Ja.y,r[2]=Lf.z,r[6]=Rb.z,r[10]=Ja.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],c=n[4],h=n[8],p=n[12],m=n[1],g=n[5],_=n[9],x=n[13],b=n[2],T=n[6],E=n[10],M=n[14],R=n[3],D=n[7],L=n[11],I=n[15],z=r[0],k=r[4],F=r[8],O=r[12],U=r[1],X=r[5],K=r[9],ne=r[13],oe=r[2],le=r[6],q=r[10],J=r[14],ie=r[3],pe=r[7],$=r[11],Y=r[15];return s[0]=o*z+c*U+h*oe+p*ie,s[4]=o*k+c*X+h*le+p*pe,s[8]=o*F+c*K+h*q+p*$,s[12]=o*O+c*ne+h*J+p*Y,s[1]=m*z+g*U+_*oe+x*ie,s[5]=m*k+g*X+_*le+x*pe,s[9]=m*F+g*K+_*q+x*$,s[13]=m*O+g*ne+_*J+x*Y,s[2]=b*z+T*U+E*oe+M*ie,s[6]=b*k+T*X+E*le+M*pe,s[10]=b*F+T*K+E*q+M*$,s[14]=b*O+T*ne+E*J+M*Y,s[3]=R*z+D*U+L*oe+I*ie,s[7]=R*k+D*X+L*le+I*pe,s[11]=R*F+D*K+L*q+I*$,s[15]=R*O+D*ne+L*J+I*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],o=e[1],c=e[5],h=e[9],p=e[13],m=e[2],g=e[6],_=e[10],x=e[14],b=e[3],T=e[7],E=e[11],M=e[15];return b*(+s*h*g-r*p*g-s*c*_+n*p*_+r*c*x-n*h*x)+T*(+t*h*x-t*p*_+s*o*_-r*o*x+r*p*m-s*h*m)+E*(+t*p*g-t*c*x-s*o*g+n*o*x+s*c*m-n*p*m)+M*(-r*c*m-t*h*g+t*c*_+r*o*g-n*o*_+n*h*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],c=e[5],h=e[6],p=e[7],m=e[8],g=e[9],_=e[10],x=e[11],b=e[12],T=e[13],E=e[14],M=e[15],R=g*E*p-T*_*p+T*h*x-c*E*x-g*h*M+c*_*M,D=b*_*p-m*E*p-b*h*x+o*E*x+m*h*M-o*_*M,L=m*T*p-b*g*p+b*c*x-o*T*x-m*c*M+o*g*M,I=b*g*h-m*T*h-b*c*_+o*T*_+m*c*E-o*g*E,z=t*R+n*D+r*L+s*I;if(z===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/z;return e[0]=R*k,e[1]=(T*_*s-g*E*s-T*r*x+n*E*x+g*r*M-n*_*M)*k,e[2]=(c*E*s-T*h*s+T*r*p-n*E*p-c*r*M+n*h*M)*k,e[3]=(g*h*s-c*_*s-g*r*p+n*_*p+c*r*x-n*h*x)*k,e[4]=D*k,e[5]=(m*E*s-b*_*s+b*r*x-t*E*x-m*r*M+t*_*M)*k,e[6]=(b*h*s-o*E*s-b*r*p+t*E*p+o*r*M-t*h*M)*k,e[7]=(o*_*s-m*h*s+m*r*p-t*_*p-o*r*x+t*h*x)*k,e[8]=L*k,e[9]=(b*g*s-m*T*s-b*n*x+t*T*x+m*n*M-t*g*M)*k,e[10]=(o*T*s-b*c*s+b*n*p-t*T*p-o*n*M+t*c*M)*k,e[11]=(m*c*s-o*g*s-m*n*p+t*g*p+o*n*x-t*c*x)*k,e[12]=I*k,e[13]=(m*T*r-b*g*r+b*n*_-t*T*_-m*n*E+t*g*E)*k,e[14]=(b*c*r-o*T*r-b*n*h+t*T*h+o*n*E-t*c*E)*k,e[15]=(o*g*r-m*c*r+m*n*h-t*g*h-o*n*_+t*c*_)*k,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,o=e.x,c=e.y,h=e.z,p=s*o,m=s*c;return this.set(p*o+n,p*c-r*h,p*h+r*c,0,p*c+r*h,m*c+n,m*h-r*o,0,p*h-r*c,m*h+r*o,s*h*h+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,o){return this.set(1,n,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,o=t._y,c=t._z,h=t._w,p=s+s,m=o+o,g=c+c,_=s*p,x=s*m,b=s*g,T=o*m,E=o*g,M=c*g,R=h*p,D=h*m,L=h*g,I=n.x,z=n.y,k=n.z;return r[0]=(1-(T+M))*I,r[1]=(x+L)*I,r[2]=(b-D)*I,r[3]=0,r[4]=(x-L)*z,r[5]=(1-(_+M))*z,r[6]=(E+R)*z,r[7]=0,r[8]=(b+D)*k,r[9]=(E-R)*k,r[10]=(1-(_+T))*k,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=mm.set(r[0],r[1],r[2]).length();const o=mm.set(r[4],r[5],r[6]).length(),c=mm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ml.copy(this);const p=1/s,m=1/o,g=1/c;return Ml.elements[0]*=p,Ml.elements[1]*=p,Ml.elements[2]*=p,Ml.elements[4]*=m,Ml.elements[5]*=m,Ml.elements[6]*=m,Ml.elements[8]*=g,Ml.elements[9]*=g,Ml.elements[10]*=g,t.setFromRotationMatrix(Ml),n.x=s,n.y=o,n.z=c,this}makePerspective(e,t,n,r,s,o,c=uo,h=!1){const p=this.elements,m=2*s/(t-e),g=2*s/(n-r),_=(t+e)/(t-e),x=(n+r)/(n-r);let b,T;if(h)b=s/(o-s),T=o*s/(o-s);else if(c===uo)b=-(o+s)/(o-s),T=-2*o*s/(o-s);else if(c===vg)b=-o/(o-s),T=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return p[0]=m,p[4]=0,p[8]=_,p[12]=0,p[1]=0,p[5]=g,p[9]=x,p[13]=0,p[2]=0,p[6]=0,p[10]=b,p[14]=T,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,n,r,s,o,c=uo,h=!1){const p=this.elements,m=2/(t-e),g=2/(n-r),_=-(t+e)/(t-e),x=-(n+r)/(n-r);let b,T;if(h)b=1/(o-s),T=o/(o-s);else if(c===uo)b=-2/(o-s),T=-(o+s)/(o-s);else if(c===vg)b=-1/(o-s),T=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return p[0]=m,p[4]=0,p[8]=0,p[12]=_,p[1]=0,p[5]=g,p[9]=0,p[13]=x,p[2]=0,p[6]=0,p[10]=b,p[14]=T,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const mm=new Q,Ml=new tn,t2=new Q(0,0,0),n2=new Q(1,1,1),Lf=new Q,Rb=new Q,Ja=new Q,ND=new tn,DD=new Ga;class vo{constructor(e=0,t=0,n=0,r=vo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],o=r[4],c=r[8],h=r[1],p=r[5],m=r[9],g=r[2],_=r[6],x=r[10];switch(t){case"XYZ":this._y=Math.asin(Qt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,x),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(_,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,x),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-o,p)):(this._y=0,this._z=Math.atan2(h,s));break;case"ZYX":this._y=Math.asin(-Qt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(_,x),this._z=Math.atan2(h,s)):(this._x=0,this._z=Math.atan2(-o,p));break;case"YZX":this._z=Math.asin(Qt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(c,x));break;case"XZY":this._z=Math.asin(-Qt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(_,p),this._y=Math.atan2(c,s)):(this._x=Math.atan2(-m,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return ND.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ND,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return DD.setFromEuler(this),this.setFromQuaternion(DD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}vo.DEFAULT_ORDER="XYZ";class _g{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let i2=0;const LD=new Q,gm=new Ga,fu=new tn,Nb=new Q,xv=new Q,r2=new Q,s2=new Ga,PD=new Q(1,0,0),ID=new Q(0,1,0),OD=new Q(0,0,1),UD={type:"added"},a2={type:"removed"},vm={type:"childadded",child:null},kE={type:"childremoved",child:null};class Zn extends Dc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:i2++}),this.uuid=ho(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zn.DEFAULT_UP.clone();const e=new Q,t=new vo,n=new Ga,r=new Q(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new tn},normalMatrix:{value:new hn}}),this.matrix=new tn,this.matrixWorld=new tn,this.matrixAutoUpdate=Zn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _g,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return gm.setFromAxisAngle(e,t),this.quaternion.multiply(gm),this}rotateOnWorldAxis(e,t){return gm.setFromAxisAngle(e,t),this.quaternion.premultiply(gm),this}rotateX(e){return this.rotateOnAxis(PD,e)}rotateY(e){return this.rotateOnAxis(ID,e)}rotateZ(e){return this.rotateOnAxis(OD,e)}translateOnAxis(e,t){return LD.copy(e).applyQuaternion(this.quaternion),this.position.add(LD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(PD,e)}translateY(e){return this.translateOnAxis(ID,e)}translateZ(e){return this.translateOnAxis(OD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fu.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Nb.copy(e):Nb.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),xv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fu.lookAt(xv,Nb,this.up):fu.lookAt(Nb,xv,this.up),this.quaternion.setFromRotationMatrix(fu),r&&(fu.extractRotation(r.matrixWorld),gm.setFromRotationMatrix(fu),this.quaternion.premultiply(gm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(UD),vm.child=e,this.dispatchEvent(vm),vm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(a2),kE.child=e,this.dispatchEvent(kE),kE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),fu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fu.multiply(e.parent.matrixWorld)),e.applyMatrix4(fu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(UD),vm.child=e,this.dispatchEvent(vm),vm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xv,e,r2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xv,s2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(c=>({...c})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(c,h){return c[h.uuid]===void 0&&(c[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const h=c.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const g=h[p];s(e.shapes,g)}else s(e.shapes,h)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let h=0,p=this.material.length;h<p;h++)c.push(s(e.materials,this.material[h]));r.material=c}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++){const h=this.animations[c];r.animations.push(s(e.animations,h))}}if(t){const c=o(e.geometries),h=o(e.materials),p=o(e.textures),m=o(e.images),g=o(e.shapes),_=o(e.skeletons),x=o(e.animations),b=o(e.nodes);c.length>0&&(n.geometries=c),h.length>0&&(n.materials=h),p.length>0&&(n.textures=p),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),_.length>0&&(n.skeletons=_),x.length>0&&(n.animations=x),b.length>0&&(n.nodes=b)}return n.object=r,n;function o(c){const h=[];for(const p in c){const m=c[p];delete m.metadata,h.push(m)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}Zn.DEFAULT_UP=new Q(0,1,0);Zn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const wl=new Q,hu=new Q,BE=new Q,du=new Q,ym=new Q,_m=new Q,zD=new Q,FE=new Q,VE=new Q,HE=new Q,jE=new Yn,GE=new Yn,WE=new Yn;class ka{constructor(e=new Q,t=new Q,n=new Q){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),wl.subVectors(e,t),r.cross(wl);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){wl.subVectors(r,t),hu.subVectors(n,t),BE.subVectors(e,t);const o=wl.dot(wl),c=wl.dot(hu),h=wl.dot(BE),p=hu.dot(hu),m=hu.dot(BE),g=o*p-c*c;if(g===0)return s.set(0,0,0),null;const _=1/g,x=(p*h-c*m)*_,b=(o*m-c*h)*_;return s.set(1-x-b,b,x)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,du)===null?!1:du.x>=0&&du.y>=0&&du.x+du.y<=1}static getInterpolation(e,t,n,r,s,o,c,h){return this.getBarycoord(e,t,n,r,du)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(s,du.x),h.addScaledVector(o,du.y),h.addScaledVector(c,du.z),h)}static getInterpolatedAttribute(e,t,n,r,s,o){return jE.setScalar(0),GE.setScalar(0),WE.setScalar(0),jE.fromBufferAttribute(e,t),GE.fromBufferAttribute(e,n),WE.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(jE,s.x),o.addScaledVector(GE,s.y),o.addScaledVector(WE,s.z),o}static isFrontFacing(e,t,n,r){return wl.subVectors(n,t),hu.subVectors(e,t),wl.cross(hu).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wl.subVectors(this.c,this.b),hu.subVectors(this.a,this.b),wl.cross(hu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ka.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ka.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,s){return ka.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return ka.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ka.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let o,c;ym.subVectors(r,n),_m.subVectors(s,n),FE.subVectors(e,n);const h=ym.dot(FE),p=_m.dot(FE);if(h<=0&&p<=0)return t.copy(n);VE.subVectors(e,r);const m=ym.dot(VE),g=_m.dot(VE);if(m>=0&&g<=m)return t.copy(r);const _=h*g-m*p;if(_<=0&&h>=0&&m<=0)return o=h/(h-m),t.copy(n).addScaledVector(ym,o);HE.subVectors(e,s);const x=ym.dot(HE),b=_m.dot(HE);if(b>=0&&x<=b)return t.copy(s);const T=x*p-h*b;if(T<=0&&p>=0&&b<=0)return c=p/(p-b),t.copy(n).addScaledVector(_m,c);const E=m*b-x*g;if(E<=0&&g-m>=0&&x-b>=0)return zD.subVectors(s,r),c=(g-m)/(g-m+(x-b)),t.copy(r).addScaledVector(zD,c);const M=1/(E+T+_);return o=T*M,c=_*M,t.copy(n).addScaledVector(ym,o).addScaledVector(_m,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Qz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pf={h:0,s:0,l:0},Db={h:0,s:0,l:0};function XE(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Mt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ps){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Hn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=Hn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Hn.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=Hn.workingColorSpace){if(e=hR(e,1),t=Qt(t,0,1),n=Qt(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=XE(o,s,e+1/3),this.g=XE(o,s,e),this.b=XE(o,s,e-1/3)}return Hn.colorSpaceToWorking(this,r),this}setStyle(e,t=Ps){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],c=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ps){const n=Qz[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Tu(e.r),this.g=Tu(e.g),this.b=Tu(e.b),this}copyLinearToSRGB(e){return this.r=ig(e.r),this.g=ig(e.g),this.b=ig(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ps){return Hn.workingToColorSpace(Cs.copy(this),e),Math.round(Qt(Cs.r*255,0,255))*65536+Math.round(Qt(Cs.g*255,0,255))*256+Math.round(Qt(Cs.b*255,0,255))}getHexString(e=Ps){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Hn.workingColorSpace){Hn.workingToColorSpace(Cs.copy(this),t);const n=Cs.r,r=Cs.g,s=Cs.b,o=Math.max(n,r,s),c=Math.min(n,r,s);let h,p;const m=(c+o)/2;if(c===o)h=0,p=0;else{const g=o-c;switch(p=m<=.5?g/(o+c):g/(2-o-c),o){case n:h=(r-s)/g+(r<s?6:0);break;case r:h=(s-n)/g+2;break;case s:h=(n-r)/g+4;break}h/=6}return e.h=h,e.s=p,e.l=m,e}getRGB(e,t=Hn.workingColorSpace){return Hn.workingToColorSpace(Cs.copy(this),t),e.r=Cs.r,e.g=Cs.g,e.b=Cs.b,e}getStyle(e=Ps){Hn.workingToColorSpace(Cs.copy(this),e);const t=Cs.r,n=Cs.g,r=Cs.b;return e!==Ps?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Pf),this.setHSL(Pf.h+e,Pf.s+t,Pf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Pf),e.getHSL(Db);const n=hy(Pf.h,Db.h,t),r=hy(Pf.s,Db.s,t),s=hy(Pf.l,Db.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Cs=new Mt;Mt.NAMES=Qz;let o2=0;class Vs extends Dc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:o2++}),this.uuid=ho(),this.name="",this.type="Material",this.blending=kd,this.side=Pu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=p1,this.blendDst=m1,this.blendEquation=Ff,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Mt(0,0,0),this.blendAlpha=0,this.depthFunc=Xd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=PA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xd,this.stencilZFail=xd,this.stencilZPass=xd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==kd&&(n.blending=this.blending),this.side!==Pu&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==p1&&(n.blendSrc=this.blendSrc),this.blendDst!==m1&&(n.blendDst=this.blendDst),this.blendEquation!==Ff&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Xd&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==PA&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==xd&&(n.stencilFail=this.stencilFail),this.stencilZFail!==xd&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==xd&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const o=[];for(const c in s){const h=s[c];delete h.metadata,o.push(h)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class fh extends Vs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vo,this.combine=l_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const xu=l2();function l2(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(n[h]=0,n[h|256]=32768,r[h]=24,r[h|256]=24):p<-14?(n[h]=1024>>-p-14,n[h|256]=1024>>-p-14|32768,r[h]=-p-1,r[h|256]=-p-1):p<=15?(n[h]=p+15<<10,n[h|256]=p+15<<10|32768,r[h]=13,r[h|256]=13):p<128?(n[h]=31744,n[h|256]=64512,r[h]=24,r[h|256]=24):(n[h]=31744,n[h|256]=64512,r[h]=13,r[h|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,s[h]=p|m}for(let h=1024;h<2048;++h)s[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)o[h]=h<<23;o[31]=1199570944,o[32]=2147483648;for(let h=33;h<63;++h)o[h]=2147483648+(h-32<<23);o[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(c[h]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:c}}function Oa(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Qt(i,-65504,65504),xu.floatView[0]=i;const e=xu.uint32View[0],t=e>>23&511;return xu.baseTable[t]+((e&8388607)>>xu.shiftTable[t])}function Vv(i){const e=i>>10;return xu.uint32View[0]=xu.mantissaTable[xu.offsetTable[e]+(i&1023)]+xu.exponentTable[e],xu.floatView[0]}class c2{static toHalfFloat(e){return Oa(e)}static fromHalfFloat(e){return Vv(e)}}const Er=new Q,Lb=new je;let u2=0;class vi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:u2++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Vy,this.updateRanges=[],this.gpuType=Ba,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Lb.fromBufferAttribute(this,t),Lb.applyMatrix3(e),this.setXY(t,Lb.x,Lb.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Er.fromBufferAttribute(this,t),Er.applyMatrix3(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Er.fromBufferAttribute(this,t),Er.applyMatrix4(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Er.fromBufferAttribute(this,t),Er.applyNormalMatrix(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Er.fromBufferAttribute(this,t),Er.transformDirection(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ca(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ca(t,this.array)),t}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ca(t,this.array)),t}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ca(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ca(t,this.array)),t}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array),s=vn(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Vy&&(e.usage=this.usage),e}}class f2 extends vi{constructor(e,t,n){super(new Int8Array(e),t,n)}}class h2 extends vi{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class d2 extends vi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class p2 extends vi{constructor(e,t,n){super(new Int16Array(e),t,n)}}class pR extends vi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class m2 extends vi{constructor(e,t,n){super(new Int32Array(e),t,n)}}class mR extends vi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class g2 extends vi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Vv(this.array[e*this.itemSize]);return this.normalized&&(t=ca(t,this.array)),t}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize]=Oa(t),this}getY(e){let t=Vv(this.array[e*this.itemSize+1]);return this.normalized&&(t=ca(t,this.array)),t}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+1]=Oa(t),this}getZ(e){let t=Vv(this.array[e*this.itemSize+2]);return this.normalized&&(t=ca(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+2]=Oa(t),this}getW(e){let t=Vv(this.array[e*this.itemSize+3]);return this.normalized&&(t=ca(t,this.array)),t}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+3]=Oa(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array)),this.array[e+0]=Oa(t),this.array[e+1]=Oa(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array)),this.array[e+0]=Oa(t),this.array[e+1]=Oa(n),this.array[e+2]=Oa(r),this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array),s=vn(s,this.array)),this.array[e+0]=Oa(t),this.array[e+1]=Oa(n),this.array[e+2]=Oa(r),this.array[e+3]=Oa(s),this}}class Pt extends vi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let v2=0;const jo=new tn,qE=new Zn,xm=new Q,eo=new Bs,bv=new Bs,Yr=new Q;class yn extends Dc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:v2++}),this.uuid=ho(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Zz(e)?mR:pR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new hn().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return jo.makeRotationFromQuaternion(e),this.applyMatrix4(jo),this}rotateX(e){return jo.makeRotationX(e),this.applyMatrix4(jo),this}rotateY(e){return jo.makeRotationY(e),this.applyMatrix4(jo),this}rotateZ(e){return jo.makeRotationZ(e),this.applyMatrix4(jo),this}translate(e,t,n){return jo.makeTranslation(e,t,n),this.applyMatrix4(jo),this}scale(e,t,n){return jo.makeScale(e,t,n),this.applyMatrix4(jo),this}lookAt(e){return qE.lookAt(e),qE.updateMatrix(),this.applyMatrix4(qE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xm).negate(),this.translate(xm.x,xm.y,xm.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Pt(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Bs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];eo.setFromBufferAttribute(s),this.morphTargetsRelative?(Yr.addVectors(this.boundingBox.min,eo.min),this.boundingBox.expandByPoint(Yr),Yr.addVectors(this.boundingBox.max,eo.max),this.boundingBox.expandByPoint(Yr)):(this.boundingBox.expandByPoint(eo.min),this.boundingBox.expandByPoint(eo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Q,1/0);return}if(e){const n=this.boundingSphere.center;if(eo.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const c=t[s];bv.setFromBufferAttribute(c),this.morphTargetsRelative?(Yr.addVectors(eo.min,bv.min),eo.expandByPoint(Yr),Yr.addVectors(eo.max,bv.max),eo.expandByPoint(Yr)):(eo.expandByPoint(bv.min),eo.expandByPoint(bv.max))}eo.getCenter(n);let r=0;for(let s=0,o=e.count;s<o;s++)Yr.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(Yr));if(t)for(let s=0,o=t.length;s<o;s++){const c=t[s],h=this.morphTargetsRelative;for(let p=0,m=c.count;p<m;p++)Yr.fromBufferAttribute(c,p),h&&(xm.fromBufferAttribute(e,p),Yr.add(xm)),r=Math.max(r,n.distanceToSquared(Yr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new vi(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),c=[],h=[];for(let F=0;F<n.count;F++)c[F]=new Q,h[F]=new Q;const p=new Q,m=new Q,g=new Q,_=new je,x=new je,b=new je,T=new Q,E=new Q;function M(F,O,U){p.fromBufferAttribute(n,F),m.fromBufferAttribute(n,O),g.fromBufferAttribute(n,U),_.fromBufferAttribute(s,F),x.fromBufferAttribute(s,O),b.fromBufferAttribute(s,U),m.sub(p),g.sub(p),x.sub(_),b.sub(_);const X=1/(x.x*b.y-b.x*x.y);isFinite(X)&&(T.copy(m).multiplyScalar(b.y).addScaledVector(g,-x.y).multiplyScalar(X),E.copy(g).multiplyScalar(x.x).addScaledVector(m,-b.x).multiplyScalar(X),c[F].add(T),c[O].add(T),c[U].add(T),h[F].add(E),h[O].add(E),h[U].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let F=0,O=R.length;F<O;++F){const U=R[F],X=U.start,K=U.count;for(let ne=X,oe=X+K;ne<oe;ne+=3)M(e.getX(ne+0),e.getX(ne+1),e.getX(ne+2))}const D=new Q,L=new Q,I=new Q,z=new Q;function k(F){I.fromBufferAttribute(r,F),z.copy(I);const O=c[F];D.copy(O),D.sub(I.multiplyScalar(I.dot(O))).normalize(),L.crossVectors(z,O);const X=L.dot(h[F])<0?-1:1;o.setXYZW(F,D.x,D.y,D.z,X)}for(let F=0,O=R.length;F<O;++F){const U=R[F],X=U.start,K=U.count;for(let ne=X,oe=X+K;ne<oe;ne+=3)k(e.getX(ne+0)),k(e.getX(ne+1)),k(e.getX(ne+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new vi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let _=0,x=n.count;_<x;_++)n.setXYZ(_,0,0,0);const r=new Q,s=new Q,o=new Q,c=new Q,h=new Q,p=new Q,m=new Q,g=new Q;if(e)for(let _=0,x=e.count;_<x;_+=3){const b=e.getX(_+0),T=e.getX(_+1),E=e.getX(_+2);r.fromBufferAttribute(t,b),s.fromBufferAttribute(t,T),o.fromBufferAttribute(t,E),m.subVectors(o,s),g.subVectors(r,s),m.cross(g),c.fromBufferAttribute(n,b),h.fromBufferAttribute(n,T),p.fromBufferAttribute(n,E),c.add(m),h.add(m),p.add(m),n.setXYZ(b,c.x,c.y,c.z),n.setXYZ(T,h.x,h.y,h.z),n.setXYZ(E,p.x,p.y,p.z)}else for(let _=0,x=t.count;_<x;_+=3)r.fromBufferAttribute(t,_+0),s.fromBufferAttribute(t,_+1),o.fromBufferAttribute(t,_+2),m.subVectors(o,s),g.subVectors(r,s),m.cross(g),n.setXYZ(_+0,m.x,m.y,m.z),n.setXYZ(_+1,m.x,m.y,m.z),n.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Yr.fromBufferAttribute(e,t),Yr.normalize(),e.setXYZ(t,Yr.x,Yr.y,Yr.z)}toNonIndexed(){function e(c,h){const p=c.array,m=c.itemSize,g=c.normalized,_=new p.constructor(h.length*m);let x=0,b=0;for(let T=0,E=h.length;T<E;T++){c.isInterleavedBufferAttribute?x=h[T]*c.data.stride+c.offset:x=h[T]*m;for(let M=0;M<m;M++)_[b++]=p[x++]}return new vi(_,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new yn,n=this.index.array,r=this.attributes;for(const c in r){const h=r[c],p=e(h,n);t.setAttribute(c,p)}const s=this.morphAttributes;for(const c in s){const h=[],p=s[c];for(let m=0,g=p.length;m<g;m++){const _=p[m],x=e(_,n);h.push(x)}t.morphAttributes[c]=h}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,h=o.length;c<h;c++){const p=o[c];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const h in n){const p=n[h];e.data.attributes[h]=p.toJSON(e.data)}const r={};let s=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let g=0,_=p.length;g<_;g++){const x=p[g];m.push(x.toJSON(e.data))}m.length>0&&(r[h]=m,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const r=e.attributes;for(const p in r){const m=r[p];this.setAttribute(p,m.clone(t))}const s=e.morphAttributes;for(const p in s){const m=[],g=s[p];for(let _=0,x=g.length;_<x;_++)m.push(g[_].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let p=0,m=o.length;p<m;p++){const g=o[p];this.addGroup(g.start,g.count,g.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kD=new tn,rd=new Ng,Pb=new ms,BD=new Q,Ib=new Q,Ob=new Q,Ub=new Q,YE=new Q,zb=new Q,FD=new Q,kb=new Q;class Rr extends Zn{constructor(e=new yn,t=new fh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const c=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const c=this.morphTargetInfluences;if(s&&c){zb.set(0,0,0);for(let h=0,p=s.length;h<p;h++){const m=c[h],g=s[h];m!==0&&(YE.fromBufferAttribute(g,e),o?zb.addScaledVector(YE,m):zb.addScaledVector(YE.sub(t),m))}t.add(zb)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Pb.copy(n.boundingSphere),Pb.applyMatrix4(s),rd.copy(e.ray).recast(e.near),!(Pb.containsPoint(rd.origin)===!1&&(rd.intersectSphere(Pb,BD)===null||rd.origin.distanceToSquared(BD)>(e.far-e.near)**2))&&(kD.copy(s).invert(),rd.copy(e.ray).applyMatrix4(kD),!(n.boundingBox!==null&&rd.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,rd)))}_computeIntersections(e,t,n){let r;const s=this.geometry,o=this.material,c=s.index,h=s.attributes.position,p=s.attributes.uv,m=s.attributes.uv1,g=s.attributes.normal,_=s.groups,x=s.drawRange;if(c!==null)if(Array.isArray(o))for(let b=0,T=_.length;b<T;b++){const E=_[b],M=o[E.materialIndex],R=Math.max(E.start,x.start),D=Math.min(c.count,Math.min(E.start+E.count,x.start+x.count));for(let L=R,I=D;L<I;L+=3){const z=c.getX(L),k=c.getX(L+1),F=c.getX(L+2);r=Bb(this,M,e,n,p,m,g,z,k,F),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const b=Math.max(0,x.start),T=Math.min(c.count,x.start+x.count);for(let E=b,M=T;E<M;E+=3){const R=c.getX(E),D=c.getX(E+1),L=c.getX(E+2);r=Bb(this,o,e,n,p,m,g,R,D,L),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}else if(h!==void 0)if(Array.isArray(o))for(let b=0,T=_.length;b<T;b++){const E=_[b],M=o[E.materialIndex],R=Math.max(E.start,x.start),D=Math.min(h.count,Math.min(E.start+E.count,x.start+x.count));for(let L=R,I=D;L<I;L+=3){const z=L,k=L+1,F=L+2;r=Bb(this,M,e,n,p,m,g,z,k,F),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const b=Math.max(0,x.start),T=Math.min(h.count,x.start+x.count);for(let E=b,M=T;E<M;E+=3){const R=E,D=E+1,L=E+2;r=Bb(this,o,e,n,p,m,g,R,D,L),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}}}function y2(i,e,t,n,r,s,o,c){let h;if(e.side===ha?h=n.intersectTriangle(o,s,r,!0,c):h=n.intersectTriangle(r,s,o,e.side===Pu,c),h===null)return null;kb.copy(c),kb.applyMatrix4(i.matrixWorld);const p=t.ray.origin.distanceTo(kb);return p<t.near||p>t.far?null:{distance:p,point:kb.clone(),object:i}}function Bb(i,e,t,n,r,s,o,c,h,p){i.getVertexPosition(c,Ib),i.getVertexPosition(h,Ob),i.getVertexPosition(p,Ub);const m=y2(i,e,t,n,Ib,Ob,Ub,FD);if(m){const g=new Q;ka.getBarycoord(FD,Ib,Ob,Ub,g),r&&(m.uv=ka.getInterpolatedAttribute(r,c,h,p,g,new je)),s&&(m.uv1=ka.getInterpolatedAttribute(s,c,h,p,g,new je)),o&&(m.normal=ka.getInterpolatedAttribute(o,c,h,p,g,new Q),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const _={a:c,b:h,c:p,normal:new Q,materialIndex:0};ka.getNormal(Ib,Ob,Ub,_.normal),m.face=_,m.barycoord=g}return m}class Kd extends yn{constructor(e=1,t=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const c=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const h=[],p=[],m=[],g=[];let _=0,x=0;b("z","y","x",-1,-1,n,t,e,o,s,0),b("z","y","x",1,-1,n,t,-e,o,s,1),b("x","z","y",1,1,e,n,t,r,o,2),b("x","z","y",1,-1,e,n,-t,r,o,3),b("x","y","z",1,-1,e,t,n,r,s,4),b("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(h),this.setAttribute("position",new Pt(p,3)),this.setAttribute("normal",new Pt(m,3)),this.setAttribute("uv",new Pt(g,2));function b(T,E,M,R,D,L,I,z,k,F,O){const U=L/k,X=I/F,K=L/2,ne=I/2,oe=z/2,le=k+1,q=F+1;let J=0,ie=0;const pe=new Q;for(let $=0;$<q;$++){const Y=$*X-ne;for(let he=0;he<le;he++){const De=he*U-K;pe[T]=De*R,pe[E]=Y*D,pe[M]=oe,p.push(pe.x,pe.y,pe.z),pe[T]=0,pe[E]=0,pe[M]=z>0?1:-1,m.push(pe.x,pe.y,pe.z),g.push(he/k),g.push(1-$/F),J+=1}}for(let $=0;$<F;$++)for(let Y=0;Y<k;Y++){const he=_+Y+le*$,De=_+Y+le*($+1),Le=_+(Y+1)+le*($+1),Ze=_+(Y+1)+le*$;h.push(he,De,Ze),h.push(De,Le,Ze),ie+=6}c.addGroup(x,ie,O),x+=ie,_+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function xg(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function na(i){const e={};for(let t=0;t<i.length;t++){const n=xg(i[t]);for(const r in n)e[r]=n[r]}return e}function _2(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function Jz(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Hn.workingColorSpace}const ek={clone:xg,merge:na};var x2=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,b2=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ul extends Vs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=x2,this.fragmentShader=b2,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xg(e.uniforms),this.uniformsGroups=_2(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class HM extends Zn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new tn,this.projectionMatrix=new tn,this.projectionMatrixInverse=new tn,this.coordinateSystem=uo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const If=new Q,VD=new je,HD=new je;class Qr extends HM{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=yg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Bd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return yg*2*Math.atan(Math.tan(Bd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){If.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(If.x,If.y).multiplyScalar(-e/If.z),If.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(If.x,If.y).multiplyScalar(-e/If.z)}getViewSize(e,t){return this.getViewBounds(e,VD,HD),t.subVectors(HD,VD)}setViewOffset(e,t,n,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Bd*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const h=o.fullWidth,p=o.fullHeight;s+=o.offsetX*r/h,t-=o.offsetY*n/p,r*=o.width/h,n*=o.height/p}const c=this.filmOffset;c!==0&&(s+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const bm=-90,Sm=1;class tk extends Zn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Qr(bm,Sm,e,t);r.layers=this.layers,this.add(r);const s=new Qr(bm,Sm,e,t);s.layers=this.layers,this.add(s);const o=new Qr(bm,Sm,e,t);o.layers=this.layers,this.add(o);const c=new Qr(bm,Sm,e,t);c.layers=this.layers,this.add(c);const h=new Qr(bm,Sm,e,t);h.layers=this.layers,this.add(h);const p=new Qr(bm,Sm,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,o,c,h]=t;for(const p of t)this.remove(p);if(e===uo)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===vg)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,c,h,p,m]=this.children,g=e.getRenderTarget(),_=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const T=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,c),e.setRenderTarget(n,3,r),e.render(t,h),e.setRenderTarget(n,4,r),e.render(t,p),n.texture.generateMipmaps=T,e.setRenderTarget(n,5,r),e.render(t,m),e.setRenderTarget(g,_,x),e.xr.enabled=b,n.texture.needsPMREMUpdate=!0}}class u_ extends lr{constructor(e=[],t=Iu,n,r,s,o,c,h,p,m){super(e,t,n,r,s,o,c,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class nk extends Nc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new u_(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Kd(5,5,5),s=new Ul({name:"CubemapFromEquirect",uniforms:xg(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ha,blending:Eu});s.uniforms.tEquirect.value=t;const o=new Rr(r,s),c=t.minFilter;return t.minFilter===Mc&&(t.minFilter=Fr),new tk(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(s)}}class Gm extends Zn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const S2={type:"move"};class zS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Gm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Gm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Gm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,o=null;const c=this._targetRay,h=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){o=!0;for(const T of e.hand.values()){const E=t.getJointPose(T,n),M=this._getHandJoint(p,T);E!==null&&(M.matrix.fromArray(E.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=E.radius),M.visible=E!==null}const m=p.joints["index-finger-tip"],g=p.joints["thumb-tip"],_=m.position.distanceTo(g.position),x=.02,b=.005;p.inputState.pinching&&_>x+b?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&_<=x-b&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(h.matrix.fromArray(s.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,s.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(s.linearVelocity)):h.hasLinearVelocity=!1,s.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(s.angularVelocity)):h.hasAngularVelocity=!1));c!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(S2)))}return c!==null&&(c.visible=r!==null),h!==null&&(h.visible=s!==null),p!==null&&(p.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Gm;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class jM{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Mt(e),this.density=t}clone(){return new jM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class GM{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Mt(e),this.near=t,this.far=n}clone(){return new GM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gR extends Zn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new vo,this.environmentIntensity=1,this.environmentRotation=new vo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class WM{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Vy,this.updateRanges=[],this.version=0,this.uuid=ho()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Js=new Q;class qd{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Js.fromBufferAttribute(this,t),Js.applyMatrix4(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Js.fromBufferAttribute(this,t),Js.applyNormalMatrix(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Js.fromBufferAttribute(this,t),Js.transformDirection(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ca(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ca(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ca(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ca(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ca(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array),s=vn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new vi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class vR extends Vs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Mm;const Sv=new Q,wm=new Q,Em=new Q,Tm=new je,Mv=new je,ik=new tn,Fb=new Q,wv=new Q,Vb=new Q,jD=new je,ZE=new je,GD=new je;class rk extends Zn{constructor(e=new vR){if(super(),this.isSprite=!0,this.type="Sprite",Mm===void 0){Mm=new yn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new WM(t,5);Mm.setIndex([0,1,2,0,2,3]),Mm.setAttribute("position",new qd(n,3,0,!1)),Mm.setAttribute("uv",new qd(n,2,3,!1))}this.geometry=Mm,this.material=e,this.center=new je(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wm.setFromMatrixScale(this.matrixWorld),ik.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Em.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wm.multiplyScalar(-Em.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const o=this.center;Hb(Fb.set(-.5,-.5,0),Em,o,wm,r,s),Hb(wv.set(.5,-.5,0),Em,o,wm,r,s),Hb(Vb.set(.5,.5,0),Em,o,wm,r,s),jD.set(0,0),ZE.set(1,0),GD.set(1,1);let c=e.ray.intersectTriangle(Fb,wv,Vb,!1,Sv);if(c===null&&(Hb(wv.set(-.5,.5,0),Em,o,wm,r,s),ZE.set(0,1),c=e.ray.intersectTriangle(Fb,Vb,wv,!1,Sv),c===null))return;const h=e.ray.origin.distanceTo(Sv);h<e.near||h>e.far||t.push({distance:h,point:Sv.clone(),uv:ka.getInterpolation(Sv,Fb,wv,Vb,jD,ZE,GD,new je),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Hb(i,e,t,n,r,s){Tm.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(Mv.x=s*Tm.x-r*Tm.y,Mv.y=r*Tm.x+s*Tm.y):Mv.copy(Tm),i.copy(e),i.x+=Mv.x,i.y+=Mv.y,i.applyMatrix4(ik)}const jb=new Q,WD=new Q;class sk extends Zn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){jb.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(jb);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){jb.setFromMatrixPosition(e.matrixWorld),WD.setFromMatrixPosition(this.matrixWorld);const n=jb.distanceTo(WD)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),n>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const XD=new Q,qD=new Yn,YD=new Yn,M2=new Q,ZD=new tn,Gb=new Q,$E=new ms,$D=new tn,KE=new Ng;class ak extends Rr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=LA,this.bindMatrix=new tn,this.bindMatrixInverse=new tn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Bs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Gb),this.boundingBox.expandByPoint(Gb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ms),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Gb),this.boundingSphere.expandByPoint(Gb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$E.copy(this.boundingSphere),$E.applyMatrix4(r),e.ray.intersectsSphere($E)!==!1&&($D.copy(r).invert(),KE.copy(e.ray).applyMatrix4($D),!(this.boundingBox!==null&&KE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,KE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Yn,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===LA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Oz?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;qD.fromBufferAttribute(r.attributes.skinIndex,e),YD.fromBufferAttribute(r.attributes.skinWeight,e),XD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=YD.getComponent(s);if(o!==0){const c=qD.getComponent(s);ZD.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),t.addScaledVector(M2.copy(XD).applyMatrix4(ZD),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class yR extends Zn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ac extends lr{constructor(e=null,t=1,n=1,r,s,o,c,h,p=ps,m=ps,g,_){super(null,o,c,h,p,m,r,s,g,_),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KD=new tn,w2=new tn;class XM{constructor(e=[],t=[]){this.uuid=ho(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new tn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new tn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const c=e[s]?e[s].matrixWorld:w2;KD.multiplyMatrices(c,t[s]),KD.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new XM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Ac(t,e,e,Us,Ba);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new yR),this.bones.push(o),this.boneInverses.push(new tn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const c=n[r];e.boneInverses.push(c.toArray())}return e}}class bg extends vi{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Am=new tn,QD=new tn,Wb=[],JD=new Bs,E2=new tn,Ev=new Rr,Tv=new ms;class ok extends Rr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new bg(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,E2)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Bs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Am),JD.copy(e.boundingBox).applyMatrix4(Am),this.boundingBox.union(JD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ms),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Am),Tv.copy(e.boundingSphere).applyMatrix4(Am),this.boundingSphere.union(Tv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=n.length+1,o=e*s+1;for(let c=0;c<n.length;c++)n[c]=r[o+c]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Ev.geometry=this.geometry,Ev.material=this.material,Ev.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Tv.copy(this.boundingSphere),Tv.applyMatrix4(n),e.ray.intersectsSphere(Tv)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Am),QD.multiplyMatrices(n,Am),Ev.matrixWorld=QD,Ev.raycast(e,Wb);for(let o=0,c=Wb.length;o<c;o++){const h=Wb[o];h.instanceId=s,h.object=this,t.push(h)}Wb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new bg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new Ac(new Float32Array(r*this.count),r,this.count,UM,Ba));const s=this.morphTexture.source.data.data;let o=0;for(let p=0;p<n.length;p++)o+=n[p];const c=this.geometry.morphTargetsRelative?1:1-o,h=r*e;s[h]=c,s.set(n,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const QE=new Q,T2=new Q,A2=new hn;class kf{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=QE.subVectors(n,t).cross(T2.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(QE),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||A2.getNormalMatrix(e),r=this.coplanarPoint(QE).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const sd=new ms,C2=new je(.5,.5),Xb=new Q;class Dg{constructor(e=new kf,t=new kf,n=new kf,r=new kf,s=new kf,o=new kf){this.planes=[e,t,n,r,s,o]}set(e,t,n,r,s,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(n),c[3].copy(r),c[4].copy(s),c[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=uo,n=!1){const r=this.planes,s=e.elements,o=s[0],c=s[1],h=s[2],p=s[3],m=s[4],g=s[5],_=s[6],x=s[7],b=s[8],T=s[9],E=s[10],M=s[11],R=s[12],D=s[13],L=s[14],I=s[15];if(r[0].setComponents(p-o,x-m,M-b,I-R).normalize(),r[1].setComponents(p+o,x+m,M+b,I+R).normalize(),r[2].setComponents(p+c,x+g,M+T,I+D).normalize(),r[3].setComponents(p-c,x-g,M-T,I-D).normalize(),n)r[4].setComponents(h,_,E,L).normalize(),r[5].setComponents(p-h,x-_,M-E,I-L).normalize();else if(r[4].setComponents(p-h,x-_,M-E,I-L).normalize(),t===uo)r[5].setComponents(p+h,x+_,M+E,I+L).normalize();else if(t===vg)r[5].setComponents(h,_,E,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),sd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),sd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(sd)}intersectsSprite(e){sd.center.set(0,0,0);const t=C2.distanceTo(e.center);return sd.radius=.7071067811865476+t,sd.applyMatrix4(e.matrixWorld),this.intersectsSphere(sd)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Xb.x=r.normal.x>0?e.max.x:e.min.x,Xb.y=r.normal.y>0?e.max.y:e.min.y,Xb.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Xb)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const mc=new tn,gc=new Dg;class qM{constructor(){this.coordinateSystem=uo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(mc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gc.setFromProjectionMatrix(mc,r.coordinateSystem,r.reversedDepth),gc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(mc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gc.setFromProjectionMatrix(mc,r.coordinateSystem,r.reversedDepth),gc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(mc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gc.setFromProjectionMatrix(mc,r.coordinateSystem,r.reversedDepth),gc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(mc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gc.setFromProjectionMatrix(mc,r.coordinateSystem,r.reversedDepth),gc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(mc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gc.setFromProjectionMatrix(mc,r.coordinateSystem,r.reversedDepth),gc.containsPoint(e))return!0}return!1}clone(){return new qM}}function JE(i,e){return i-e}function R2(i,e){return i.z-e.z}function N2(i,e){return e.z-i.z}class D2{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const c=s[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=n,c.index=r}reset(){this.list.length=0,this.index=0}}const Ia=new tn,L2=new Mt(1,1,1),eL=new Dg,P2=new qM,qb=new Bs,ad=new ms,Av=new Q,tL=new Q,I2=new Q,eT=new D2,Rs=new Rr,Yb=[];function O2(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let s=0;s<r;s++)for(let o=0;o<n;o++)e.setComponent(s+t,o,i.getComponent(s,o))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function od(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class lk extends Rr{constructor(e,t,n=t*2,r){super(new yn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Ac(t,e,e,Us,Ba);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Ac(t,e,e,c_,Ou);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Ac(t,e,e,Us,Ba);n.colorSpace=Hn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:c,itemSize:h,normalized:p}=o,m=new c.constructor(n*h),g=new vi(m,h,p);t.setAttribute(s,g)}if(e.getIndex()!==null){const s=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new vi(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),s=t.getAttribute(n);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Bs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Ia),this.getBoundingBoxAt(s,qb).applyMatrix4(Ia),e.union(qb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Ia),this.getBoundingSphereAt(s,ad).applyMatrix4(Ia),e.union(ad)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(JE),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const s=this._matricesTexture;Ia.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(L2.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?o.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(JE),h=this._availableGeometryIds.shift(),s[h]=r):(h=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(h,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,s=n.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(r&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in n.attributes){const g=t.getAttribute(m),_=n.getAttribute(m);O2(g,_,h);const x=g.itemSize;for(let b=g.count,T=p;b<T;b++){const E=h+b;for(let M=0;M<x;M++)_.setComponent(E,M,0)}_.needsUpdate=!0,_.addUpdateRange(h*x,p*x)}if(r){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let _=0;_<o.count;_++)s.setX(m+_,h+o.getX(_));for(let _=o.count,x=g;_<x;_++)s.setX(m+_,h);s.needsUpdate=!0,s.addUpdateRange(m,c.reservedIndexCount)}return c.start=r?c.indexStart:c.vertexStart,c.count=r?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,s=n.length;r<s;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((o,c)=>c).sort((o,c)=>n[o].vertexStart-n[c].vertexStart),s=this.geometry;for(let o=0,c=n.length;o<c;o++){const h=r[o],p=n[h];if(p.active!==!1){if(s.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:_}=p,x=s.index,b=x.array,T=e-g;for(let E=m;E<m+_;E++)b[E]=b[E]+T;x.array.copyWithin(t,m,m+_),x.addUpdateRange(t,_),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=p,_=s.attributes;for(const x in _){const b=_[x],{array:T,itemSize:E}=b;T.copyWithin(e*E,m*E,(m+g)*E),b.addUpdateRange(e*E,g*E)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=s.index?p.indexStart:p.vertexStart,this._nextIndexStart=s.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Bs,o=n.index,c=n.attributes.position;for(let h=r.start,p=r.start+r.count;h<p;h++){let m=h;o&&(m=o.getX(m)),s.expandByPoint(Av.fromBufferAttribute(c,m))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new ms;this.getBoundingBoxAt(e,qb),qb.getCenter(s.center);const o=n.index,c=n.attributes.position;let h=0;for(let p=r.start,m=r.start+r.count;p<m;p++){let g=p;o&&(g=o.getX(g)),Av.fromBufferAttribute(c,g),h=Math.max(h,s.center.distanceToSquared(Av))}s.radius=Math.sqrt(h),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(JE);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);od(this._multiDrawCounts,r),od(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,h=this._colorsTexture;o.dispose(),this._initIndirectTexture(),od(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),od(c.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),od(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...n.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(h=>h.indexStart+h.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new yn,this._initializeGeometry(s));const o=this.geometry;s.index&&od(s.index.array,o.index.array);for(const c in s.attributes)od(s.attributes[c].array,o.attributes[c].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Rs.material=this.material,Rs.geometry.index=o.index,Rs.geometry.attributes=o.attributes,Rs.geometry.boundingBox===null&&(Rs.geometry.boundingBox=new Bs),Rs.geometry.boundingSphere===null&&(Rs.geometry.boundingSphere=new ms);for(let c=0,h=n.length;c<h;c++){if(!n[c].visible||!n[c].active)continue;const p=n[c].geometryIndex,m=r[p];Rs.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,Rs.matrixWorld).premultiply(s),this.getBoundingBoxAt(p,Rs.geometry.boundingBox),this.getBoundingSphereAt(p,Rs.geometry.boundingSphere),Rs.raycast(e,Yb);for(let g=0,_=Yb.length;g<_;g++){const x=Yb[g];x.object=this,x.batchId=c,t.push(x)}Yb.length=0}Rs.material=null,Rs.geometry.index=null,Rs.geometry.attributes={},Rs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,_=this.perObjectFrustumCulled,x=this._indirectTexture,b=x.image.data,T=n.isArrayCamera?P2:eL;_&&!n.isArrayCamera&&(Ia.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),eL.setFromProjectionMatrix(Ia,n.coordinateSystem,n.reversedDepth));let E=0;if(this.sortObjects){Ia.copy(this.matrixWorld).invert(),Av.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Ia),tL.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Ia);for(let D=0,L=h.length;D<L;D++)if(h[D].visible&&h[D].active){const I=h[D].geometryIndex;this.getMatrixAt(D,Ia),this.getBoundingSphereAt(I,ad).applyMatrix4(Ia);let z=!1;if(_&&(z=!T.intersectsSphere(ad,n)),!z){const k=g[I],F=I2.subVectors(ad.center,Av).dot(tL);eT.push(k.start,k.count,F,D)}}const M=eT.list,R=this.customSort;R===null?M.sort(s.transparent?N2:R2):R.call(this,M,n);for(let D=0,L=M.length;D<L;D++){const I=M[D];p[E]=I.start*c,m[E]=I.count,b[E]=I.index,E++}eT.reset()}else for(let M=0,R=h.length;M<R;M++)if(h[M].visible&&h[M].active){const D=h[M].geometryIndex;let L=!1;if(_&&(this.getMatrixAt(M,Ia),this.getBoundingSphereAt(D,ad).applyMatrix4(Ia),L=!T.intersectsSphere(ad,n)),!L){const I=g[D];p[E]=I.start*c,m[E]=I.count,b[E]=M,E++}}x.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class pa extends Vs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Q1=new Q,J1=new Q,nL=new tn,Cv=new Ng,Zb=new ms,tT=new Q,iL=new Q;class sh extends Zn{constructor(e=new yn,t=new pa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)Q1.fromBufferAttribute(t,r-1),J1.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Q1.distanceTo(J1);e.setAttribute("lineDistance",new Pt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Zb.copy(n.boundingSphere),Zb.applyMatrix4(r),Zb.radius+=s,e.ray.intersectsSphere(Zb)===!1)return;nL.copy(r).invert(),Cv.copy(e.ray).applyMatrix4(nL);const c=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,p=this.isLineSegments?2:1,m=n.index,_=n.attributes.position;if(m!==null){const x=Math.max(0,o.start),b=Math.min(m.count,o.start+o.count);for(let T=x,E=b-1;T<E;T+=p){const M=m.getX(T),R=m.getX(T+1),D=$b(this,e,Cv,h,M,R,T);D&&t.push(D)}if(this.isLineLoop){const T=m.getX(b-1),E=m.getX(x),M=$b(this,e,Cv,h,T,E,b-1);M&&t.push(M)}}else{const x=Math.max(0,o.start),b=Math.min(_.count,o.start+o.count);for(let T=x,E=b-1;T<E;T+=p){const M=$b(this,e,Cv,h,T,T+1,T);M&&t.push(M)}if(this.isLineLoop){const T=$b(this,e,Cv,h,b-1,x,b-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const c=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=s}}}}}function $b(i,e,t,n,r,s,o){const c=i.geometry.attributes.position;if(Q1.fromBufferAttribute(c,r),J1.fromBufferAttribute(c,s),t.distanceSqToSegment(Q1,J1,tT,iL)>n)return;tT.applyMatrix4(i.matrixWorld);const p=e.ray.origin.distanceTo(tT);if(!(p<e.near||p>e.far))return{distance:p,point:iL.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const rL=new Q,sL=new Q;class Lc extends sh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)rL.fromBufferAttribute(t,r),sL.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+rL.distanceTo(sL);e.setAttribute("lineDistance",new Pt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ck extends sh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class _R extends Vs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const aL=new tn,OA=new Ng,Kb=new ms,Qb=new Q;class uk extends Zn{constructor(e=new yn,t=new _R){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Kb.copy(n.boundingSphere),Kb.applyMatrix4(r),Kb.radius+=s,e.ray.intersectsSphere(Kb)===!1)return;aL.copy(r).invert(),OA.copy(e.ray).applyMatrix4(aL);const c=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,p=n.index,g=n.attributes.position;if(p!==null){const _=Math.max(0,o.start),x=Math.min(p.count,o.start+o.count);for(let b=_,T=x;b<T;b++){const E=p.getX(b);Qb.fromBufferAttribute(g,E),oL(Qb,E,h,r,e,t,this)}}else{const _=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let b=_,T=x;b<T;b++)Qb.fromBufferAttribute(g,b),oL(Qb,b,h,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const c=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=s}}}}}function oL(i,e,t,n,r,s,o){const c=OA.distanceSqToPoint(i);if(c<t){const h=new Q;OA.closestPointToPoint(i,h),h.applyMatrix4(n);const p=r.ray.origin.distanceTo(h);if(p<r.near||p>r.far)return;s.push({distance:p,distanceToRay:Math.sqrt(c),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class fk extends lr{constructor(e,t,n,r,s=Fr,o=Fr,c,h,p){super(e,t,n,r,s,o,c,h,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function g(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class U2 extends fk{constructor(e,t,n,r,s,o,c,h){super({},e,t,n,r,s,o,c,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class z2 extends lr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ps,this.minFilter=ps,this.generateMipmaps=!1,this.needsUpdate=!0}}class YM extends lr{constructor(e,t,n,r,s,o,c,h,p,m,g,_){super(null,o,c,h,p,m,r,s,g,_),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class k2 extends YM{constructor(e,t,n,r,s,o){super(e,t,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ko,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class B2 extends YM{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Iu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class F2 extends lr{constructor(e,t,n,r,s,o,c,h,p){super(e,t,n,r,s,o,c,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xR extends lr{constructor(e,t,n=Ou,r,s,o,c=ps,h=ps,p,m=mg,g=1){if(m!==mg&&m!==gg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const _={width:e,height:t,depth:g};super(_,r,s,o,c,h,m,n,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new qf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class bR extends lr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class ZM extends yn{constructor(e=1,t=1,n=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:s},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],c=[],h=[],p=[],m=t/2,g=Math.PI/2*e,_=t,x=2*g+_,b=n*2+s,T=r+1,E=new Q,M=new Q;for(let R=0;R<=b;R++){let D=0,L=0,I=0,z=0;if(R<=n){const O=R/n,U=O*Math.PI/2;L=-m-e*Math.cos(U),I=e*Math.sin(U),z=-e*Math.cos(U),D=O*g}else if(R<=n+s){const O=(R-n)/s;L=-m+O*t,I=e,z=0,D=g+O*_}else{const O=(R-n-s)/n,U=O*Math.PI/2;L=m+e*Math.sin(U),I=e*Math.cos(U),z=e*Math.sin(U),D=g+_+O*g}const k=Math.max(0,Math.min(1,D/x));let F=0;R===0?F=.5/r:R===b&&(F=-.5/r);for(let O=0;O<=r;O++){const U=O/r,X=U*Math.PI*2,K=Math.sin(X),ne=Math.cos(X);M.x=-I*ne,M.y=L,M.z=I*K,c.push(M.x,M.y,M.z),E.set(-I*ne,z,I*K),E.normalize(),h.push(E.x,E.y,E.z),p.push(U+F,k)}if(R>0){const O=(R-1)*T;for(let U=0;U<r;U++){const X=O+U,K=O+U+1,ne=R*T+U,oe=R*T+U+1;o.push(X,K,ne),o.push(K,oe,ne)}}}this.setIndex(o),this.setAttribute("position",new Pt(c,3)),this.setAttribute("normal",new Pt(h,3)),this.setAttribute("uv",new Pt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZM(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class $M extends yn{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],o=[],c=[],h=[],p=new Q,m=new je;o.push(0,0,0),c.push(0,0,1),h.push(.5,.5);for(let g=0,_=3;g<=t;g++,_+=3){const x=n+g/t*r;p.x=e*Math.cos(x),p.y=e*Math.sin(x),o.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(o[_]/e+1)/2,m.y=(o[_+1]/e+1)/2,h.push(m.x,m.y)}for(let g=1;g<=t;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new Pt(o,3)),this.setAttribute("normal",new Pt(c,3)),this.setAttribute("uv",new Pt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $M(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class f_ extends yn{constructor(e=1,t=1,n=1,r=32,s=1,o=!1,c=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:c,thetaLength:h};const p=this;r=Math.floor(r),s=Math.floor(s);const m=[],g=[],_=[],x=[];let b=0;const T=[],E=n/2;let M=0;R(),o===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new Pt(g,3)),this.setAttribute("normal",new Pt(_,3)),this.setAttribute("uv",new Pt(x,2));function R(){const L=new Q,I=new Q;let z=0;const k=(t-e)/n;for(let F=0;F<=s;F++){const O=[],U=F/s,X=U*(t-e)+e;for(let K=0;K<=r;K++){const ne=K/r,oe=ne*h+c,le=Math.sin(oe),q=Math.cos(oe);I.x=X*le,I.y=-U*n+E,I.z=X*q,g.push(I.x,I.y,I.z),L.set(le,k,q).normalize(),_.push(L.x,L.y,L.z),x.push(ne,1-U),O.push(b++)}T.push(O)}for(let F=0;F<r;F++)for(let O=0;O<s;O++){const U=T[O][F],X=T[O+1][F],K=T[O+1][F+1],ne=T[O][F+1];(e>0||O!==0)&&(m.push(U,X,ne),z+=3),(t>0||O!==s-1)&&(m.push(X,K,ne),z+=3)}p.addGroup(M,z,0),M+=z}function D(L){const I=b,z=new je,k=new Q;let F=0;const O=L===!0?e:t,U=L===!0?1:-1;for(let K=1;K<=r;K++)g.push(0,E*U,0),_.push(0,U,0),x.push(.5,.5),b++;const X=b;for(let K=0;K<=r;K++){const oe=K/r*h+c,le=Math.cos(oe),q=Math.sin(oe);k.x=O*q,k.y=E*U,k.z=O*le,g.push(k.x,k.y,k.z),_.push(0,U,0),z.x=le*.5+.5,z.y=q*.5*U+.5,x.push(z.x,z.y),b++}for(let K=0;K<r;K++){const ne=I+K,oe=X+K;L===!0?m.push(oe,oe+1,ne):m.push(oe+1,oe,ne),F+=3}p.addGroup(M,F,L===!0?1:2),M+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class h_ extends f_{constructor(e=1,t=1,n=32,r=1,s=!1,o=0,c=Math.PI*2){super(0,e,t,n,r,s,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:c}}static fromJSON(e){return new h_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hh extends yn{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],o=[];c(r),p(n),m(),this.setAttribute("position",new Pt(s,3)),this.setAttribute("normal",new Pt(s.slice(),3)),this.setAttribute("uv",new Pt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function c(R){const D=new Q,L=new Q,I=new Q;for(let z=0;z<t.length;z+=3)x(t[z+0],D),x(t[z+1],L),x(t[z+2],I),h(D,L,I,R)}function h(R,D,L,I){const z=I+1,k=[];for(let F=0;F<=z;F++){k[F]=[];const O=R.clone().lerp(L,F/z),U=D.clone().lerp(L,F/z),X=z-F;for(let K=0;K<=X;K++)K===0&&F===z?k[F][K]=O:k[F][K]=O.clone().lerp(U,K/X)}for(let F=0;F<z;F++)for(let O=0;O<2*(z-F)-1;O++){const U=Math.floor(O/2);O%2===0?(_(k[F][U+1]),_(k[F+1][U]),_(k[F][U])):(_(k[F][U+1]),_(k[F+1][U+1]),_(k[F+1][U]))}}function p(R){const D=new Q;for(let L=0;L<s.length;L+=3)D.x=s[L+0],D.y=s[L+1],D.z=s[L+2],D.normalize().multiplyScalar(R),s[L+0]=D.x,s[L+1]=D.y,s[L+2]=D.z}function m(){const R=new Q;for(let D=0;D<s.length;D+=3){R.x=s[D+0],R.y=s[D+1],R.z=s[D+2];const L=E(R)/2/Math.PI+.5,I=M(R)/Math.PI+.5;o.push(L,1-I)}b(),g()}function g(){for(let R=0;R<o.length;R+=6){const D=o[R+0],L=o[R+2],I=o[R+4],z=Math.max(D,L,I),k=Math.min(D,L,I);z>.9&&k<.1&&(D<.2&&(o[R+0]+=1),L<.2&&(o[R+2]+=1),I<.2&&(o[R+4]+=1))}}function _(R){s.push(R.x,R.y,R.z)}function x(R,D){const L=R*3;D.x=e[L+0],D.y=e[L+1],D.z=e[L+2]}function b(){const R=new Q,D=new Q,L=new Q,I=new Q,z=new je,k=new je,F=new je;for(let O=0,U=0;O<s.length;O+=9,U+=6){R.set(s[O+0],s[O+1],s[O+2]),D.set(s[O+3],s[O+4],s[O+5]),L.set(s[O+6],s[O+7],s[O+8]),z.set(o[U+0],o[U+1]),k.set(o[U+2],o[U+3]),F.set(o[U+4],o[U+5]),I.copy(R).add(D).add(L).divideScalar(3);const X=E(I);T(z,U+0,R,X),T(k,U+2,D,X),T(F,U+4,L,X)}}function T(R,D,L,I){I<0&&R.x===1&&(o[D]=R.x-1),L.x===0&&L.z===0&&(o[D]=I/2/Math.PI+.5)}function E(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hh(e.vertices,e.indices,e.radius,e.details)}}class KM extends hh{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new KM(e.radius,e.detail)}}const Jb=new Q,eS=new Q,nT=new Q,tS=new ka;class hk extends yn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Bd*t),o=e.getIndex(),c=e.getAttribute("position"),h=o?o.count:c.count,p=[0,0,0],m=["a","b","c"],g=new Array(3),_={},x=[];for(let b=0;b<h;b+=3){o?(p[0]=o.getX(b),p[1]=o.getX(b+1),p[2]=o.getX(b+2)):(p[0]=b,p[1]=b+1,p[2]=b+2);const{a:T,b:E,c:M}=tS;if(T.fromBufferAttribute(c,p[0]),E.fromBufferAttribute(c,p[1]),M.fromBufferAttribute(c,p[2]),tS.getNormal(nT),g[0]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,g[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,g[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const D=(R+1)%3,L=g[R],I=g[D],z=tS[m[R]],k=tS[m[D]],F=`${L}_${I}`,O=`${I}_${L}`;O in _&&_[O]?(nT.dot(_[O].normal)<=s&&(x.push(z.x,z.y,z.z),x.push(k.x,k.y,k.z)),_[O]=null):F in _||(_[F]={index0:p[R],index1:p[D],normal:nT.clone()})}}for(const b in _)if(_[b]){const{index0:T,index1:E}=_[b];Jb.fromBufferAttribute(c,T),eS.fromBufferAttribute(c,E),x.push(Jb.x,Jb.y,Jb.z),x.push(eS.x,eS.y,eS.z)}this.setAttribute("position",new Pt(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Bl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let c=0,h=s-1,p;for(;c<=h;)if(r=Math.floor(c+(h-c)/2),p=n[r]-o,p<0)c=r+1;else if(p>0)h=r-1;else{h=r;break}if(r=h,n[r]===o)return r/(s-1);const m=n[r],_=n[r+1]-m,x=(o-m)/_;return(r+x)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),c=this.getPoint(s),h=t||(o.isVector2?new je:new Q);return h.copy(c).sub(o).normalize(),h}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new Q,r=[],s=[],o=[],c=new Q,h=new tn;for(let x=0;x<=e;x++){const b=x/e;r[x]=this.getTangentAt(b,new Q)}s[0]=new Q,o[0]=new Q;let p=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),_=Math.abs(r[0].z);m<=p&&(p=m,n.set(1,0,0)),g<=p&&(p=g,n.set(0,1,0)),_<=p&&n.set(0,0,1),c.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],c),o[0].crossVectors(r[0],s[0]);for(let x=1;x<=e;x++){if(s[x]=s[x-1].clone(),o[x]=o[x-1].clone(),c.crossVectors(r[x-1],r[x]),c.length()>Number.EPSILON){c.normalize();const b=Math.acos(Qt(r[x-1].dot(r[x]),-1,1));s[x].applyMatrix4(h.makeRotationAxis(c,b))}o[x].crossVectors(r[x],s[x])}if(t===!0){let x=Math.acos(Qt(s[0].dot(s[e]),-1,1));x/=e,r[0].dot(c.crossVectors(s[0],s[e]))>0&&(x=-x);for(let b=1;b<=e;b++)s[b].applyMatrix4(h.makeRotationAxis(r[b],x*b)),o[b].crossVectors(r[b],s[b])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class QM extends Bl{constructor(e=0,t=0,n=1,r=1,s=0,o=Math.PI*2,c=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=c,this.aRotation=h}getPoint(e,t=new je){const n=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const c=this.aStartAngle+e*s;let h=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),_=h-this.aX,x=p-this.aY;h=_*m-x*g+this.aX,p=_*g+x*m+this.aY}return n.set(h,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class dk extends QM{constructor(e,t,n,r,s,o){super(e,t,n,n,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function SR(){let i=0,e=0,t=0,n=0;function r(s,o,c,h){i=s,e=c,t=-3*s+3*o-2*c-h,n=2*s-2*o+c+h}return{initCatmullRom:function(s,o,c,h,p){r(o,c,p*(c-s),p*(h-o))},initNonuniformCatmullRom:function(s,o,c,h,p,m,g){let _=(o-s)/p-(c-s)/(p+m)+(c-o)/m,x=(c-o)/m-(h-o)/(m+g)+(h-c)/g;_*=m,x*=m,r(o,c,_,x)},calc:function(s){const o=s*s,c=o*s;return i+e*s+t*o+n*c}}}const nS=new Q,iT=new SR,rT=new SR,sT=new SR;class pk extends Bl{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Q){const n=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let c=Math.floor(o),h=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/s)+1)*s:h===0&&c===s-1&&(c=s-2,h=1);let p,m;this.closed||c>0?p=r[(c-1)%s]:(nS.subVectors(r[0],r[1]).add(r[0]),p=nS);const g=r[c%s],_=r[(c+1)%s];if(this.closed||c+2<s?m=r[(c+2)%s]:(nS.subVectors(r[s-1],r[s-2]).add(r[s-1]),m=nS),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let b=Math.pow(p.distanceToSquared(g),x),T=Math.pow(g.distanceToSquared(_),x),E=Math.pow(_.distanceToSquared(m),x);T<1e-4&&(T=1),b<1e-4&&(b=T),E<1e-4&&(E=T),iT.initNonuniformCatmullRom(p.x,g.x,_.x,m.x,b,T,E),rT.initNonuniformCatmullRom(p.y,g.y,_.y,m.y,b,T,E),sT.initNonuniformCatmullRom(p.z,g.z,_.z,m.z,b,T,E)}else this.curveType==="catmullrom"&&(iT.initCatmullRom(p.x,g.x,_.x,m.x,this.tension),rT.initCatmullRom(p.y,g.y,_.y,m.y,this.tension),sT.initCatmullRom(p.z,g.z,_.z,m.z,this.tension));return n.set(iT.calc(h),rT.calc(h),sT.calc(h)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Q().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lL(i,e,t,n,r){const s=(n-e)*.5,o=(r-t)*.5,c=i*i,h=i*c;return(2*t-2*n+s+o)*h+(-3*t+3*n-2*s-o)*c+s*i+t}function V2(i,e){const t=1-i;return t*t*e}function H2(i,e){return 2*(1-i)*i*e}function j2(i,e){return i*i*e}function dy(i,e,t,n){return V2(i,e)+H2(i,t)+j2(i,n)}function G2(i,e){const t=1-i;return t*t*t*e}function W2(i,e){const t=1-i;return 3*t*t*i*e}function X2(i,e){return 3*(1-i)*i*i*e}function q2(i,e){return i*i*i*e}function py(i,e,t,n,r){return G2(i,e)+W2(i,t)+X2(i,n)+q2(i,r)}class MR extends Bl{constructor(e=new je,t=new je,n=new je,r=new je){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new je){const n=t,r=this.v0,s=this.v1,o=this.v2,c=this.v3;return n.set(py(e,r.x,s.x,o.x,c.x),py(e,r.y,s.y,o.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mk extends Bl{constructor(e=new Q,t=new Q,n=new Q,r=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Q){const n=t,r=this.v0,s=this.v1,o=this.v2,c=this.v3;return n.set(py(e,r.x,s.x,o.x,c.x),py(e,r.y,s.y,o.y,c.y),py(e,r.z,s.z,o.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wR extends Bl{constructor(e=new je,t=new je){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new je){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gk extends Bl{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Q){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ER extends Bl{constructor(e=new je,t=new je,n=new je){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new je){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(dy(e,r.x,s.x,o.x),dy(e,r.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TR extends Bl{constructor(e=new Q,t=new Q,n=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Q){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(dy(e,r.x,s.x,o.x),dy(e,r.y,s.y,o.y),dy(e,r.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AR extends Bl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new je){const n=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),c=s-o,h=r[o===0?o:o-1],p=r[o],m=r[o>r.length-2?r.length-1:o+1],g=r[o>r.length-3?r.length-1:o+2];return n.set(lL(c,h.x,p.x,m.x,g.x),lL(c,h.y,p.y,m.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new je().fromArray(r))}return this}}var eM=Object.freeze({__proto__:null,ArcCurve:dk,CatmullRomCurve3:pk,CubicBezierCurve:MR,CubicBezierCurve3:mk,EllipseCurve:QM,LineCurve:wR,LineCurve3:gk,QuadraticBezierCurve:ER,QuadraticBezierCurve3:TR,SplineCurve:AR});class vk extends Bl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new eM[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const o=r[s]-n,c=this.curves[s],h=c.getLength(),p=h===0?0:1-o/h;return c.getPointAt(p,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,h=o.getPoints(c);for(let p=0;p<h.length;p++){const m=h[p];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new eM[r.type]().fromJSON(r))}return this}}class tM extends vk{constructor(e){super(),this.type="Path",this.currentPoint=new je,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new wR(this.currentPoint.clone(),new je(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new ER(this.currentPoint.clone(),new je(e,t),new je(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,o){const c=new MR(this.currentPoint.clone(),new je(e,t),new je(n,r),new je(s,o));return this.curves.push(c),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new AR(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,o){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+c,t+h,n,r,s,o),this}absarc(e,t,n,r,s,o){return this.absellipse(e,t,n,n,r,s,o),this}ellipse(e,t,n,r,s,o,c,h){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,n,r,s,o,c,h),this}absellipse(e,t,n,r,s,o,c,h){const p=new QM(e,t,n,r,s,o,c,h);if(this.curves.length>0){const g=p.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Fd extends tM{constructor(e){super(e),this.uuid=ho(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new tM().fromJSON(r))}return this}}function Y2(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=yk(i,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let c,h,p;if(n&&(s=J2(i,e,s,t)),i.length>80*t){c=1/0,h=1/0;let m=-1/0,g=-1/0;for(let _=t;_<r;_+=t){const x=i[_],b=i[_+1];x<c&&(c=x),b<h&&(h=b),x>m&&(m=x),b>g&&(g=b)}p=Math.max(m-c,g-h),p=p!==0?32767/p:0}return Gy(s,o,t,c,h,p,0),o}function yk(i,e,t,n,r){let s;if(r===uG(i,e,t,n)>0)for(let o=e;o<t;o+=n)s=cL(o/n|0,i[o],i[o+1],s);else for(let o=t-n;o>=e;o-=n)s=cL(o/n|0,i[o],i[o+1],s);return s&&Sg(s,s.next)&&(Xy(s),s=s.next),s}function Yd(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(Sg(t,t.next)||Qi(t.prev,t,t.next)===0)){if(Xy(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Gy(i,e,t,n,r,s,o){if(!i)return;!o&&s&&rG(i,n,r,s);let c=i;for(;i.prev!==i.next;){const h=i.prev,p=i.next;if(s?$2(i,n,r,s):Z2(i)){e.push(h.i,i.i,p.i),Xy(i),i=p.next,c=p.next;continue}if(i=p,i===c){o?o===1?(i=K2(Yd(i),e),Gy(i,e,t,n,r,s,2)):o===2&&Q2(i,e,t,n,r,s):Gy(Yd(i),e,t,n,r,s,1);break}}}function Z2(i){const e=i.prev,t=i,n=i.next;if(Qi(e,t,n)>=0)return!1;const r=e.x,s=t.x,o=n.x,c=e.y,h=t.y,p=n.y,m=Math.min(r,s,o),g=Math.min(c,h,p),_=Math.max(r,s,o),x=Math.max(c,h,p);let b=n.next;for(;b!==e;){if(b.x>=m&&b.x<=_&&b.y>=g&&b.y<=x&&Hv(r,c,s,h,o,p,b.x,b.y)&&Qi(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function $2(i,e,t,n){const r=i.prev,s=i,o=i.next;if(Qi(r,s,o)>=0)return!1;const c=r.x,h=s.x,p=o.x,m=r.y,g=s.y,_=o.y,x=Math.min(c,h,p),b=Math.min(m,g,_),T=Math.max(c,h,p),E=Math.max(m,g,_),M=UA(x,b,e,t,n),R=UA(T,E,e,t,n);let D=i.prevZ,L=i.nextZ;for(;D&&D.z>=M&&L&&L.z<=R;){if(D.x>=x&&D.x<=T&&D.y>=b&&D.y<=E&&D!==r&&D!==o&&Hv(c,m,h,g,p,_,D.x,D.y)&&Qi(D.prev,D,D.next)>=0||(D=D.prevZ,L.x>=x&&L.x<=T&&L.y>=b&&L.y<=E&&L!==r&&L!==o&&Hv(c,m,h,g,p,_,L.x,L.y)&&Qi(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;D&&D.z>=M;){if(D.x>=x&&D.x<=T&&D.y>=b&&D.y<=E&&D!==r&&D!==o&&Hv(c,m,h,g,p,_,D.x,D.y)&&Qi(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;L&&L.z<=R;){if(L.x>=x&&L.x<=T&&L.y>=b&&L.y<=E&&L!==r&&L!==o&&Hv(c,m,h,g,p,_,L.x,L.y)&&Qi(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function K2(i,e){let t=i;do{const n=t.prev,r=t.next.next;!Sg(n,r)&&xk(n,t,t.next,r)&&Wy(n,r)&&Wy(r,n)&&(e.push(n.i,t.i,r.i),Xy(t),Xy(t.next),t=i=r),t=t.next}while(t!==i);return Yd(t)}function Q2(i,e,t,n,r,s){let o=i;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&oG(o,c)){let h=bk(o,c);o=Yd(o,o.next),h=Yd(h,h.next),Gy(o,e,t,n,r,s,0),Gy(h,e,t,n,r,s,0);return}c=c.next}o=o.next}while(o!==i)}function J2(i,e,t,n){const r=[];for(let s=0,o=e.length;s<o;s++){const c=e[s]*n,h=s<o-1?e[s+1]*n:i.length,p=yk(i,c,h,n,!1);p===p.next&&(p.steiner=!0),r.push(aG(p))}r.sort(eG);for(let s=0;s<r.length;s++)t=tG(r[s],t);return t}function eG(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=n-r}return t}function tG(i,e){const t=nG(i,e);if(!t)return e;const n=bk(t,i);return Yd(n,n.next),Yd(t,t.next)}function nG(i,e){let t=e;const n=i.x,r=i.y;let s=-1/0,o;if(Sg(i,t))return t;do{if(Sg(i,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=n&&g>s&&(s=g,o=t.x<t.next.x?t:t.next,g===n))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,h=o.x,p=o.y;let m=1/0;t=o;do{if(n>=t.x&&t.x>=h&&n!==t.x&&_k(r<p?n:s,r,h,p,r<p?s:n,r,t.x,t.y)){const g=Math.abs(r-t.y)/(n-t.x);Wy(t,i)&&(g<m||g===m&&(t.x>o.x||t.x===o.x&&iG(o,t)))&&(o=t,m=g)}t=t.next}while(t!==c);return o}function iG(i,e){return Qi(i.prev,i,e.prev)<0&&Qi(e.next,i,i.next)<0}function rG(i,e,t,n){let r=i;do r.z===0&&(r.z=UA(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,sG(r)}function sG(i){let e,t=1;do{let n=i,r;i=null;let s=null;for(e=0;n;){e++;let o=n,c=0;for(let p=0;p<t&&(c++,o=o.nextZ,!!o);p++);let h=t;for(;c>0||h>0&&o;)c!==0&&(h===0||!o||n.z<=o.z)?(r=n,n=n.nextZ,c--):(r=o,o=o.nextZ,h--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;n=o}s.nextZ=null,t*=2}while(e>1);return i}function UA(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function aG(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function _k(i,e,t,n,r,s,o,c){return(r-o)*(e-c)>=(i-o)*(s-c)&&(i-o)*(n-c)>=(t-o)*(e-c)&&(t-o)*(s-c)>=(r-o)*(n-c)}function Hv(i,e,t,n,r,s,o,c){return!(i===o&&e===c)&&_k(i,e,t,n,r,s,o,c)}function oG(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!lG(i,e)&&(Wy(i,e)&&Wy(e,i)&&cG(i,e)&&(Qi(i.prev,i,e.prev)||Qi(i,e.prev,e))||Sg(i,e)&&Qi(i.prev,i,i.next)>0&&Qi(e.prev,e,e.next)>0)}function Qi(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function Sg(i,e){return i.x===e.x&&i.y===e.y}function xk(i,e,t,n){const r=rS(Qi(i,e,t)),s=rS(Qi(i,e,n)),o=rS(Qi(t,n,i)),c=rS(Qi(t,n,e));return!!(r!==s&&o!==c||r===0&&iS(i,t,e)||s===0&&iS(i,n,e)||o===0&&iS(t,i,n)||c===0&&iS(t,e,n))}function iS(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function rS(i){return i>0?1:i<0?-1:0}function lG(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&xk(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function Wy(i,e){return Qi(i.prev,i,i.next)<0?Qi(i,e,i.next)>=0&&Qi(i,i.prev,e)>=0:Qi(i,e,i.prev)<0||Qi(i,i.next,e)<0}function cG(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function bk(i,e){const t=zA(i.i,i.x,i.y),n=zA(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function cL(i,e,t,n){const r=zA(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Xy(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function zA(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function uG(i,e,t,n){let r=0;for(let s=e,o=t-n;s<t;s+=n)r+=(i[o]-i[s])*(i[s+1]+i[o+1]),o=s;return r}class fG{static triangulate(e,t,n=2){return Y2(e,t,n)}}class Dl{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return Dl.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];uL(e),fL(n,e);let o=e.length;t.forEach(uL);for(let h=0;h<t.length;h++)r.push(o),o+=t[h].length,fL(n,t[h]);const c=fG.triangulate(n,r);for(let h=0;h<c.length;h+=3)s.push(c.slice(h,h+3));return s}}function uL(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function fL(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class JM extends yn{constructor(e=new Fd([new je(.5,.5),new je(-.5,.5),new je(-.5,-.5),new je(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let c=0,h=e.length;c<h;c++){const p=e[c];o(p)}this.setAttribute("position",new Pt(r,3)),this.setAttribute("uv",new Pt(s,2)),this.computeVertexNormals();function o(c){const h=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let _=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,b=t.bevelSize!==void 0?t.bevelSize:x-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:hG;let D,L=!1,I,z,k,F;M&&(D=M.getSpacedPoints(m),L=!0,_=!1,I=M.computeFrenetFrames(m,!1),z=new Q,k=new Q,F=new Q),_||(E=0,x=0,b=0,T=0);const O=c.extractPoints(p);let U=O.shape;const X=O.holes;if(!Dl.isClockWise(U)){U=U.reverse();for(let Pe=0,Ie=X.length;Pe<Ie;Pe++){const Ne=X[Pe];Dl.isClockWise(Ne)&&(X[Pe]=Ne.reverse())}}function ne(Pe){const Ne=10000000000000001e-36;let te=Pe[0];for(let Qe=1;Qe<=Pe.length;Qe++){const Ge=Qe%Pe.length,Je=Pe[Ge],vt=Je.x-te.x,Rt=Je.y-te.y,Z=vt*vt+Rt*Rt,V=Math.max(Math.abs(Je.x),Math.abs(Je.y),Math.abs(te.x),Math.abs(te.y)),de=Ne*V*V;if(Z<=de){Pe.splice(Ge,1),Qe--;continue}te=Je}}ne(U),X.forEach(ne);const oe=X.length,le=U;for(let Pe=0;Pe<oe;Pe++){const Ie=X[Pe];U=U.concat(Ie)}function q(Pe,Ie,Ne){return Ie||console.error("THREE.ExtrudeGeometry: vec does not exist"),Pe.clone().addScaledVector(Ie,Ne)}const J=U.length;function ie(Pe,Ie,Ne){let te,Qe,Ge;const Je=Pe.x-Ie.x,vt=Pe.y-Ie.y,Rt=Ne.x-Pe.x,Z=Ne.y-Pe.y,V=Je*Je+vt*vt,de=Je*Z-vt*Rt;if(Math.abs(de)>Number.EPSILON){const Ee=Math.sqrt(V),Ue=Math.sqrt(Rt*Rt+Z*Z),Te=Ie.x-vt/Ee,lt=Ie.y+Je/Ee,Ye=Ne.x-Z/Ue,bt=Ne.y+Rt/Ue,ot=((Ye-Te)*Z-(bt-lt)*Rt)/(Je*Z-vt*Rt);te=Te+Je*ot-Pe.x,Qe=lt+vt*ot-Pe.y;const Xe=te*te+Qe*Qe;if(Xe<=2)return new je(te,Qe);Ge=Math.sqrt(Xe/2)}else{let Ee=!1;Je>Number.EPSILON?Rt>Number.EPSILON&&(Ee=!0):Je<-Number.EPSILON?Rt<-Number.EPSILON&&(Ee=!0):Math.sign(vt)===Math.sign(Z)&&(Ee=!0),Ee?(te=-vt,Qe=Je,Ge=Math.sqrt(V)):(te=Je,Qe=vt,Ge=Math.sqrt(V/2))}return new je(te/Ge,Qe/Ge)}const pe=[];for(let Pe=0,Ie=le.length,Ne=Ie-1,te=Pe+1;Pe<Ie;Pe++,Ne++,te++)Ne===Ie&&(Ne=0),te===Ie&&(te=0),pe[Pe]=ie(le[Pe],le[Ne],le[te]);const $=[];let Y,he=pe.concat();for(let Pe=0,Ie=oe;Pe<Ie;Pe++){const Ne=X[Pe];Y=[];for(let te=0,Qe=Ne.length,Ge=Qe-1,Je=te+1;te<Qe;te++,Ge++,Je++)Ge===Qe&&(Ge=0),Je===Qe&&(Je=0),Y[te]=ie(Ne[te],Ne[Ge],Ne[Je]);$.push(Y),he=he.concat(Y)}let De;if(E===0)De=Dl.triangulateShape(le,X);else{const Pe=[],Ie=[];for(let Ne=0;Ne<E;Ne++){const te=Ne/E,Qe=x*Math.cos(te*Math.PI/2),Ge=b*Math.sin(te*Math.PI/2)+T;for(let Je=0,vt=le.length;Je<vt;Je++){const Rt=q(le[Je],pe[Je],Ge);qe(Rt.x,Rt.y,-Qe),te===0&&Pe.push(Rt)}for(let Je=0,vt=oe;Je<vt;Je++){const Rt=X[Je];Y=$[Je];const Z=[];for(let V=0,de=Rt.length;V<de;V++){const Ee=q(Rt[V],Y[V],Ge);qe(Ee.x,Ee.y,-Qe),te===0&&Z.push(Ee)}te===0&&Ie.push(Z)}}De=Dl.triangulateShape(Pe,Ie)}const Le=De.length,Ze=b+T;for(let Pe=0;Pe<J;Pe++){const Ie=_?q(U[Pe],he[Pe],Ze):U[Pe];L?(k.copy(I.normals[0]).multiplyScalar(Ie.x),z.copy(I.binormals[0]).multiplyScalar(Ie.y),F.copy(D[0]).add(k).add(z),qe(F.x,F.y,F.z)):qe(Ie.x,Ie.y,0)}for(let Pe=1;Pe<=m;Pe++)for(let Ie=0;Ie<J;Ie++){const Ne=_?q(U[Ie],he[Ie],Ze):U[Ie];L?(k.copy(I.normals[Pe]).multiplyScalar(Ne.x),z.copy(I.binormals[Pe]).multiplyScalar(Ne.y),F.copy(D[Pe]).add(k).add(z),qe(F.x,F.y,F.z)):qe(Ne.x,Ne.y,g/m*Pe)}for(let Pe=E-1;Pe>=0;Pe--){const Ie=Pe/E,Ne=x*Math.cos(Ie*Math.PI/2),te=b*Math.sin(Ie*Math.PI/2)+T;for(let Qe=0,Ge=le.length;Qe<Ge;Qe++){const Je=q(le[Qe],pe[Qe],te);qe(Je.x,Je.y,g+Ne)}for(let Qe=0,Ge=X.length;Qe<Ge;Qe++){const Je=X[Qe];Y=$[Qe];for(let vt=0,Rt=Je.length;vt<Rt;vt++){const Z=q(Je[vt],Y[vt],te);L?qe(Z.x,Z.y+D[m-1].y,D[m-1].x+Ne):qe(Z.x,Z.y,g+Ne)}}}me(),be();function me(){const Pe=r.length/3;if(_){let Ie=0,Ne=J*Ie;for(let te=0;te<Le;te++){const Qe=De[te];pt(Qe[2]+Ne,Qe[1]+Ne,Qe[0]+Ne)}Ie=m+E*2,Ne=J*Ie;for(let te=0;te<Le;te++){const Qe=De[te];pt(Qe[0]+Ne,Qe[1]+Ne,Qe[2]+Ne)}}else{for(let Ie=0;Ie<Le;Ie++){const Ne=De[Ie];pt(Ne[2],Ne[1],Ne[0])}for(let Ie=0;Ie<Le;Ie++){const Ne=De[Ie];pt(Ne[0]+J*m,Ne[1]+J*m,Ne[2]+J*m)}}n.addGroup(Pe,r.length/3-Pe,0)}function be(){const Pe=r.length/3;let Ie=0;Ke(le,Ie),Ie+=le.length;for(let Ne=0,te=X.length;Ne<te;Ne++){const Qe=X[Ne];Ke(Qe,Ie),Ie+=Qe.length}n.addGroup(Pe,r.length/3-Pe,1)}function Ke(Pe,Ie){let Ne=Pe.length;for(;--Ne>=0;){const te=Ne;let Qe=Ne-1;Qe<0&&(Qe=Pe.length-1);for(let Ge=0,Je=m+E*2;Ge<Je;Ge++){const vt=J*Ge,Rt=J*(Ge+1),Z=Ie+te+vt,V=Ie+Qe+vt,de=Ie+Qe+Rt,Ee=Ie+te+Rt;Ut(Z,V,de,Ee)}}}function qe(Pe,Ie,Ne){h.push(Pe),h.push(Ie),h.push(Ne)}function pt(Pe,Ie,Ne){Wt(Pe),Wt(Ie),Wt(Ne);const te=r.length/3,Qe=R.generateTopUV(n,r,te-3,te-2,te-1);ee(Qe[0]),ee(Qe[1]),ee(Qe[2])}function Ut(Pe,Ie,Ne,te){Wt(Pe),Wt(Ie),Wt(te),Wt(Ie),Wt(Ne),Wt(te);const Qe=r.length/3,Ge=R.generateSideWallUV(n,r,Qe-6,Qe-3,Qe-2,Qe-1);ee(Ge[0]),ee(Ge[1]),ee(Ge[3]),ee(Ge[1]),ee(Ge[2]),ee(Ge[3])}function Wt(Pe){r.push(h[Pe*3+0]),r.push(h[Pe*3+1]),r.push(h[Pe*3+2])}function ee(Pe){s.push(Pe.x),s.push(Pe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return dG(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const c=t[e.shapes[s]];n.push(c)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new eM[r.type]().fromJSON(r)),new JM(n,e.options)}}const hG={generateTopUV:function(i,e,t,n,r){const s=e[t*3],o=e[t*3+1],c=e[n*3],h=e[n*3+1],p=e[r*3],m=e[r*3+1];return[new je(s,o),new je(c,h),new je(p,m)]},generateSideWallUV:function(i,e,t,n,r,s){const o=e[t*3],c=e[t*3+1],h=e[t*3+2],p=e[n*3],m=e[n*3+1],g=e[n*3+2],_=e[r*3],x=e[r*3+1],b=e[r*3+2],T=e[s*3],E=e[s*3+1],M=e[s*3+2];return Math.abs(c-m)<Math.abs(o-p)?[new je(o,1-h),new je(p,1-g),new je(_,1-b),new je(T,1-M)]:[new je(c,1-h),new je(m,1-g),new je(x,1-b),new je(E,1-M)]}};function dG(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class ew extends hh{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ew(e.radius,e.detail)}}class tw extends yn{constructor(e=[new je(0,-.5),new je(.5,0),new je(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Qt(r,0,Math.PI*2);const s=[],o=[],c=[],h=[],p=[],m=1/t,g=new Q,_=new je,x=new Q,b=new Q,T=new Q;let E=0,M=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:E=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,x.x=M*1,x.y=-E,x.z=M*0,T.copy(x),x.normalize(),h.push(x.x,x.y,x.z);break;case e.length-1:h.push(T.x,T.y,T.z);break;default:E=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,x.x=M*1,x.y=-E,x.z=M*0,b.copy(x),x.x+=T.x,x.y+=T.y,x.z+=T.z,x.normalize(),h.push(x.x,x.y,x.z),T.copy(b)}for(let R=0;R<=t;R++){const D=n+R*m*r,L=Math.sin(D),I=Math.cos(D);for(let z=0;z<=e.length-1;z++){g.x=e[z].x*L,g.y=e[z].y,g.z=e[z].x*I,o.push(g.x,g.y,g.z),_.x=R/t,_.y=z/(e.length-1),c.push(_.x,_.y);const k=h[3*z+0]*L,F=h[3*z+1],O=h[3*z+0]*I;p.push(k,F,O)}}for(let R=0;R<t;R++)for(let D=0;D<e.length-1;D++){const L=D+R*e.length,I=L,z=L+e.length,k=L+e.length+1,F=L+1;s.push(I,z,F),s.push(k,F,z)}this.setIndex(s),this.setAttribute("position",new Pt(o,3)),this.setAttribute("uv",new Pt(c,2)),this.setAttribute("normal",new Pt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tw(e.points,e.segments,e.phiStart,e.phiLength)}}class d_ extends hh{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new d_(e.radius,e.detail)}}class Lg extends yn{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,o=t/2,c=Math.floor(n),h=Math.floor(r),p=c+1,m=h+1,g=e/c,_=t/h,x=[],b=[],T=[],E=[];for(let M=0;M<m;M++){const R=M*_-o;for(let D=0;D<p;D++){const L=D*g-s;b.push(L,-R,0),T.push(0,0,1),E.push(D/c),E.push(1-M/h)}}for(let M=0;M<h;M++)for(let R=0;R<c;R++){const D=R+p*M,L=R+p*(M+1),I=R+1+p*(M+1),z=R+1+p*M;x.push(D,L,z),x.push(L,I,z)}this.setIndex(x),this.setAttribute("position",new Pt(b,3)),this.setAttribute("normal",new Pt(T,3)),this.setAttribute("uv",new Pt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lg(e.width,e.height,e.widthSegments,e.heightSegments)}}class nw extends yn{constructor(e=.5,t=1,n=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const c=[],h=[],p=[],m=[];let g=e;const _=(t-e)/r,x=new Q,b=new je;for(let T=0;T<=r;T++){for(let E=0;E<=n;E++){const M=s+E/n*o;x.x=g*Math.cos(M),x.y=g*Math.sin(M),h.push(x.x,x.y,x.z),p.push(0,0,1),b.x=(x.x/t+1)/2,b.y=(x.y/t+1)/2,m.push(b.x,b.y)}g+=_}for(let T=0;T<r;T++){const E=T*(n+1);for(let M=0;M<n;M++){const R=M+E,D=R,L=R+n+1,I=R+n+2,z=R+1;c.push(D,L,z),c.push(L,I,z)}}this.setIndex(c),this.setAttribute("position",new Pt(h,3)),this.setAttribute("normal",new Pt(p,3)),this.setAttribute("uv",new Pt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class iw extends yn{constructor(e=new Fd([new je(0,.5),new je(-.5,-.5),new je(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],o=[];let c=0,h=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(c,h,m),c+=h,h=0;this.setIndex(n),this.setAttribute("position",new Pt(r,3)),this.setAttribute("normal",new Pt(s,3)),this.setAttribute("uv",new Pt(o,2));function p(m){const g=r.length/3,_=m.extractPoints(t);let x=_.shape;const b=_.holes;Dl.isClockWise(x)===!1&&(x=x.reverse());for(let E=0,M=b.length;E<M;E++){const R=b[E];Dl.isClockWise(R)===!0&&(b[E]=R.reverse())}const T=Dl.triangulateShape(x,b);for(let E=0,M=b.length;E<M;E++){const R=b[E];x=x.concat(R)}for(let E=0,M=x.length;E<M;E++){const R=x[E];r.push(R.x,R.y,0),s.push(0,0,1),o.push(R.x,R.y)}for(let E=0,M=T.length;E<M;E++){const R=T[E],D=R[0]+g,L=R[1]+g,I=R[2]+g;n.push(D,L,I),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return pG(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];n.push(o)}return new iw(n,e.curveSegments)}}function pG(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class p_ extends yn{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const h=Math.min(o+c,Math.PI);let p=0;const m=[],g=new Q,_=new Q,x=[],b=[],T=[],E=[];for(let M=0;M<=n;M++){const R=[],D=M/n;let L=0;M===0&&o===0?L=.5/t:M===n&&h===Math.PI&&(L=-.5/t);for(let I=0;I<=t;I++){const z=I/t;g.x=-e*Math.cos(r+z*s)*Math.sin(o+D*c),g.y=e*Math.cos(o+D*c),g.z=e*Math.sin(r+z*s)*Math.sin(o+D*c),b.push(g.x,g.y,g.z),_.copy(g).normalize(),T.push(_.x,_.y,_.z),E.push(z+L,1-D),R.push(p++)}m.push(R)}for(let M=0;M<n;M++)for(let R=0;R<t;R++){const D=m[M][R+1],L=m[M][R],I=m[M+1][R],z=m[M+1][R+1];(M!==0||o>0)&&x.push(D,L,z),(M!==n-1||h<Math.PI)&&x.push(L,I,z)}this.setIndex(x),this.setAttribute("position",new Pt(b,3)),this.setAttribute("normal",new Pt(T,3)),this.setAttribute("uv",new Pt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class rw extends hh{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rw(e.radius,e.detail)}}class sw extends yn{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const o=[],c=[],h=[],p=[],m=new Q,g=new Q,_=new Q;for(let x=0;x<=n;x++)for(let b=0;b<=r;b++){const T=b/r*s,E=x/n*Math.PI*2;g.x=(e+t*Math.cos(E))*Math.cos(T),g.y=(e+t*Math.cos(E))*Math.sin(T),g.z=t*Math.sin(E),c.push(g.x,g.y,g.z),m.x=e*Math.cos(T),m.y=e*Math.sin(T),_.subVectors(g,m).normalize(),h.push(_.x,_.y,_.z),p.push(b/r),p.push(x/n)}for(let x=1;x<=n;x++)for(let b=1;b<=r;b++){const T=(r+1)*x+b-1,E=(r+1)*(x-1)+b-1,M=(r+1)*(x-1)+b,R=(r+1)*x+b;o.push(T,E,R),o.push(E,M,R)}this.setIndex(o),this.setAttribute("position",new Pt(c,3)),this.setAttribute("normal",new Pt(h,3)),this.setAttribute("uv",new Pt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class aw extends yn{constructor(e=1,t=.4,n=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:o},n=Math.floor(n),r=Math.floor(r);const c=[],h=[],p=[],m=[],g=new Q,_=new Q,x=new Q,b=new Q,T=new Q,E=new Q,M=new Q;for(let D=0;D<=n;++D){const L=D/n*s*Math.PI*2;R(L,s,o,e,x),R(L+.01,s,o,e,b),E.subVectors(b,x),M.addVectors(b,x),T.crossVectors(E,M),M.crossVectors(T,E),T.normalize(),M.normalize();for(let I=0;I<=r;++I){const z=I/r*Math.PI*2,k=-t*Math.cos(z),F=t*Math.sin(z);g.x=x.x+(k*M.x+F*T.x),g.y=x.y+(k*M.y+F*T.y),g.z=x.z+(k*M.z+F*T.z),h.push(g.x,g.y,g.z),_.subVectors(g,x).normalize(),p.push(_.x,_.y,_.z),m.push(D/n),m.push(I/r)}}for(let D=1;D<=n;D++)for(let L=1;L<=r;L++){const I=(r+1)*(D-1)+(L-1),z=(r+1)*D+(L-1),k=(r+1)*D+L,F=(r+1)*(D-1)+L;c.push(I,z,F),c.push(z,k,F)}this.setIndex(c),this.setAttribute("position",new Pt(h,3)),this.setAttribute("normal",new Pt(p,3)),this.setAttribute("uv",new Pt(m,2));function R(D,L,I,z,k){const F=Math.cos(D),O=Math.sin(D),U=I/L*D,X=Math.cos(U);k.x=z*(2+X)*.5*F,k.y=z*(2+X)*O*.5,k.z=z*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ow extends yn{constructor(e=new TR(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new Q,h=new Q,p=new je;let m=new Q;const g=[],_=[],x=[],b=[];T(),this.setIndex(b),this.setAttribute("position",new Pt(g,3)),this.setAttribute("normal",new Pt(_,3)),this.setAttribute("uv",new Pt(x,2));function T(){for(let D=0;D<t;D++)E(D);E(s===!1?t:0),R(),M()}function E(D){m=e.getPointAt(D/t,m);const L=o.normals[D],I=o.binormals[D];for(let z=0;z<=r;z++){const k=z/r*Math.PI*2,F=Math.sin(k),O=-Math.cos(k);h.x=O*L.x+F*I.x,h.y=O*L.y+F*I.y,h.z=O*L.z+F*I.z,h.normalize(),_.push(h.x,h.y,h.z),c.x=m.x+n*h.x,c.y=m.y+n*h.y,c.z=m.z+n*h.z,g.push(c.x,c.y,c.z)}}function M(){for(let D=1;D<=t;D++)for(let L=1;L<=r;L++){const I=(r+1)*(D-1)+(L-1),z=(r+1)*D+(L-1),k=(r+1)*D+L,F=(r+1)*(D-1)+L;b.push(I,z,F),b.push(z,k,F)}}function R(){for(let D=0;D<=t;D++)for(let L=0;L<=r;L++)p.x=D/t,p.y=L/r,x.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ow(new eM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Sk extends yn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new Q,s=new Q;if(e.index!==null){const o=e.attributes.position,c=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const g=h[p],_=g.start,x=g.count;for(let b=_,T=_+x;b<T;b+=3)for(let E=0;E<3;E++){const M=c.getX(b+E),R=c.getX(b+(E+1)%3);r.fromBufferAttribute(o,M),s.fromBufferAttribute(o,R),hL(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let c=0,h=o.count/3;c<h;c++)for(let p=0;p<3;p++){const m=3*c+p,g=3*c+(p+1)%3;r.fromBufferAttribute(o,m),s.fromBufferAttribute(o,g),hL(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Pt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function hL(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var dL=Object.freeze({__proto__:null,BoxGeometry:Kd,CapsuleGeometry:ZM,CircleGeometry:$M,ConeGeometry:h_,CylinderGeometry:f_,DodecahedronGeometry:KM,EdgesGeometry:hk,ExtrudeGeometry:JM,IcosahedronGeometry:ew,LatheGeometry:tw,OctahedronGeometry:d_,PlaneGeometry:Lg,PolyhedronGeometry:hh,RingGeometry:nw,ShapeGeometry:iw,SphereGeometry:p_,TetrahedronGeometry:rw,TorusGeometry:sw,TorusKnotGeometry:aw,TubeGeometry:ow,WireframeGeometry:Sk});class Mk extends Vs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class wk extends Ul{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class CR extends Vs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ek extends CR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new je(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Tk extends Vs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Mt(16777215),this.specular=new Mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vo,this.combine=l_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ak extends Vs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Ck extends Vs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Rk extends Vs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vo,this.combine=l_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RR extends Vs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Bz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class NR extends Vs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Nk extends Vs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Dk extends pa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Cd(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function Lk(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function Pk(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function kA(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const c=t[s]*e;for(let h=0;h!==e;++h)r[o++]=i[c+h]}return r}function DR(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push(...o)),s=i[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=i[r++];while(s!==void 0)}function mG(i,e,t,n,r=30){const s=i.clone();s.name=e;const o=[];for(let h=0;h<s.tracks.length;++h){const p=s.tracks[h],m=p.getValueSize(),g=[],_=[];for(let x=0;x<p.times.length;++x){const b=p.times[x]*r;if(!(b<t||b>=n)){g.push(p.times[x]);for(let T=0;T<m;++T)_.push(p.values[x*m+T])}}g.length!==0&&(p.times=Cd(g,p.times.constructor),p.values=Cd(_,p.values.constructor),o.push(p))}s.tracks=o;let c=1/0;for(let h=0;h<s.tracks.length;++h)c>s.tracks[h].times[0]&&(c=s.tracks[h].times[0]);for(let h=0;h<s.tracks.length;++h)s.tracks[h].shift(-1*c);return s.resetDuration(),s}function gG(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let o=0;o<r;++o){const c=t.tracks[o],h=c.ValueTypeName;if(h==="bool"||h==="string")continue;const p=i.tracks.find(function(M){return M.name===c.name&&M.ValueTypeName===h});if(p===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let _=0;const x=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=x/3);const b=c.times.length-1;let T;if(s<=c.times[0]){const M=m,R=g-m;T=c.values.slice(M,R)}else if(s>=c.times[b]){const M=b*g+m,R=M+g-m;T=c.values.slice(M,R)}else{const M=c.createInterpolant(),R=m,D=g-m;M.evaluate(s),T=M.resultBuffer.slice(R,D)}h==="quaternion"&&new Ga().fromArray(T).normalize().conjugate().toArray(T);const E=p.times.length;for(let M=0;M<E;++M){const R=M*x+_;if(h==="quaternion")Ga.multiplyQuaternionsFlat(p.values,R,T,0,p.values,R);else{const D=x-_*2;for(let L=0;L<D;++L)p.values[R+L]-=T[L]}}}return i.blendMode=uR,i}class vG{static convertArray(e,t){return Cd(e,t)}static isTypedArray(e){return Lk(e)}static getKeyframeOrder(e){return Pk(e)}static sortedArray(e,t,n){return kA(e,t,n)}static flattenJSON(e,t,n,r){DR(e,t,n,r)}static subclip(e,t,n,r,s=30){return mG(e,t,n,r,s)}static makeClipAdditive(e,t=0,n=e,r=30){return gG(e,t,n,r)}}class m_{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let c=n+2;;){if(r===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===c)break;if(s=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=s)){const c=t[1];e<c&&(n=2,s=c);for(let h=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===h)break;if(r=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const c=n+o>>>1;e<t[c]?o=c:n=c+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Ik extends m_{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Td,endingEnd:Td}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,o=e+1,c=r[s],h=r[o];if(c===void 0)switch(this.getSettings_().endingStart){case Ad:s=e,c=2*t-n;break;case By:s=r.length-2,c=t+r[s]-r[s+1];break;default:s=e,c=n}if(h===void 0)switch(this.getSettings_().endingEnd){case Ad:o=e,h=2*n-t;break;case By:o=1,h=n+r[1]-r[0];break;default:o=e-1,h=t}const p=(n-t)*.5,m=this.valueSize;this._weightPrev=p/(t-c),this._weightNext=p/(h-n),this._offsetPrev=s*m,this._offsetNext=o*m}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=e*c,p=h-c,m=this._offsetPrev,g=this._offsetNext,_=this._weightPrev,x=this._weightNext,b=(n-t)/(r-t),T=b*b,E=T*b,M=-_*E+2*_*T-_*b,R=(1+_)*E+(-1.5-2*_)*T+(-.5+_)*b+1,D=(-1-x)*E+(1.5+x)*T+.5*b,L=x*E-x*T;for(let I=0;I!==c;++I)s[I]=M*o[m+I]+R*o[p+I]+D*o[h+I]+L*o[g+I];return s}}class LR extends m_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=e*c,p=h-c,m=(n-t)/(r-t),g=1-m;for(let _=0;_!==c;++_)s[_]=o[p+_]*g+o[h+_]*m;return s}}class Ok extends m_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class il{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Cd(t,this.TimeBufferType),this.values=Cd(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Cd(e.times,Array),values:Cd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Ok(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Ik(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ky:t=this.InterpolantFactoryMethodDiscrete;break;case K1:t=this.InterpolantFactoryMethodLinear;break;case US:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ky;case this.InterpolantFactoryMethodLinear:return K1;case this.InterpolantFactoryMethodSmooth:return US}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const c=this.getValueSize();this.times=n.slice(s,o),this.values=this.values.slice(s*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==s;c++){const h=n[c];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,h),e=!1;break}if(o!==null&&o>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,h,o),e=!1;break}o=h}if(r!==void 0&&Lk(r))for(let c=0,h=r.length;c!==h;++c){const p=r[c];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===US,s=e.length-1;let o=1;for(let c=1;c<s;++c){let h=!1;const p=e[c],m=e[c+1];if(p!==m&&(c!==1||p!==e[0]))if(r)h=!0;else{const g=c*n,_=g-n,x=g+n;for(let b=0;b!==n;++b){const T=t[g+b];if(T!==t[_+b]||T!==t[x+b]){h=!0;break}}}if(h){if(c!==o){e[o]=e[c];const g=c*n,_=o*n;for(let x=0;x!==n;++x)t[_+x]=t[g+x]}++o}}if(s>0){e[o]=e[s];for(let c=s*n,h=o*n,p=0;p!==n;++p)t[h+p]=t[c+p];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}il.prototype.ValueTypeName="";il.prototype.TimeBufferType=Float32Array;il.prototype.ValueBufferType=Float32Array;il.prototype.DefaultInterpolation=K1;class Qd extends il{constructor(e,t,n){super(e,t,n)}}Qd.prototype.ValueTypeName="bool";Qd.prototype.ValueBufferType=Array;Qd.prototype.DefaultInterpolation=ky;Qd.prototype.InterpolantFactoryMethodLinear=void 0;Qd.prototype.InterpolantFactoryMethodSmooth=void 0;class PR extends il{constructor(e,t,n,r){super(e,t,n,r)}}PR.prototype.ValueTypeName="color";class qy extends il{constructor(e,t,n,r){super(e,t,n,r)}}qy.prototype.ValueTypeName="number";class Uk extends m_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=(n-t)/(r-t);let p=e*c;for(let m=p+c;p!==m;p+=4)Ga.slerpFlat(s,0,o,p-c,o,p,h);return s}}class g_ extends il{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new Uk(this.times,this.values,this.getValueSize(),e)}}g_.prototype.ValueTypeName="quaternion";g_.prototype.InterpolantFactoryMethodSmooth=void 0;class Jd extends il{constructor(e,t,n){super(e,t,n)}}Jd.prototype.ValueTypeName="string";Jd.prototype.ValueBufferType=Array;Jd.prototype.DefaultInterpolation=ky;Jd.prototype.InterpolantFactoryMethodLinear=void 0;Jd.prototype.InterpolantFactoryMethodSmooth=void 0;class Yy extends il{constructor(e,t,n,r){super(e,t,n,r)}}Yy.prototype.ValueTypeName="vector";class Zy{constructor(e="",t=-1,n=[],r=BM){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=ho(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,c=n.length;o!==c;++o)t.push(_G(n[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=n.length;s!==o;++s)t.push(il.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,o=[];for(let c=0;c<s;c++){let h=[],p=[];h.push((c+s-1)%s,c,(c+1)%s),p.push(0,1,0);const m=Pk(h);h=kA(h,1,m),p=kA(p,1,m),!r&&h[0]===0&&(h.push(s),p.push(p[0])),o.push(new qy(".morphTargetInfluences["+t[c].name+"]",h,p).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let c=0,h=e.length;c<h;c++){const p=e[c],m=p.name.match(s);if(m&&m.length>1){const g=m[1];let _=r[g];_||(r[g]=_=[]),_.push(p)}}const o=[];for(const c in r)o.push(this.CreateFromMorphTargetSequence(c,r[c],t,n));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,_,x,b,T){if(x.length!==0){const E=[],M=[];DR(x,E,M,b),E.length!==0&&T.push(new g(_,E,M))}},r=[],s=e.name||"default",o=e.fps||30,c=e.blendMode;let h=e.length||-1;const p=e.hierarchy||[];for(let g=0;g<p.length;g++){const _=p[g].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const x={};let b;for(b=0;b<_.length;b++)if(_[b].morphTargets)for(let T=0;T<_[b].morphTargets.length;T++)x[_[b].morphTargets[T]]=-1;for(const T in x){const E=[],M=[];for(let R=0;R!==_[b].morphTargets.length;++R){const D=_[b];E.push(D.time),M.push(D.morphTarget===T?1:0)}r.push(new qy(".morphTargetInfluence["+T+"]",E,M))}h=x.length*o}else{const x=".bones["+t[g].name+"]";n(Yy,x+".position",_,"pos",r),n(g_,x+".quaternion",_,"rot",r),n(Yy,x+".scale",_,"scl",r)}}return r.length===0?null:new this(s,h,r,c)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function yG(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return qy;case"vector":case"vector2":case"vector3":case"vector4":return Yy;case"color":return PR;case"quaternion":return g_;case"bool":case"boolean":return Qd;case"string":return Jd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function _G(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=yG(i.type);if(i.times===void 0){const t=[],n=[];DR(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const wc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class IR{constructor(e,t,n){const r=this;let s=!1,o=0,c=0,h;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.abortController=new AbortController,this.itemStart=function(m){c++,s===!1&&r.onStart!==void 0&&r.onStart(m,o,c),s=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,c),o===c&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,g){return p.push(m,g),this},this.removeHandler=function(m){const g=p.indexOf(m);return g!==-1&&p.splice(g,2),this},this.getHandler=function(m){for(let g=0,_=p.length;g<_;g+=2){const x=p[g],b=p[g+1];if(x.global&&(x.lastIndex=0),x.test(m))return b}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const OR=new IR;let qa=class{constructor(e){this.manager=e!==void 0?e:OR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};qa.DEFAULT_MATERIAL_NAME="__DEFAULT";const pu={};class xG extends Error{constructor(e,t){super(e),this.response=t}}class Uu extends qa{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=wc.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(pu[e]!==void 0){pu[e].push({onLoad:t,onProgress:n,onError:r});return}pu[e]=[],pu[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),c=this.mimeType,h=this.responseType;fetch(o).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=pu[e],g=p.body.getReader(),_=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),x=_?parseInt(_):0,b=x!==0;let T=0;const E=new ReadableStream({start(M){R();function R(){g.read().then(({done:D,value:L})=>{if(D)M.close();else{T+=L.byteLength;const I=new ProgressEvent("progress",{lengthComputable:b,loaded:T,total:x});for(let z=0,k=m.length;z<k;z++){const F=m[z];F.onProgress&&F.onProgress(I)}M.enqueue(L),R()}},D=>{M.error(D)})}}});return new Response(E)}else throw new xG(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return p.json();default:if(c==="")return p.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),_=g&&g[1]?g[1].toLowerCase():void 0,x=new TextDecoder(_);return p.arrayBuffer().then(b=>x.decode(b))}}}).then(p=>{wc.add(`file:${e}`,p);const m=pu[e];delete pu[e];for(let g=0,_=m.length;g<_;g++){const x=m[g];x.onLoad&&x.onLoad(p)}}).catch(p=>{const m=pu[e];if(m===void 0)throw this.manager.itemError(e),p;delete pu[e];for(let g=0,_=m.length;g<_;g++){const x=m[g];x.onError&&x.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class bG extends qa{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Uu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(s.parse(JSON.parse(c)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Zy.parse(e[n]);t.push(r)}return t}}class SG extends qa{constructor(e){super(e)}load(e,t,n,r){const s=this,o=[],c=new YM,h=new Uu(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(s.withCredentials);let p=0;function m(g){h.load(e[g],function(_){const x=s.parse(_,!0);o[g]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},p+=1,p===6&&(x.mipmapCount===1&&(c.minFilter=Fr),c.image=o,c.format=x.format,c.needsUpdate=!0,t&&t(c))},n,r)}if(Array.isArray(e))for(let g=0,_=e.length;g<_;++g)m(g);else h.load(e,function(g){const _=s.parse(g,!0);if(_.isCubemap){const x=_.mipmaps.length/_.mipmapCount;for(let b=0;b<x;b++){o[b]={mipmaps:[]};for(let T=0;T<_.mipmapCount;T++)o[b].mipmaps.push(_.mipmaps[b*_.mipmapCount+T]),o[b].format=_.format,o[b].width=_.width,o[b].height=_.height}c.image=o}else c.image.width=_.width,c.image.height=_.height,c.mipmaps=_.mipmaps;_.mipmapCount===1&&(c.minFilter=Fr),c.format=_.format,c.needsUpdate=!0,t&&t(c)},n,r);return c}}const Cm=new WeakMap;class $y extends qa{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wc.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0);else{let g=Cm.get(o);g===void 0&&(g=[],Cm.set(o,g)),g.push({onLoad:t,onError:r})}return o}const c=Hy("img");function h(){m(),t&&t(this);const g=Cm.get(this)||[];for(let _=0;_<g.length;_++){const x=g[_];x.onLoad&&x.onLoad(this)}Cm.delete(this),s.manager.itemEnd(e)}function p(g){m(),r&&r(g),wc.remove(`image:${e}`);const _=Cm.get(this)||[];for(let x=0;x<_.length;x++){const b=_[x];b.onError&&b.onError(g)}Cm.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function m(){c.removeEventListener("load",h,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",h,!1),c.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),wc.add(`image:${e}`,c),s.manager.itemStart(e),c.src=e,c}}class MG extends qa{constructor(e){super(e)}load(e,t,n,r){const s=new u_;s.colorSpace=Ps;const o=new $y(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function h(p){o.load(e[p],function(m){s.images[p]=m,c++,c===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let p=0;p<e.length;++p)h(p);return s}}class wG extends qa{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Ac,c=new Uu(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(s.withCredentials),c.load(e,function(h){let p;try{p=s.parse(h)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}p.image!==void 0?o.image=p.image:p.data!==void 0&&(o.image.width=p.width,o.image.height=p.height,o.image.data=p.data),o.wrapS=p.wrapS!==void 0?p.wrapS:Ko,o.wrapT=p.wrapT!==void 0?p.wrapT:Ko,o.magFilter=p.magFilter!==void 0?p.magFilter:Fr,o.minFilter=p.minFilter!==void 0?p.minFilter:Fr,o.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(o.colorSpace=p.colorSpace),p.flipY!==void 0&&(o.flipY=p.flipY),p.format!==void 0&&(o.format=p.format),p.type!==void 0&&(o.type=p.type),p.mipmaps!==void 0&&(o.mipmaps=p.mipmaps,o.minFilter=Mc),p.mipmapCount===1&&(o.minFilter=Fr),p.generateMipmaps!==void 0&&(o.generateMipmaps=p.generateMipmaps),o.needsUpdate=!0,t&&t(o,p)},n,r),o}}class EG extends qa{constructor(e){super(e)}load(e,t,n,r){const s=new lr,o=new $y(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){s.image=c,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class dh extends Zn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Mt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class zk extends dh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Mt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const aT=new tn,pL=new Q,mL=new Q;class UR{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new je(512,512),this.mapType=el,this.map=null,this.mapPass=null,this.matrix=new tn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Dg,this._frameExtents=new je(1,1),this._viewportCount=1,this._viewports=[new Yn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;pL.setFromMatrixPosition(e.matrixWorld),t.position.copy(pL),mL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(mL),t.updateMatrixWorld(),aT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aT,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(aT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class TG extends UR{constructor(){super(new Qr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=yg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class kk extends dh{constructor(e,t,n=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.distance=n,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new TG}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gL=new tn,Rv=new Q,oT=new Q;class AG extends UR{constructor(){super(new Qr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new je(4,2),this._viewportCount=6,this._viewports=[new Yn(2,1,1,1),new Yn(0,1,1,1),new Yn(3,1,1,1),new Yn(1,1,1,1),new Yn(3,0,1,1),new Yn(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),Rv.setFromMatrixPosition(e.matrixWorld),n.position.copy(Rv),oT.copy(n.position),oT.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(oT),n.updateMatrixWorld(),r.makeTranslation(-Rv.x,-Rv.y,-Rv.z),gL.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gL,n.coordinateSystem,n.reversedDepth)}}class Bk extends dh{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new AG}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class v_ extends HM{constructor(e=-1,t=1,n=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,o=n+e,c=r+t,h=r-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=p*this.view.offsetX,o=s+p*this.view.width,c-=m*this.view.offsetY,h=c-m*this.view.height}this.projectionMatrix.makeOrthographic(s,o,c,h,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class CG extends UR{constructor(){super(new v_(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Fk extends dh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.shadow=new CG}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Vk extends dh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Hk extends dh{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class jk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(n*s)),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*n*s),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class Gk extends dh{constructor(e=new jk,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class lw extends qa{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,o=new Uu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(c){try{t(s.parse(JSON.parse(c)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=n(o.value);break;case"c":r.uniforms[s].value=new Mt().setHex(o.value);break;case"v2":r.uniforms[s].value=new je().fromArray(o.value);break;case"v3":r.uniforms[s].value=new Q().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Yn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new hn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new tn().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new je().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new je().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return lw.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Mk,SpriteMaterial:vR,RawShaderMaterial:wk,ShaderMaterial:Ul,PointsMaterial:_R,MeshPhysicalMaterial:Ek,MeshStandardMaterial:CR,MeshPhongMaterial:Tk,MeshToonMaterial:Ak,MeshNormalMaterial:Ck,MeshLambertMaterial:Rk,MeshDepthMaterial:RR,MeshDistanceMaterial:NR,MeshBasicMaterial:fh,MeshMatcapMaterial:Nk,LineDashedMaterial:Dk,LineBasicMaterial:pa,Material:Vs};return new t[e]}}class BA{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Wk extends yn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Xk extends qa{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Uu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(c){try{t(s.parse(JSON.parse(c)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(x,b){if(t[b]!==void 0)return t[b];const E=x.interleavedBuffers[b],M=s(x,E.buffer),R=jm(E.type,M),D=new WM(R,E.stride);return D.uuid=E.uuid,t[b]=D,D}function s(x,b){if(n[b]!==void 0)return n[b];const E=x.arrayBuffers[b],M=new Uint32Array(E).buffer;return n[b]=M,M}const o=e.isInstancedBufferGeometry?new Wk:new yn,c=e.data.index;if(c!==void 0){const x=jm(c.type,c.array);o.setIndex(new vi(x,1))}const h=e.data.attributes;for(const x in h){const b=h[x];let T;if(b.isInterleavedBufferAttribute){const E=r(e.data,b.data);T=new qd(E,b.itemSize,b.offset,b.normalized)}else{const E=jm(b.type,b.array),M=b.isInstancedBufferAttribute?bg:vi;T=new M(E,b.itemSize,b.normalized)}b.name!==void 0&&(T.name=b.name),b.usage!==void 0&&T.setUsage(b.usage),o.setAttribute(x,T)}const p=e.data.morphAttributes;if(p)for(const x in p){const b=p[x],T=[];for(let E=0,M=b.length;E<M;E++){const R=b[E];let D;if(R.isInterleavedBufferAttribute){const L=r(e.data,R.data);D=new qd(L,R.itemSize,R.offset,R.normalized)}else{const L=jm(R.type,R.array);D=new vi(L,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),T.push(D)}o.morphAttributes[x]=T}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let x=0,b=g.length;x!==b;++x){const T=g[x];o.addGroup(T.start,T.count,T.materialIndex)}const _=e.data.boundingSphere;return _!==void 0&&(o.boundingSphere=new ms().fromJSON(_)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class RG extends qa{constructor(e){super(e)}load(e,t,n,r){const s=this,o=this.path===""?BA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new Uu(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(h){let p=null;try{p=JSON.parse(h)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(p,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?BA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Uu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),c=JSON.parse(o),h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(c)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(p)}),c=this.parseTextures(e.textures,o),h=this.parseMaterials(e.materials,c),p=this.parseObject(e.object,s,h,c,n),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let g=!1;for(const _ in o)if(o[_].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,o),h=this.parseObject(e.object,r,c,o,t),p=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new Fd().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const c=new XM().fromJSON(e[s],r);n[c.uuid]=c}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new Xk;for(let s=0,o=e.length;s<o;s++){let c;const h=e[s];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":c=r.parse(h);break;default:h.type in dL?c=dL[h.type].fromJSON(h,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}c.uuid=h.uuid,h.name!==void 0&&(c.name=h.name),h.userData!==void 0&&(c.userData=h.userData),n[h.uuid]=c}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new lw;s.setTextures(t);for(let o=0,c=e.length;o<c;o++){const h=e[o];n[h.uuid]===void 0&&(n[h.uuid]=s.parse(h)),r[h.uuid]=n[h.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=Zy.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function o(h){return n.manager.itemStart(h),s.load(h,function(){n.manager.itemEnd(h)},void 0,function(){n.manager.itemError(h),n.manager.itemEnd(h)})}function c(h){if(typeof h=="string"){const p=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return o(m)}else return h.data?{data:jm(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new IR(t);s=new $y(h),s.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const g=e[p],_=g.url;if(Array.isArray(_)){const x=[];for(let b=0,T=_.length;b<T;b++){const E=_[b],M=c(E);M!==null&&(M instanceof HTMLImageElement?x.push(M):x.push(new Ac(M.data,M.width,M.height)))}r[g.uuid]=new qf(x)}else{const x=c(g.url);r[g.uuid]=new qf(x)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(o){if(typeof o=="string"){const c=o,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await r.loadAsync(h)}else return o.data?{data:jm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new $y(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const h=e[o],p=h.url;if(Array.isArray(p)){const m=[];for(let g=0,_=p.length;g<_;g++){const x=p[g],b=await s(x);b!==null&&(b instanceof HTMLImageElement?m.push(b):m.push(new Ac(b.data,b.width,b.height)))}n[h.uuid]=new qf(m)}else{const m=await s(h.url);n[h.uuid]=new qf(m)}}}return n}parseTextures(e,t){function n(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const c=e[s];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const h=t[c.image],p=h.data;let m;Array.isArray(p)?(m=new u_,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new Ac:m=new lr,p&&(m.needsUpdate=!0)),m.source=h,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=n(c.mapping,NG)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=n(c.wrap[0],vL),m.wrapT=n(c.wrap[1],vL)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=n(c.minFilter,yL)),c.magFilter!==void 0&&(m.magFilter=n(c.magFilter,yL)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),r[c.uuid]=m}return r}parseObject(e,t,n,r,s){let o;function c(_){return t[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),t[_]}function h(_){if(_!==void 0){if(Array.isArray(_)){const x=[];for(let b=0,T=_.length;b<T;b++){const E=_[b];n[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),x.push(n[E])}return x}return n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),n[_]}}function p(_){return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),r[_]}let m,g;switch(e.type){case"Scene":o=new gR,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Mt(e.background):o.background=p(e.background)),e.environment!==void 0&&(o.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new GM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new jM(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Qr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new v_(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Vk(e.color,e.intensity);break;case"DirectionalLight":o=new Fk(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Bk(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Hk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new kk(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new zk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Gk().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),g=h(e.material),o=new ak(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),g=h(e.material),o=new Rr(m,g);break;case"InstancedMesh":m=c(e.geometry),g=h(e.material);const _=e.count,x=e.instanceMatrix,b=e.instanceColor;o=new ok(m,g,_),o.instanceMatrix=new bg(new Float32Array(x.array),16),b!==void 0&&(o.instanceColor=new bg(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":m=c(e.geometry),g=h(e.material),o=new lk(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(T=>{let E=null,M=null;return T.boundingBox!==void 0&&(E=new Bs().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(M=new ms().fromJSON(T.boundingSphere)),{...T,boundingBox:E,boundingSphere:M}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=p(e.matricesTexture.uuid),o._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new ms().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Bs().fromJSON(e.boundingBox));break;case"LOD":o=new sk;break;case"Line":o=new sh(c(e.geometry),h(e.material));break;case"LineLoop":o=new ck(c(e.geometry),h(e.material));break;case"LineSegments":o=new Lc(c(e.geometry),h(e.material));break;case"PointCloud":case"Points":o=new uk(c(e.geometry),h(e.material));break;case"Sprite":o=new rk(h(e.material));break;case"Group":o=new Gm;break;case"Bone":o=new yR;break;default:o=new Zn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let x=0;x<_.length;x++)o.add(this.parseObject(_[x],t,n,r,s))}if(e.animations!==void 0){const _=e.animations;for(let x=0;x<_.length;x++){const b=_[x];o.animations.push(s[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const _=e.levels;for(let x=0;x<_.length;x++){const b=_[x],T=o.getObjectByProperty("uuid",b.object);T!==void 0&&o.addLevel(T,b.distance,b.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new Zn}})}}const NG={UVMapping:LM,CubeReflectionMapping:Iu,CubeRefractionMapping:ih,EquirectangularReflectionMapping:Iy,EquirectangularRefractionMapping:Oy,CubeUVReflectionMapping:Cg},vL={RepeatWrapping:Uy,ClampToEdgeWrapping:Ko,MirroredRepeatWrapping:zy},yL={NearestFilter:ps,NearestMipmapNearestFilter:nR,NearestMipmapLinearFilter:Hm,LinearFilter:Fr,LinearMipmapNearestFilter:oy,LinearMipmapLinearFilter:Mc},lT=new WeakMap;class DG extends qa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wc.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(p=>{if(lT.has(o)===!0)r&&r(lT.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(p),s.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,c.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const h=fetch(e,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(p){return wc.add(`image-bitmap:${e}`,p),t&&t(p),s.manager.itemEnd(e),p}).catch(function(p){r&&r(p),lT.set(h,p),wc.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});wc.add(`image-bitmap:${e}`,h),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let sS;class zR{static getContext(){return sS===void 0&&(sS=new(window.AudioContext||window.webkitAudioContext)),sS}static setContext(e){sS=e}}class LG extends qa{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Uu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(h){try{const p=h.slice(0);zR.getContext().decodeAudioData(p,function(g){t(g)}).catch(c)}catch(p){c(p)}},n,r);function c(h){r?r(h):console.error(h),s.manager.itemError(e)}}}const _L=new tn,xL=new tn,ld=new tn;class PG{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ld.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Bd*t.fov*.5)/t.zoom;let c,h;xL.elements[12]=-r,_L.elements[12]=r,c=-o*t.aspect+s,h=o*t.aspect+s,ld.elements[0]=2*t.near/(h-c),ld.elements[8]=(h+c)/(h-c),this.cameraL.projectionMatrix.copy(ld),c=-o*t.aspect-s,h=o*t.aspect-s,ld.elements[0]=2*t.near/(h-c),ld.elements[8]=(h+c)/(h-c),this.cameraR.projectionMatrix.copy(ld)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(xL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_L)}}class qk extends Qr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class kR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const cd=new Q,cT=new Ga,IG=new Q,ud=new Q,fd=new Q;class OG extends Zn{constructor(){super(),this.type="AudioListener",this.context=zR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new kR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(cd,cT,IG),ud.set(0,0,-1).applyQuaternion(cT),fd.set(0,1,0).applyQuaternion(cT),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(cd.x,n),t.positionY.linearRampToValueAtTime(cd.y,n),t.positionZ.linearRampToValueAtTime(cd.z,n),t.forwardX.linearRampToValueAtTime(ud.x,n),t.forwardY.linearRampToValueAtTime(ud.y,n),t.forwardZ.linearRampToValueAtTime(ud.z,n),t.upX.linearRampToValueAtTime(fd.x,n),t.upY.linearRampToValueAtTime(fd.y,n),t.upZ.linearRampToValueAtTime(fd.z,n)}else t.setPosition(cd.x,cd.y,cd.z),t.setOrientation(ud.x,ud.y,ud.z,fd.x,fd.y,fd.z)}}class Yk extends Zn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const hd=new Q,bL=new Ga,UG=new Q,dd=new Q;class zG extends Yk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(hd,bL,UG),dd.set(0,0,1).applyQuaternion(bL);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hd.x,n),t.positionY.linearRampToValueAtTime(hd.y,n),t.positionZ.linearRampToValueAtTime(hd.z,n),t.orientationX.linearRampToValueAtTime(dd.x,n),t.orientationY.linearRampToValueAtTime(dd.y,n),t.orientationZ.linearRampToValueAtTime(dd.z,n)}else t.setPosition(hd.x,hd.y,hd.z),t.setOrientation(dd.x,dd.y,dd.z)}}class kG{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Zk{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==r;++c)n[s+c]=n[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(n,s,0,c,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const h=t*this._origIndex;this._mixBufferRegion(n,r,h,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let h=t,p=t+t;h!==p;++h)if(n[h]!==n[h+t]){c.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,o=r;s!==o;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){Ga.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const o=this._workIndex*s;Ga.multiplyQuaternionsFlat(e,o,e,t,e,n),Ga.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,s){const o=1-r;for(let c=0;c!==s;++c){const h=t+c;e[h]=e[h]*o+e[n+c]*r}}_lerpAdditive(e,t,n,r,s){for(let o=0;o!==s;++o){const c=t+o;e[c]=e[c]+e[n+o]*r}}}const BR="\\[\\]\\.:\\/",BG=new RegExp("["+BR+"]","g"),FR="[^"+BR+"]",FG="[^"+BR.replace("\\.","")+"]",VG=/((?:WC+[\/:])*)/.source.replace("WC",FR),HG=/(WCOD+)?/.source.replace("WCOD",FG),jG=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",FR),GG=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",FR),WG=new RegExp("^"+VG+HG+jG+GG+"$"),XG=["material","materials","bones","map"];class qG{constructor(e,t,n){const r=n||qn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class qn{constructor(e,t,n){this.path=t,this.parsedPath=n||qn.parseTrackName(t),this.node=qn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new qn.Composite(e,t,n):new qn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(BG,"")}static parseTrackName(e){const t=WG.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);XG.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const c=s[o];if(c.name===t||c.uuid===t)return c;const h=n(c.children);if(h)return h}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=qn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const o=e[r];if(o===void 0){const p=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+r+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}h=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(h=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}qn.Composite=qG;qn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qn.prototype.GetterByBindingType=[qn.prototype._getValue_direct,qn.prototype._getValue_array,qn.prototype._getValue_arrayElement,qn.prototype._getValue_toArray];qn.prototype.SetterByBindingTypeAndVersioning=[[qn.prototype._setValue_direct,qn.prototype._setValue_direct_setNeedsUpdate,qn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_array,qn.prototype._setValue_array_setNeedsUpdate,qn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_arrayElement,qn.prototype._setValue_arrayElement_setNeedsUpdate,qn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_fromArray,qn.prototype._setValue_fromArray_setNeedsUpdate,qn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class YG{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ho(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let c,h=e.length,p=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const _=arguments[m],x=_.uuid;let b=t[x];if(b===void 0){b=h++,t[x]=b,e.push(_);for(let T=0,E=o;T!==E;++T)s[T].push(new qn(_,n[T],r[T]))}else if(b<p){c=e[b];const T=--p,E=e[T];t[E.uuid]=b,e[b]=E,t[x]=T,e[T]=_;for(let M=0,R=o;M!==R;++M){const D=s[M],L=D[T];let I=D[b];D[b]=L,I===void 0&&(I=new qn(_,n[M],r[M])),D[T]=I}}else e[b]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const h=arguments[o],p=h.uuid,m=t[p];if(m!==void 0&&m>=s){const g=s++,_=e[g];t[_.uuid]=m,e[m]=_,t[p]=g,e[g]=h;for(let x=0,b=r;x!==b;++x){const T=n[x],E=T[g],M=T[m];T[m]=E,T[g]=M}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,o=e.length;for(let c=0,h=arguments.length;c!==h;++c){const p=arguments[c],m=p.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<s){const _=--s,x=e[_],b=--o,T=e[b];t[x.uuid]=g,e[g]=x,t[T.uuid]=_,e[_]=T,e.pop();for(let E=0,M=r;E!==M;++E){const R=n[E],D=R[_],L=R[b];R[g]=D,R[_]=L,R.pop()}}else{const _=--o,x=e[_];_>0&&(t[x.uuid]=g),e[g]=x,e.pop();for(let b=0,T=r;b!==T;++b){const E=n[b];E[g]=E[_],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,c=this._parsedPaths,h=this._objects,p=h.length,m=this.nCachedObjects_,g=new Array(p);r=s.length,n[e]=r,o.push(e),c.push(t),s.push(g);for(let _=m,x=h.length;_!==x;++_){const b=h[_];g[_]=new qn(b,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,c=o.length-1,h=o[c],p=e[c];t[p]=n,o[n]=h,o.pop(),s[n]=s[c],s.pop(),r[n]=r[c],r.pop()}}}class $k{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,o=s.length,c=new Array(o),h={endingStart:Td,endingEnd:Td};for(let p=0;p!==o;++p){const m=s[p].createInterpolant(null);c[p]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=zz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,c=r/s;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);const h=c.parameterPositions,p=c.sampleValues;return h[0]=s,h[1]=s+n,p[0]=e/o,p[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const h=(e-s)*n;h<0||n===0?t=0:(this._startTime=null,t=n*h)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case uR:for(let m=0,g=h.length;m!==g;++m)h[m].evaluate(o),p[m].accumulateAdditive(c);break;case BM:default:for(let m=0,g=h.length;m!==g;++m)h[m].evaluate(o),p[m].accumulate(r,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const o=n===kz;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(n===Uz){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const c=Math.floor(r/t);r-=t*c,s+=Math.abs(c);const h=this.repetitions-s;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const p=e<0;this._setEndings(p,!p,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Ad,r.endingEnd=Ad):(e?r.endingStart=this.zeroSlopeAtStart?Ad:Td:r.endingStart=By,t?r.endingEnd=this.zeroSlopeAtEnd?Ad:Td:r.endingEnd=By)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,h=o.sampleValues;return c[0]=s,h[0]=t,c[1]=s+e,h[1]=n,this}}const ZG=new Float32Array(1);class $G extends Dc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,c=e._interpolants,h=n.uuid,p=this._bindingsByRootAndName;let m=p[h];m===void 0&&(m={},p[h]=m);for(let g=0;g!==s;++g){const _=r[g],x=_.name;let b=m[x];if(b!==void 0)++b.referenceCount,o[g]=b;else{if(b=o[g],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,h,x));continue}const T=t&&t._propertyBindings[g].binding.parsedPath;b=new Zk(qn.create(n,x,T),_.ValueTypeName,_.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,h,x),o[g]=b}c[g].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,c=o[s],h=c.knownActions,p=h[h.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,h[m]=p,h.pop(),e._byClipCacheIndex=null;const g=c.actionByRoot,_=(e._localRoot||this._root).uuid;delete g[_],h.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,c=o[r],h=t[t.length-1],p=e._cacheIndex;h._cacheIndex=p,t[p]=h,t.pop(),delete c[s],Object.keys(c).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new LR(new Float32Array(2),new Float32Array(2),1,ZG),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Zy.findByName(r,e):e;const c=o!==null?o.uuid:e,h=this._actionsByClip[c];let p=null;if(n===void 0&&(o!==null?n=o.blendMode:n=BM),h!==void 0){const g=h.actionByRoot[s];if(g!==void 0&&g.blendMode===n)return g;p=h.knownActions[0],o===null&&(o=p._clip)}if(o===null)return null;const m=new $k(this,o,t,n);return this._bindAction(m,p),this._addInactiveAction(m,c,s),m}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?Zy.findByName(n,e):e,o=s?s.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let p=0;p!==n;++p)t[p]._update(r,e,s,o);const c=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)c[p].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const o=s.knownActions;for(let c=0,h=o.length;c!==h;++c){const p=o[c];this._deactivateAction(p);const m=p._cacheIndex,g=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(p)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const c=n[o].actionByRoot,h=c[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const c=s[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class KG extends dR{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new VM(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class VR{constructor(e){this.value=e}clone(){return new VR(this.value.clone===void 0?this.value:this.value.clone())}}let QG=0;class JG extends Dc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:QG++}),this.name="",this.usage=Vy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const s=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class e9 extends WM{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class t9{constructor(e,t,n,r,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const SL=new tn;class Kk{constructor(e,t,n=0,r=1/0){this.ray=new Ng(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new _g,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return SL.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(SL),this}intersectObject(e,t=!0,n=[]){return FA(e,this,n,t),n.sort(ML),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)FA(e[r],this,n,t);return n.sort(ML),n}}function ML(i,e){return i.distance-e.distance}function FA(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const s=i.children;for(let o=0,c=s.length;o<c;o++)FA(s[o],e,t,!0)}}class n9{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=i9.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function i9(){this._document.hidden===!1&&this.reset()}class r9{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class s9{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class HR{constructor(e,t,n,r){HR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=n,s[3]=r,this}}const wL=new je;class a9{constructor(e=new je(1/0,1/0),t=new je(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=wL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const EL=new Q,aS=new Q,Rm=new Q,Nm=new Q,uT=new Q,o9=new Q,l9=new Q;class c9{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){EL.subVectors(e,this.start),aS.subVectors(this.end,this.start);const n=aS.dot(aS);let s=aS.dot(EL)/n;return t&&(s=Qt(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=o9,n=l9){const r=10000000000000001e-32;let s,o;const c=this.start,h=e.start,p=this.end,m=e.end;Rm.subVectors(p,c),Nm.subVectors(m,h),uT.subVectors(c,h);const g=Rm.dot(Rm),_=Nm.dot(Nm),x=Nm.dot(uT);if(g<=r&&_<=r)return t.copy(c),n.copy(h),t.sub(n),t.dot(t);if(g<=r)s=0,o=x/_,o=Qt(o,0,1);else{const b=Rm.dot(uT);if(_<=r)o=0,s=Qt(-b/g,0,1);else{const T=Rm.dot(Nm),E=g*_-T*T;E!==0?s=Qt((T*x-b*_)/E,0,1):s=0,o=(T*s+x)/_,o<0?(o=0,s=Qt(-b/g,0,1)):o>1&&(o=1,s=Qt((T-b)/g,0,1))}}return t.copy(c).add(Rm.multiplyScalar(s)),n.copy(h).add(Nm.multiplyScalar(o)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const TL=new Q;class u9 extends Zn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new yn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,h=32;o<h;o++,c++){const p=o/h*Math.PI*2,m=c/h*Math.PI*2;r.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new Pt(r,3));const s=new pa({fog:!1,toneMapped:!1});this.cone=new Lc(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),TL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(TL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Of=new Q,oS=new tn,fT=new tn;class f9 extends Lc{constructor(e){const t=Qk(e),n=new yn,r=[],s=[];for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}n.setAttribute("position",new Pt(r,3)),n.setAttribute("color",new Pt(s,3));const o=new pa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const c=new Mt(255),h=new Mt(65280);this.setColors(c,h)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");fT.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const c=t[s];c.parent&&c.parent.isBone&&(oS.multiplyMatrices(fT,c.matrixWorld),Of.setFromMatrixPosition(oS),r.setXYZ(o,Of.x,Of.y,Of.z),oS.multiplyMatrices(fT,c.parent.matrixWorld),Of.setFromMatrixPosition(oS),r.setXYZ(o+1,Of.x,Of.y,Of.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let s=0;s<r.count;s+=2)r.setXYZ(s,e.r,e.g,e.b),r.setXYZ(s+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Qk(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...Qk(i.children[t]));return e}class h9 extends Rr{constructor(e,t,n){const r=new p_(t,4,2),s=new fh({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const d9=new Q,AL=new Mt,CL=new Mt;class p9 extends Zn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new d_(t);r.rotateY(Math.PI*.5),this.material=new fh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new vi(o,3)),this.add(new Rr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");AL.copy(this.light.color),CL.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?AL:CL;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(d9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class m9 extends Lc{constructor(e=10,t=10,n=4473924,r=8947848){n=new Mt(n),r=new Mt(r);const s=t/2,o=e/t,c=e/2,h=[],p=[];for(let _=0,x=0,b=-c;_<=t;_++,b+=o){h.push(-c,0,b,c,0,b),h.push(b,0,-c,b,0,c);const T=_===s?n:r;T.toArray(p,x),x+=3,T.toArray(p,x),x+=3,T.toArray(p,x),x+=3,T.toArray(p,x),x+=3}const m=new yn;m.setAttribute("position",new Pt(h,3)),m.setAttribute("color",new Pt(p,3));const g=new pa({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class g9 extends Lc{constructor(e=10,t=16,n=8,r=64,s=4473924,o=8947848){s=new Mt(s),o=new Mt(o);const c=[],h=[];if(t>1)for(let g=0;g<t;g++){const _=g/t*(Math.PI*2),x=Math.sin(_)*e,b=Math.cos(_)*e;c.push(0,0,0),c.push(x,0,b);const T=g&1?s:o;h.push(T.r,T.g,T.b),h.push(T.r,T.g,T.b)}for(let g=0;g<n;g++){const _=g&1?s:o,x=e-e/n*g;for(let b=0;b<r;b++){let T=b/r*(Math.PI*2),E=Math.sin(T)*x,M=Math.cos(T)*x;c.push(E,0,M),h.push(_.r,_.g,_.b),T=(b+1)/r*(Math.PI*2),E=Math.sin(T)*x,M=Math.cos(T)*x,c.push(E,0,M),h.push(_.r,_.g,_.b)}}const p=new yn;p.setAttribute("position",new Pt(c,3)),p.setAttribute("color",new Pt(h,3));const m=new pa({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const RL=new Q,lS=new Q,NL=new Q;class v9 extends Zn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new yn;r.setAttribute("position",new Pt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new pa({fog:!1,toneMapped:!1});this.lightPlane=new sh(r,s),this.add(this.lightPlane),r=new yn,r.setAttribute("position",new Pt([0,0,0,0,0,1],3)),this.targetLine=new sh(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),RL.setFromMatrixPosition(this.light.matrixWorld),lS.setFromMatrixPosition(this.light.target.matrixWorld),NL.subVectors(lS,RL),this.lightPlane.lookAt(lS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lS),this.targetLine.scale.z=NL.length()}}const cS=new Q,sr=new HM;class y9 extends Lc{constructor(e){const t=new yn,n=new pa({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(b,T){h(b),h(T)}function h(b){r.push(0,0,0),s.push(0,0,0),o[b]===void 0&&(o[b]=[]),o[b].push(r.length/3-1)}t.setAttribute("position",new Pt(r,3)),t.setAttribute("color",new Pt(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const p=new Mt(16755200),m=new Mt(16711680),g=new Mt(43775),_=new Mt(16777215),x=new Mt(3355443);this.setColors(p,m,g,_,x)}setColors(e,t,n,r,s){const c=this.geometry.getAttribute("color");return c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,n.r,n.g,n.b),c.setXYZ(33,n.r,n.g,n.b),c.setXYZ(34,n.r,n.g,n.b),c.setXYZ(35,n.r,n.g,n.b),c.setXYZ(36,n.r,n.g,n.b),c.setXYZ(37,n.r,n.g,n.b),c.setXYZ(38,r.r,r.g,r.b),c.setXYZ(39,r.r,r.g,r.b),c.setXYZ(40,s.r,s.g,s.b),c.setXYZ(41,s.r,s.g,s.b),c.setXYZ(42,s.r,s.g,s.b),c.setXYZ(43,s.r,s.g,s.b),c.setXYZ(44,s.r,s.g,s.b),c.setXYZ(45,s.r,s.g,s.b),c.setXYZ(46,s.r,s.g,s.b),c.setXYZ(47,s.r,s.g,s.b),c.setXYZ(48,s.r,s.g,s.b),c.setXYZ(49,s.r,s.g,s.b),c.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;let s,o;if(sr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===uo)s=-1,o=1;else if(this.camera.coordinateSystem===vg)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);gr("c",t,e,sr,0,0,s),gr("t",t,e,sr,0,0,o),gr("n1",t,e,sr,-n,-r,s),gr("n2",t,e,sr,n,-r,s),gr("n3",t,e,sr,-n,r,s),gr("n4",t,e,sr,n,r,s),gr("f1",t,e,sr,-n,-r,o),gr("f2",t,e,sr,n,-r,o),gr("f3",t,e,sr,-n,r,o),gr("f4",t,e,sr,n,r,o),gr("u1",t,e,sr,n*.7,r*1.1,s),gr("u2",t,e,sr,-n*.7,r*1.1,s),gr("u3",t,e,sr,0,r*2,s),gr("cf1",t,e,sr,-n,0,o),gr("cf2",t,e,sr,n,0,o),gr("cf3",t,e,sr,0,-r,o),gr("cf4",t,e,sr,0,r,o),gr("cn1",t,e,sr,-n,0,s),gr("cn2",t,e,sr,n,0,s),gr("cn3",t,e,sr,0,-r,s),gr("cn4",t,e,sr,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gr(i,e,t,n,r,s,o){cS.set(r,s,o).unproject(n);const c=e[i];if(c!==void 0){const h=t.getAttribute("position");for(let p=0,m=c.length;p<m;p++)h.setXYZ(c[p],cS.x,cS.y,cS.z)}}const uS=new Bs;class _9 extends Lc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new yn;s.setIndex(new vi(n,1)),s.setAttribute("position",new vi(r,3)),super(s,new pa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&uS.setFromObject(this.object),uS.isEmpty())return;const e=uS.min,t=uS.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class x9 extends Lc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new yn;s.setIndex(new vi(n,1)),s.setAttribute("position",new Pt(r,3)),super(s,new pa({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class b9 extends sh{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new yn;o.setAttribute("position",new Pt(s,3)),o.computeBoundingSphere(),super(o,new pa({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new yn;h.setAttribute("position",new Pt(c,3)),h.computeBoundingSphere(),this.add(new Rr(h,new fh({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const DL=new Q;let fS,hT;class S9 extends Zn{constructor(e=new Q(0,0,1),t=new Q(0,0,0),n=1,r=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",fS===void 0&&(fS=new yn,fS.setAttribute("position",new Pt([0,0,0,0,1,0],3)),hT=new h_(.5,1,5,1),hT.translate(0,-.5,0)),this.position.copy(t),this.line=new sh(fS,new pa({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Rr(hT,new fh({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{DL.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(DL,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class M9 extends Lc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new yn;r.setAttribute("position",new Pt(t,3)),r.setAttribute("color",new Pt(n,3));const s=new pa({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new Mt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class w9{constructor(){this.type="ShapePath",this.color=new Mt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new tM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,o){return this.currentPath.bezierCurveTo(e,t,n,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const R=[];for(let D=0,L=M.length;D<L;D++){const I=M[D],z=new Fd;z.curves=I.curves,R.push(z)}return R}function n(M,R){const D=R.length;let L=!1;for(let I=D-1,z=0;z<D;I=z++){let k=R[I],F=R[z],O=F.x-k.x,U=F.y-k.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(k=R[z],O=-O,F=R[I],U=-U),M.y<k.y||M.y>F.y)continue;if(M.y===k.y){if(M.x===k.x)return!0}else{const X=U*(M.x-k.x)-O*(M.y-k.y);if(X===0)return!0;if(X<0)continue;L=!L}}else{if(M.y!==k.y)continue;if(F.x<=M.x&&M.x<=k.x||k.x<=M.x&&M.x<=F.x)return!0}}return L}const r=Dl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,c,h;const p=[];if(s.length===1)return c=s[0],h=new Fd,h.curves=c.curves,p.push(h),p;let m=!r(s[0].getPoints());m=e?!m:m;const g=[],_=[];let x=[],b=0,T;_[b]=void 0,x[b]=[];for(let M=0,R=s.length;M<R;M++)c=s[M],T=c.getPoints(),o=r(T),o=e?!o:o,o?(!m&&_[b]&&b++,_[b]={s:new Fd,p:T},_[b].s.curves=c.curves,m&&b++,x[b]=[]):x[b].push({h:c,p:T[0]});if(!_[0])return t(s);if(_.length>1){let M=!1,R=0;for(let D=0,L=_.length;D<L;D++)g[D]=[];for(let D=0,L=_.length;D<L;D++){const I=x[D];for(let z=0;z<I.length;z++){const k=I[z];let F=!0;for(let O=0;O<_.length;O++)n(k.p,_[O].p)&&(D!==O&&R++,F?(F=!1,g[O].push(k)):M=!0);F&&g[D].push(k)}}R>0&&M===!1&&(x=g)}let E;for(let M=0,R=_.length;M<R;M++){h=_[M].s,p.push(h),E=x[M];for(let D=0,L=E.length;D<L;D++)h.holes.push(E[D].h)}return p}}class E9 extends Dc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function T9(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function A9(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function C9(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function VA(i,e,t,n){const r=R9(n);switch(t){case oR:return i*e;case UM:return i*e/r.components*r.byteLength;case c_:return i*e/r.components*r.byteLength;case cR:return i*e*2/r.components*r.byteLength;case zM:return i*e*2/r.components*r.byteLength;case lR:return i*e*3/r.components*r.byteLength;case Us:return i*e*4/r.components*r.byteLength;case kM:return i*e*4/r.components*r.byteLength;case ly:case cy:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case uy:case fy:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case w1:case T1:return Math.max(i,16)*Math.max(e,8)/4;case M1:case E1:return Math.max(i,8)*Math.max(e,8)/2;case A1:case C1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case R1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case N1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case D1:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case L1:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case P1:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case I1:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case O1:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case U1:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case z1:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case k1:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case B1:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case F1:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case V1:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case H1:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case j1:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case G1:case W1:case X1:return Math.ceil(i/4)*Math.ceil(e/4)*16;case q1:case Y1:return Math.ceil(i/4)*Math.ceil(e/4)*8;case Z1:case $1:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function R9(i){switch(i){case el:case iR:return{byteLength:1,components:1};case dg:case rR:case Rg:return{byteLength:2,components:1};case IM:case OM:return{byteLength:2,components:4};case Ou:case PM:case Ba:return{byteLength:4,components:1};case sR:case aR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class N9{static contain(e,t){return T9(e,t)}static cover(e,t){return A9(e,t)}static fill(e){return C9(e)}static getByteLength(e,t,n,r){return VA(e,t,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:NM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=NM);function Jk(){let i=null,e=!1,t=null,n=null;function r(s,o){t(s,o),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function D9(i){const e=new WeakMap;function t(c,h){const p=c.array,m=c.usage,g=p.byteLength,_=i.createBuffer();i.bindBuffer(h,_),i.bufferData(h,p,m),c.onUploadCallback();let x;if(p instanceof Float32Array)x=i.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)x=i.HALF_FLOAT;else if(p instanceof Uint16Array)c.isFloat16BufferAttribute?x=i.HALF_FLOAT:x=i.UNSIGNED_SHORT;else if(p instanceof Int16Array)x=i.SHORT;else if(p instanceof Uint32Array)x=i.UNSIGNED_INT;else if(p instanceof Int32Array)x=i.INT;else if(p instanceof Int8Array)x=i.BYTE;else if(p instanceof Uint8Array)x=i.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)x=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:_,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:g}}function n(c,h,p){const m=h.array,g=h.updateRanges;if(i.bindBuffer(p,c),g.length===0)i.bufferSubData(p,0,m);else{g.sort((x,b)=>x.start-b.start);let _=0;for(let x=1;x<g.length;x++){const b=g[_],T=g[x];T.start<=b.start+b.count+1?b.count=Math.max(b.count,T.start+T.count-b.start):(++_,g[_]=T)}g.length=_+1;for(let x=0,b=g.length;x<b;x++){const T=g[x];i.bufferSubData(p,T.start*m.BYTES_PER_ELEMENT,m,T.start,T.count)}h.clearUpdateRanges()}h.onUploadCallback()}function r(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=e.get(c);h&&(i.deleteBuffer(h.buffer),e.delete(c))}function o(c,h){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const p=e.get(c);if(p===void 0)e.set(c,t(c,h));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,c,h),p.version=c.version}}return{get:r,remove:s,update:o}}var L9=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,P9=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,I9=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,O9=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,U9=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,z9=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,k9=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,B9=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,F9=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,V9=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,H9=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,j9=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,G9=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,W9=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,X9=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,q9=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Y9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Z9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$9=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,K9=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Q9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,J9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,e7=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,t7=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,n7=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,i7=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,r7=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,s7=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,a7=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,o7=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,l7="gl_FragColor = linearToOutputTexel( gl_FragColor );",c7=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,u7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,f7=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,h7=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,d7=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,p7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,m7=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,g7=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,v7=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,y7=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,_7=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,x7=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,b7=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,S7=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,M7=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,w7=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,E7=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,T7=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,A7=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,C7=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,R7=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,N7=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,D7=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,L7=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,P7=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,I7=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,O7=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,U7=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,z7=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,k7=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,B7=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,F7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,V7=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,H7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,j7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,G7=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,W7=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,X7=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,q7=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Y7=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Z7=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$7=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,K7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Q7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,J7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,eW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,tW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,nW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,iW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,rW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,sW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,aW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,oW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,lW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,cW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,uW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,fW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,hW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,dW=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,pW=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mW=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,gW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,vW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,yW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,_W=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,bW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,SW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,MW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,EW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,TW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,AW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,CW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,RW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,NW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const DW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,LW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,IW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,UW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,kW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,BW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,FW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,VW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,HW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,XW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YW=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZW=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$W=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KW=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,QW=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JW=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eX=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tX=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,nX=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iX=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rX=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sX=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,aX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oX=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lX=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cX=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xn={alphahash_fragment:L9,alphahash_pars_fragment:P9,alphamap_fragment:I9,alphamap_pars_fragment:O9,alphatest_fragment:U9,alphatest_pars_fragment:z9,aomap_fragment:k9,aomap_pars_fragment:B9,batching_pars_vertex:F9,batching_vertex:V9,begin_vertex:H9,beginnormal_vertex:j9,bsdfs:G9,iridescence_fragment:W9,bumpmap_pars_fragment:X9,clipping_planes_fragment:q9,clipping_planes_pars_fragment:Y9,clipping_planes_pars_vertex:Z9,clipping_planes_vertex:$9,color_fragment:K9,color_pars_fragment:Q9,color_pars_vertex:J9,color_vertex:e7,common:t7,cube_uv_reflection_fragment:n7,defaultnormal_vertex:i7,displacementmap_pars_vertex:r7,displacementmap_vertex:s7,emissivemap_fragment:a7,emissivemap_pars_fragment:o7,colorspace_fragment:l7,colorspace_pars_fragment:c7,envmap_fragment:u7,envmap_common_pars_fragment:f7,envmap_pars_fragment:h7,envmap_pars_vertex:d7,envmap_physical_pars_fragment:w7,envmap_vertex:p7,fog_vertex:m7,fog_pars_vertex:g7,fog_fragment:v7,fog_pars_fragment:y7,gradientmap_pars_fragment:_7,lightmap_pars_fragment:x7,lights_lambert_fragment:b7,lights_lambert_pars_fragment:S7,lights_pars_begin:M7,lights_toon_fragment:E7,lights_toon_pars_fragment:T7,lights_phong_fragment:A7,lights_phong_pars_fragment:C7,lights_physical_fragment:R7,lights_physical_pars_fragment:N7,lights_fragment_begin:D7,lights_fragment_maps:L7,lights_fragment_end:P7,logdepthbuf_fragment:I7,logdepthbuf_pars_fragment:O7,logdepthbuf_pars_vertex:U7,logdepthbuf_vertex:z7,map_fragment:k7,map_pars_fragment:B7,map_particle_fragment:F7,map_particle_pars_fragment:V7,metalnessmap_fragment:H7,metalnessmap_pars_fragment:j7,morphinstance_vertex:G7,morphcolor_vertex:W7,morphnormal_vertex:X7,morphtarget_pars_vertex:q7,morphtarget_vertex:Y7,normal_fragment_begin:Z7,normal_fragment_maps:$7,normal_pars_fragment:K7,normal_pars_vertex:Q7,normal_vertex:J7,normalmap_pars_fragment:eW,clearcoat_normal_fragment_begin:tW,clearcoat_normal_fragment_maps:nW,clearcoat_pars_fragment:iW,iridescence_pars_fragment:rW,opaque_fragment:sW,packing:aW,premultiplied_alpha_fragment:oW,project_vertex:lW,dithering_fragment:cW,dithering_pars_fragment:uW,roughnessmap_fragment:fW,roughnessmap_pars_fragment:hW,shadowmap_pars_fragment:dW,shadowmap_pars_vertex:pW,shadowmap_vertex:mW,shadowmask_pars_fragment:gW,skinbase_vertex:vW,skinning_pars_vertex:yW,skinning_vertex:_W,skinnormal_vertex:xW,specularmap_fragment:bW,specularmap_pars_fragment:SW,tonemapping_fragment:MW,tonemapping_pars_fragment:wW,transmission_fragment:EW,transmission_pars_fragment:TW,uv_pars_fragment:AW,uv_pars_vertex:CW,uv_vertex:RW,worldpos_vertex:NW,background_vert:DW,background_frag:LW,backgroundCube_vert:PW,backgroundCube_frag:IW,cube_vert:OW,cube_frag:UW,depth_vert:zW,depth_frag:kW,distanceRGBA_vert:BW,distanceRGBA_frag:FW,equirect_vert:VW,equirect_frag:HW,linedashed_vert:jW,linedashed_frag:GW,meshbasic_vert:WW,meshbasic_frag:XW,meshlambert_vert:qW,meshlambert_frag:YW,meshmatcap_vert:ZW,meshmatcap_frag:$W,meshnormal_vert:KW,meshnormal_frag:QW,meshphong_vert:JW,meshphong_frag:eX,meshphysical_vert:tX,meshphysical_frag:nX,meshtoon_vert:iX,meshtoon_frag:rX,points_vert:sX,points_frag:aX,shadow_vert:oX,shadow_frag:lX,sprite_vert:cX,sprite_frag:uX},gt={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new hn},alphaMap:{value:null},alphaMapTransform:{value:new hn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new hn}},envmap:{envMap:{value:null},envMapRotation:{value:new hn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new hn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new hn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new hn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new hn},normalScale:{value:new je(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new hn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new hn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new hn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new hn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new hn},alphaTest:{value:0},uvTransform:{value:new hn}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new je(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new hn},alphaMap:{value:null},alphaMapTransform:{value:new hn},alphaTest:{value:0}}},Rl={basic:{uniforms:na([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.fog]),vertexShader:xn.meshbasic_vert,fragmentShader:xn.meshbasic_frag},lambert:{uniforms:na([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:xn.meshlambert_vert,fragmentShader:xn.meshlambert_frag},phong:{uniforms:na([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:xn.meshphong_vert,fragmentShader:xn.meshphong_frag},standard:{uniforms:na([gt.common,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.roughnessmap,gt.metalnessmap,gt.fog,gt.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xn.meshphysical_vert,fragmentShader:xn.meshphysical_frag},toon:{uniforms:na([gt.common,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.gradientmap,gt.fog,gt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:xn.meshtoon_vert,fragmentShader:xn.meshtoon_frag},matcap:{uniforms:na([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,{matcap:{value:null}}]),vertexShader:xn.meshmatcap_vert,fragmentShader:xn.meshmatcap_frag},points:{uniforms:na([gt.points,gt.fog]),vertexShader:xn.points_vert,fragmentShader:xn.points_frag},dashed:{uniforms:na([gt.common,gt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xn.linedashed_vert,fragmentShader:xn.linedashed_frag},depth:{uniforms:na([gt.common,gt.displacementmap]),vertexShader:xn.depth_vert,fragmentShader:xn.depth_frag},normal:{uniforms:na([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,{opacity:{value:1}}]),vertexShader:xn.meshnormal_vert,fragmentShader:xn.meshnormal_frag},sprite:{uniforms:na([gt.sprite,gt.fog]),vertexShader:xn.sprite_vert,fragmentShader:xn.sprite_frag},background:{uniforms:{uvTransform:{value:new hn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xn.background_vert,fragmentShader:xn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new hn}},vertexShader:xn.backgroundCube_vert,fragmentShader:xn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xn.cube_vert,fragmentShader:xn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xn.equirect_vert,fragmentShader:xn.equirect_frag},distanceRGBA:{uniforms:na([gt.common,gt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xn.distanceRGBA_vert,fragmentShader:xn.distanceRGBA_frag},shadow:{uniforms:na([gt.lights,gt.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:xn.shadow_vert,fragmentShader:xn.shadow_frag}};Rl.physical={uniforms:na([Rl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new hn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new hn},clearcoatNormalScale:{value:new je(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new hn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new hn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new hn},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new hn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new hn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new hn},transmissionSamplerSize:{value:new je},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new hn},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new hn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new hn},anisotropyVector:{value:new je},anisotropyMap:{value:null},anisotropyMapTransform:{value:new hn}}]),vertexShader:xn.meshphysical_vert,fragmentShader:xn.meshphysical_frag};const hS={r:0,b:0,g:0},pd=new vo,fX=new tn;function hX(i,e,t,n,r,s,o){const c=new Mt(0);let h=s===!0?0:1,p,m,g=null,_=0,x=null;function b(D){let L=D.isScene===!0?D.background:null;return L&&L.isTexture&&(L=(D.backgroundBlurriness>0?t:e).get(L)),L}function T(D){let L=!1;const I=b(D);I===null?M(c,h):I&&I.isColor&&(M(I,1),L=!0);const z=i.xr.getEnvironmentBlendMode();z==="additive"?n.buffers.color.setClear(0,0,0,1,o):z==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||L)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function E(D,L){const I=b(L);I&&(I.isCubeTexture||I.mapping===Cg)?(m===void 0&&(m=new Rr(new Kd(1,1,1),new Ul({name:"BackgroundCubeMaterial",uniforms:xg(Rl.backgroundCube.uniforms),vertexShader:Rl.backgroundCube.vertexShader,fragmentShader:Rl.backgroundCube.fragmentShader,side:ha,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(z,k,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),pd.copy(L.backgroundRotation),pd.x*=-1,pd.y*=-1,pd.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(pd.y*=-1,pd.z*=-1),m.material.uniforms.envMap.value=I,m.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(fX.makeRotationFromEuler(pd)),m.material.toneMapped=Hn.getTransfer(I.colorSpace)!==fi,(g!==I||_!==I.version||x!==i.toneMapping)&&(m.material.needsUpdate=!0,g=I,_=I.version,x=i.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):I&&I.isTexture&&(p===void 0&&(p=new Rr(new Lg(2,2),new Ul({name:"BackgroundMaterial",uniforms:xg(Rl.background.uniforms),vertexShader:Rl.background.vertexShader,fragmentShader:Rl.background.fragmentShader,side:Pu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(p)),p.material.uniforms.t2D.value=I,p.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,p.material.toneMapped=Hn.getTransfer(I.colorSpace)!==fi,I.matrixAutoUpdate===!0&&I.updateMatrix(),p.material.uniforms.uvTransform.value.copy(I.matrix),(g!==I||_!==I.version||x!==i.toneMapping)&&(p.material.needsUpdate=!0,g=I,_=I.version,x=i.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function M(D,L){D.getRGB(hS,Jz(i)),n.buffers.color.setClear(hS.r,hS.g,hS.b,L,o)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return c},setClearColor:function(D,L=1){c.set(D),h=L,M(c,h)},getClearAlpha:function(){return h},setClearAlpha:function(D){h=D,M(c,h)},render:T,addToRenderList:E,dispose:R}}function dX(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=_(null);let s=r,o=!1;function c(U,X,K,ne,oe){let le=!1;const q=g(ne,K,X);s!==q&&(s=q,p(s.object)),le=x(U,ne,K,oe),le&&b(U,ne,K,oe),oe!==null&&e.update(oe,i.ELEMENT_ARRAY_BUFFER),(le||o)&&(o=!1,L(U,X,K,ne),oe!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(oe).buffer))}function h(){return i.createVertexArray()}function p(U){return i.bindVertexArray(U)}function m(U){return i.deleteVertexArray(U)}function g(U,X,K){const ne=K.wireframe===!0;let oe=n[U.id];oe===void 0&&(oe={},n[U.id]=oe);let le=oe[X.id];le===void 0&&(le={},oe[X.id]=le);let q=le[ne];return q===void 0&&(q=_(h()),le[ne]=q),q}function _(U){const X=[],K=[],ne=[];for(let oe=0;oe<t;oe++)X[oe]=0,K[oe]=0,ne[oe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:K,attributeDivisors:ne,object:U,attributes:{},index:null}}function x(U,X,K,ne){const oe=s.attributes,le=X.attributes;let q=0;const J=K.getAttributes();for(const ie in J)if(J[ie].location>=0){const $=oe[ie];let Y=le[ie];if(Y===void 0&&(ie==="instanceMatrix"&&U.instanceMatrix&&(Y=U.instanceMatrix),ie==="instanceColor"&&U.instanceColor&&(Y=U.instanceColor)),$===void 0||$.attribute!==Y||Y&&$.data!==Y.data)return!0;q++}return s.attributesNum!==q||s.index!==ne}function b(U,X,K,ne){const oe={},le=X.attributes;let q=0;const J=K.getAttributes();for(const ie in J)if(J[ie].location>=0){let $=le[ie];$===void 0&&(ie==="instanceMatrix"&&U.instanceMatrix&&($=U.instanceMatrix),ie==="instanceColor"&&U.instanceColor&&($=U.instanceColor));const Y={};Y.attribute=$,$&&$.data&&(Y.data=$.data),oe[ie]=Y,q++}s.attributes=oe,s.attributesNum=q,s.index=ne}function T(){const U=s.newAttributes;for(let X=0,K=U.length;X<K;X++)U[X]=0}function E(U){M(U,0)}function M(U,X){const K=s.newAttributes,ne=s.enabledAttributes,oe=s.attributeDivisors;K[U]=1,ne[U]===0&&(i.enableVertexAttribArray(U),ne[U]=1),oe[U]!==X&&(i.vertexAttribDivisor(U,X),oe[U]=X)}function R(){const U=s.newAttributes,X=s.enabledAttributes;for(let K=0,ne=X.length;K<ne;K++)X[K]!==U[K]&&(i.disableVertexAttribArray(K),X[K]=0)}function D(U,X,K,ne,oe,le,q){q===!0?i.vertexAttribIPointer(U,X,K,oe,le):i.vertexAttribPointer(U,X,K,ne,oe,le)}function L(U,X,K,ne){T();const oe=ne.attributes,le=K.getAttributes(),q=X.defaultAttributeValues;for(const J in le){const ie=le[J];if(ie.location>=0){let pe=oe[J];if(pe===void 0&&(J==="instanceMatrix"&&U.instanceMatrix&&(pe=U.instanceMatrix),J==="instanceColor"&&U.instanceColor&&(pe=U.instanceColor)),pe!==void 0){const $=pe.normalized,Y=pe.itemSize,he=e.get(pe);if(he===void 0)continue;const De=he.buffer,Le=he.type,Ze=he.bytesPerElement,me=Le===i.INT||Le===i.UNSIGNED_INT||pe.gpuType===PM;if(pe.isInterleavedBufferAttribute){const be=pe.data,Ke=be.stride,qe=pe.offset;if(be.isInstancedInterleavedBuffer){for(let pt=0;pt<ie.locationSize;pt++)M(ie.location+pt,be.meshPerAttribute);U.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=be.meshPerAttribute*be.count)}else for(let pt=0;pt<ie.locationSize;pt++)E(ie.location+pt);i.bindBuffer(i.ARRAY_BUFFER,De);for(let pt=0;pt<ie.locationSize;pt++)D(ie.location+pt,Y/ie.locationSize,Le,$,Ke*Ze,(qe+Y/ie.locationSize*pt)*Ze,me)}else{if(pe.isInstancedBufferAttribute){for(let be=0;be<ie.locationSize;be++)M(ie.location+be,pe.meshPerAttribute);U.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let be=0;be<ie.locationSize;be++)E(ie.location+be);i.bindBuffer(i.ARRAY_BUFFER,De);for(let be=0;be<ie.locationSize;be++)D(ie.location+be,Y/ie.locationSize,Le,$,Y*Ze,Y/ie.locationSize*be*Ze,me)}}else if(q!==void 0){const $=q[J];if($!==void 0)switch($.length){case 2:i.vertexAttrib2fv(ie.location,$);break;case 3:i.vertexAttrib3fv(ie.location,$);break;case 4:i.vertexAttrib4fv(ie.location,$);break;default:i.vertexAttrib1fv(ie.location,$)}}}}R()}function I(){F();for(const U in n){const X=n[U];for(const K in X){const ne=X[K];for(const oe in ne)m(ne[oe].object),delete ne[oe];delete X[K]}delete n[U]}}function z(U){if(n[U.id]===void 0)return;const X=n[U.id];for(const K in X){const ne=X[K];for(const oe in ne)m(ne[oe].object),delete ne[oe];delete X[K]}delete n[U.id]}function k(U){for(const X in n){const K=n[X];if(K[U.id]===void 0)continue;const ne=K[U.id];for(const oe in ne)m(ne[oe].object),delete ne[oe];delete K[U.id]}}function F(){O(),o=!0,s!==r&&(s=r,p(s.object))}function O(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:c,reset:F,resetDefaultState:O,dispose:I,releaseStatesOfGeometry:z,releaseStatesOfProgram:k,initAttributes:T,enableAttribute:E,disableUnusedAttributes:R}}function pX(i,e,t){let n;function r(p){n=p}function s(p,m){i.drawArrays(n,p,m),t.update(m,n,1)}function o(p,m,g){g!==0&&(i.drawArraysInstanced(n,p,m,g),t.update(m,n,g))}function c(p,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,m,0,g);let x=0;for(let b=0;b<g;b++)x+=m[b];t.update(x,n,1)}function h(p,m,g,_){if(g===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let b=0;b<p.length;b++)o(p[b],m[b],_[b]);else{x.multiDrawArraysInstancedWEBGL(n,p,0,m,0,_,0,g);let b=0;for(let T=0;T<g;T++)b+=m[T]*_[T];t.update(b,n,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=h}function mX(i,e,t,n){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(k){return!(k!==Us&&n.convert(k)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(k){const F=k===Rg&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(k!==el&&n.convert(k)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&k!==Ba&&!F)}function h(k){if(k==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return k==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=h(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const g=t.logarithmicDepthBuffer===!0,_=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),x=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),b=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=i.getParameter(i.MAX_TEXTURE_SIZE),E=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),M=i.getParameter(i.MAX_VERTEX_ATTRIBS),R=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),D=i.getParameter(i.MAX_VARYING_VECTORS),L=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),I=b>0,z=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:h,textureFormatReadable:o,textureTypeReadable:c,precision:p,logarithmicDepthBuffer:g,reversedDepthBuffer:_,maxTextures:x,maxVertexTextures:b,maxTextureSize:T,maxCubemapSize:E,maxAttributes:M,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:L,vertexTextures:I,maxSamples:z}}function gX(i){const e=this;let t=null,n=0,r=!1,s=!1;const o=new kf,c=new hn,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(g,_){const x=g.length!==0||_||n!==0||r;return r=_,n=g.length,x},this.beginShadows=function(){s=!0,m(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,_){t=m(g,_,0)},this.setState=function(g,_,x){const b=g.clippingPlanes,T=g.clipIntersection,E=g.clipShadows,M=i.get(g);if(!r||b===null||b.length===0||s&&!E)s?m(null):p();else{const R=s?0:n,D=R*4;let L=M.clippingState||null;h.value=L,L=m(b,_,D,x);for(let I=0;I!==D;++I)L[I]=t[I];M.clippingState=L,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function p(){h.value!==t&&(h.value=t,h.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(g,_,x,b){const T=g!==null?g.length:0;let E=null;if(T!==0){if(E=h.value,b!==!0||E===null){const M=x+T*4,R=_.matrixWorldInverse;c.getNormalMatrix(R),(E===null||E.length<M)&&(E=new Float32Array(M));for(let D=0,L=x;D!==T;++D,L+=4)o.copy(g[D]).applyMatrix4(R,c),o.normal.toArray(E,L),E[L+3]=o.constant}h.value=E,h.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,E}}function vX(i){let e=new WeakMap;function t(o,c){return c===Iy?o.mapping=Iu:c===Oy&&(o.mapping=ih),o}function n(o){if(o&&o.isTexture){const c=o.mapping;if(c===Iy||c===Oy)if(e.has(o)){const h=e.get(o).texture;return t(h,o.mapping)}else{const h=o.image;if(h&&h.height>0){const p=new nk(h.height);return p.fromEquirectangularTexture(i,o),e.set(o,p),o.addEventListener("dispose",r),t(p.texture,o.mapping)}else return null}}return o}function r(o){const c=o.target;c.removeEventListener("dispose",r);const h=e.get(c);h!==void 0&&(e.delete(c),h.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}const Wm=4,LL=[.125,.215,.35,.446,.526,.582],Md=20,dT=new v_,PL=new Mt;let pT=null,mT=0,gT=0,vT=!1;const bd=(1+Math.sqrt(5))/2,Dm=1/bd,IL=[new Q(-bd,Dm,0),new Q(bd,Dm,0),new Q(-Dm,0,bd),new Q(Dm,0,bd),new Q(0,bd,-Dm),new Q(0,bd,Dm),new Q(-1,1,-1),new Q(1,1,-1),new Q(-1,1,1),new Q(1,1,1)],yX=new Q;class HA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100,s={}){const{size:o=256,position:c=yX}=s;pT=this._renderer.getRenderTarget(),mT=this._renderer.getActiveCubeFace(),gT=this._renderer.getActiveMipmapLevel(),vT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,n,r,h,c),t>0&&this._blur(h,0,0,t),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=zL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=UL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(pT,mT,gT),this._renderer.xr.enabled=vT,e.scissorTest=!1,dS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Iu||e.mapping===ih?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),pT=this._renderer.getRenderTarget(),mT=this._renderer.getActiveCubeFace(),gT=this._renderer.getActiveMipmapLevel(),vT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Fr,minFilter:Fr,generateMipmaps:!1,type:Rg,format:Us,colorSpace:rh,depthBuffer:!1},r=OL(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=OL(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_X(s)),this._blurMaterial=xX(s,e,t)}return r}_compileMaterial(e){const t=new Rr(this._lodPlanes[0],e);this._renderer.compile(t,dT)}_sceneToCubeUV(e,t,n,r,s){const h=new Qr(90,1,t,n),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,_=g.autoClear,x=g.toneMapping;g.getClearColor(PL),g.toneMapping=Tc,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null));const T=new fh({name:"PMREM.Background",side:ha,depthWrite:!1,depthTest:!1}),E=new Rr(new Kd,T);let M=!1;const R=e.background;R?R.isColor&&(T.color.copy(R),e.background=null,M=!0):(T.color.copy(PL),M=!0);for(let D=0;D<6;D++){const L=D%3;L===0?(h.up.set(0,p[D],0),h.position.set(s.x,s.y,s.z),h.lookAt(s.x+m[D],s.y,s.z)):L===1?(h.up.set(0,0,p[D]),h.position.set(s.x,s.y,s.z),h.lookAt(s.x,s.y+m[D],s.z)):(h.up.set(0,p[D],0),h.position.set(s.x,s.y,s.z),h.lookAt(s.x,s.y,s.z+m[D]));const I=this._cubeSize;dS(r,L*I,D>2?I:0,I,I),g.setRenderTarget(r),M&&g.render(E,h),g.render(e,h)}E.geometry.dispose(),E.material.dispose(),g.toneMapping=x,g.autoClear=_,e.background=R}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Iu||e.mapping===ih;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=zL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=UL());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Rr(this._lodPlanes[0],s),c=s.uniforms;c.envMap.value=e;const h=this._cubeSize;dS(t,0,0,3*h,2*h),n.setRenderTarget(t),n.render(o,dT)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),c=IL[(r-s-1)%IL.length];this._blur(e,s-1,s,o,c)}t.autoClear=n}_blur(e,t,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",s),this._halfBlur(o,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,o,c){const h=this._renderer,p=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new Rr(this._lodPlanes[r],p),_=p.uniforms,x=this._sizeLods[n]-1,b=isFinite(s)?Math.PI/(2*x):2*Math.PI/(2*Md-1),T=s/b,E=isFinite(s)?1+Math.floor(m*T):Md;E>Md&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Md}`);const M=[];let R=0;for(let k=0;k<Md;++k){const F=k/T,O=Math.exp(-F*F/2);M.push(O),k===0?R+=O:k<E&&(R+=2*O)}for(let k=0;k<M.length;k++)M[k]=M[k]/R;_.envMap.value=e.texture,_.samples.value=E,_.weights.value=M,_.latitudinal.value=o==="latitudinal",c&&(_.poleAxis.value=c);const{_lodMax:D}=this;_.dTheta.value=b,_.mipInt.value=D-n;const L=this._sizeLods[r],I=3*L*(r>D-Wm?r-D+Wm:0),z=4*(this._cubeSize-L);dS(t,I,z,3*L,2*L),h.setRenderTarget(t),h.render(g,dT)}}function _X(i){const e=[],t=[],n=[];let r=i;const s=i-Wm+1+LL.length;for(let o=0;o<s;o++){const c=Math.pow(2,r);t.push(c);let h=1/c;o>i-Wm?h=LL[o-i+Wm-1]:o===0&&(h=0),n.push(h);const p=1/(c-2),m=-p,g=1+p,_=[m,m,g,m,g,g,m,m,g,g,m,g],x=6,b=6,T=3,E=2,M=1,R=new Float32Array(T*b*x),D=new Float32Array(E*b*x),L=new Float32Array(M*b*x);for(let z=0;z<x;z++){const k=z%3*2/3-1,F=z>2?0:-1,O=[k,F,0,k+2/3,F,0,k+2/3,F+1,0,k,F,0,k+2/3,F+1,0,k,F+1,0];R.set(O,T*b*z),D.set(_,E*b*z);const U=[z,z,z,z,z,z];L.set(U,M*b*z)}const I=new yn;I.setAttribute("position",new vi(R,T)),I.setAttribute("uv",new vi(D,E)),I.setAttribute("faceIndex",new vi(L,M)),e.push(I),r>Wm&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function OL(i,e,t){const n=new Nc(i,e,t);return n.texture.mapping=Cg,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function dS(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function xX(i,e,t){const n=new Float32Array(Md),r=new Q(0,1,0);return new Ul({name:"SphericalGaussianBlur",defines:{n:Md,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:jR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function UL(){return new Ul({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function zL(){return new Ul({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function jR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function bX(i){let e=new WeakMap,t=null;function n(c){if(c&&c.isTexture){const h=c.mapping,p=h===Iy||h===Oy,m=h===Iu||h===ih;if(p||m){let g=e.get(c);const _=g!==void 0?g.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==_)return t===null&&(t=new HA(i)),g=p?t.fromEquirectangular(c,g):t.fromCubemap(c,g),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),g.texture;if(g!==void 0)return g.texture;{const x=c.image;return p&&x&&x.height>0||m&&x&&r(x)?(t===null&&(t=new HA(i)),g=p?t.fromEquirectangular(c):t.fromCubemap(c),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),c.addEventListener("dispose",s),g.texture):null}}}return c}function r(c){let h=0;const p=6;for(let m=0;m<p;m++)c[m]!==void 0&&h++;return h===p}function s(c){const h=c.target;h.removeEventListener("dispose",s);const p=e.get(h);p!==void 0&&(e.delete(h),p.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function SX(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&jy("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function MX(i,e,t,n){const r={},s=new WeakMap;function o(g){const _=g.target;_.index!==null&&e.remove(_.index);for(const b in _.attributes)e.remove(_.attributes[b]);_.removeEventListener("dispose",o),delete r[_.id];const x=s.get(_);x&&(e.remove(x),s.delete(_)),n.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function c(g,_){return r[_.id]===!0||(_.addEventListener("dispose",o),r[_.id]=!0,t.memory.geometries++),_}function h(g){const _=g.attributes;for(const x in _)e.update(_[x],i.ARRAY_BUFFER)}function p(g){const _=[],x=g.index,b=g.attributes.position;let T=0;if(x!==null){const R=x.array;T=x.version;for(let D=0,L=R.length;D<L;D+=3){const I=R[D+0],z=R[D+1],k=R[D+2];_.push(I,z,z,k,k,I)}}else if(b!==void 0){const R=b.array;T=b.version;for(let D=0,L=R.length/3-1;D<L;D+=3){const I=D+0,z=D+1,k=D+2;_.push(I,z,z,k,k,I)}}else return;const E=new(Zz(_)?mR:pR)(_,1);E.version=T;const M=s.get(g);M&&e.remove(M),s.set(g,E)}function m(g){const _=s.get(g);if(_){const x=g.index;x!==null&&_.version<x.version&&p(g)}else p(g);return s.get(g)}return{get:c,update:h,getWireframeAttribute:m}}function wX(i,e,t){let n;function r(_){n=_}let s,o;function c(_){s=_.type,o=_.bytesPerElement}function h(_,x){i.drawElements(n,x,s,_*o),t.update(x,n,1)}function p(_,x,b){b!==0&&(i.drawElementsInstanced(n,x,s,_*o,b),t.update(x,n,b))}function m(_,x,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,x,0,s,_,0,b);let E=0;for(let M=0;M<b;M++)E+=x[M];t.update(E,n,1)}function g(_,x,b,T){if(b===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let M=0;M<_.length;M++)p(_[M]/o,x[M],T[M]);else{E.multiDrawElementsInstancedWEBGL(n,x,0,s,_,0,T,0,b);let M=0;for(let R=0;R<b;R++)M+=x[R]*T[R];t.update(M,n,1)}}this.setMode=r,this.setIndex=c,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function EX(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,c){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=c*(s/3);break;case i.LINES:t.lines+=c*(s/2);break;case i.LINE_STRIP:t.lines+=c*(s-1);break;case i.LINE_LOOP:t.lines+=c*s;break;case i.POINTS:t.points+=c*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function TX(i,e,t){const n=new WeakMap,r=new Yn;function s(o,c,h){const p=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=m!==void 0?m.length:0;let _=n.get(c);if(_===void 0||_.count!==g){let U=function(){F.dispose(),n.delete(c),c.removeEventListener("dispose",U)};var x=U;_!==void 0&&_.texture.dispose();const b=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,M=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],D=c.morphAttributes.color||[];let L=0;b===!0&&(L=1),T===!0&&(L=2),E===!0&&(L=3);let I=c.attributes.position.count*L,z=1;I>e.maxTextureSize&&(z=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const k=new Float32Array(I*z*4*g),F=new FM(k,I,z,g);F.type=Ba,F.needsUpdate=!0;const O=L*4;for(let X=0;X<g;X++){const K=M[X],ne=R[X],oe=D[X],le=I*z*4*X;for(let q=0;q<K.count;q++){const J=q*O;b===!0&&(r.fromBufferAttribute(K,q),k[le+J+0]=r.x,k[le+J+1]=r.y,k[le+J+2]=r.z,k[le+J+3]=0),T===!0&&(r.fromBufferAttribute(ne,q),k[le+J+4]=r.x,k[le+J+5]=r.y,k[le+J+6]=r.z,k[le+J+7]=0),E===!0&&(r.fromBufferAttribute(oe,q),k[le+J+8]=r.x,k[le+J+9]=r.y,k[le+J+10]=r.z,k[le+J+11]=oe.itemSize===4?r.w:1)}}_={count:g,texture:F,size:new je(I,z)},n.set(c,_),c.addEventListener("dispose",U)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)h.getUniforms().setValue(i,"morphTexture",o.morphTexture,t);else{let b=0;for(let E=0;E<p.length;E++)b+=p[E];const T=c.morphTargetsRelative?1:1-b;h.getUniforms().setValue(i,"morphTargetBaseInfluence",T),h.getUniforms().setValue(i,"morphTargetInfluences",p)}h.getUniforms().setValue(i,"morphTargetsTexture",_.texture,t),h.getUniforms().setValue(i,"morphTargetsTextureSize",_.size)}return{update:s}}function AX(i,e,t,n){let r=new WeakMap;function s(h){const p=n.render.frame,m=h.geometry,g=e.get(h,m);if(r.get(g)!==p&&(e.update(g),r.set(g,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",c)===!1&&h.addEventListener("dispose",c),r.get(h)!==p&&(t.update(h.instanceMatrix,i.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,i.ARRAY_BUFFER),r.set(h,p))),h.isSkinnedMesh){const _=h.skeleton;r.get(_)!==p&&(_.update(),r.set(_,p))}return g}function o(){r=new WeakMap}function c(h){const p=h.target;p.removeEventListener("dispose",c),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:s,dispose:o}}const eB=new lr,kL=new xR(1,1),tB=new FM,nB=new VM,iB=new u_,BL=[],FL=[],VL=new Float32Array(16),HL=new Float32Array(9),jL=new Float32Array(4);function Pg(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=BL[r];if(s===void 0&&(s=new Float32Array(r),BL[r]=s),e!==0){n.toArray(s,0);for(let o=1,c=0;o!==e;++o)c+=t,i[o].toArray(s,c)}return s}function Vr(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Hr(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function cw(i,e){let t=FL[e];t===void 0&&(t=new Int32Array(e),FL[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function CX(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function RX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vr(t,e))return;i.uniform2fv(this.addr,e),Hr(t,e)}}function NX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Vr(t,e))return;i.uniform3fv(this.addr,e),Hr(t,e)}}function DX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vr(t,e))return;i.uniform4fv(this.addr,e),Hr(t,e)}}function LX(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Vr(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Hr(t,e)}else{if(Vr(t,n))return;jL.set(n),i.uniformMatrix2fv(this.addr,!1,jL),Hr(t,n)}}function PX(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Vr(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Hr(t,e)}else{if(Vr(t,n))return;HL.set(n),i.uniformMatrix3fv(this.addr,!1,HL),Hr(t,n)}}function IX(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Vr(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Hr(t,e)}else{if(Vr(t,n))return;VL.set(n),i.uniformMatrix4fv(this.addr,!1,VL),Hr(t,n)}}function OX(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function UX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vr(t,e))return;i.uniform2iv(this.addr,e),Hr(t,e)}}function zX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Vr(t,e))return;i.uniform3iv(this.addr,e),Hr(t,e)}}function kX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vr(t,e))return;i.uniform4iv(this.addr,e),Hr(t,e)}}function BX(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function FX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vr(t,e))return;i.uniform2uiv(this.addr,e),Hr(t,e)}}function VX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Vr(t,e))return;i.uniform3uiv(this.addr,e),Hr(t,e)}}function HX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vr(t,e))return;i.uniform4uiv(this.addr,e),Hr(t,e)}}function jX(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(kL.compareFunction=fR,s=kL):s=eB,t.setTexture2D(e||s,r)}function GX(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||nB,r)}function WX(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||iB,r)}function XX(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||tB,r)}function qX(i){switch(i){case 5126:return CX;case 35664:return RX;case 35665:return NX;case 35666:return DX;case 35674:return LX;case 35675:return PX;case 35676:return IX;case 5124:case 35670:return OX;case 35667:case 35671:return UX;case 35668:case 35672:return zX;case 35669:case 35673:return kX;case 5125:return BX;case 36294:return FX;case 36295:return VX;case 36296:return HX;case 35678:case 36198:case 36298:case 36306:case 35682:return jX;case 35679:case 36299:case 36307:return GX;case 35680:case 36300:case 36308:case 36293:return WX;case 36289:case 36303:case 36311:case 36292:return XX}}function YX(i,e){i.uniform1fv(this.addr,e)}function ZX(i,e){const t=Pg(e,this.size,2);i.uniform2fv(this.addr,t)}function $X(i,e){const t=Pg(e,this.size,3);i.uniform3fv(this.addr,t)}function KX(i,e){const t=Pg(e,this.size,4);i.uniform4fv(this.addr,t)}function QX(i,e){const t=Pg(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function JX(i,e){const t=Pg(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function eq(i,e){const t=Pg(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function tq(i,e){i.uniform1iv(this.addr,e)}function nq(i,e){i.uniform2iv(this.addr,e)}function iq(i,e){i.uniform3iv(this.addr,e)}function rq(i,e){i.uniform4iv(this.addr,e)}function sq(i,e){i.uniform1uiv(this.addr,e)}function aq(i,e){i.uniform2uiv(this.addr,e)}function oq(i,e){i.uniform3uiv(this.addr,e)}function lq(i,e){i.uniform4uiv(this.addr,e)}function cq(i,e,t){const n=this.cache,r=e.length,s=cw(t,r);Vr(n,s)||(i.uniform1iv(this.addr,s),Hr(n,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||eB,s[o])}function uq(i,e,t){const n=this.cache,r=e.length,s=cw(t,r);Vr(n,s)||(i.uniform1iv(this.addr,s),Hr(n,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||nB,s[o])}function fq(i,e,t){const n=this.cache,r=e.length,s=cw(t,r);Vr(n,s)||(i.uniform1iv(this.addr,s),Hr(n,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||iB,s[o])}function hq(i,e,t){const n=this.cache,r=e.length,s=cw(t,r);Vr(n,s)||(i.uniform1iv(this.addr,s),Hr(n,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||tB,s[o])}function dq(i){switch(i){case 5126:return YX;case 35664:return ZX;case 35665:return $X;case 35666:return KX;case 35674:return QX;case 35675:return JX;case 35676:return eq;case 5124:case 35670:return tq;case 35667:case 35671:return nq;case 35668:case 35672:return iq;case 35669:case 35673:return rq;case 5125:return sq;case 36294:return aq;case 36295:return oq;case 36296:return lq;case 35678:case 36198:case 36298:case 36306:case 35682:return cq;case 35679:case 36299:case 36307:return uq;case 35680:case 36300:case 36308:case 36293:return fq;case 36289:case 36303:case 36311:case 36292:return hq}}class pq{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=qX(t.type)}}class mq{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=dq(t.type)}}class gq{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const c=r[s];c.setValue(e,t[c.id],n)}}}const yT=/(\w+)(\])?(\[|\.)?/g;function GL(i,e){i.seq.push(e),i.map[e.id]=e}function vq(i,e,t){const n=i.name,r=n.length;for(yT.lastIndex=0;;){const s=yT.exec(n),o=yT.lastIndex;let c=s[1];const h=s[2]==="]",p=s[3];if(h&&(c=c|0),p===void 0||p==="["&&o+2===r){GL(t,p===void 0?new pq(c,i,e):new mq(c,i,e));break}else{let g=t.map[c];g===void 0&&(g=new gq(c),GL(t,g)),t=g}}}class kS{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);vq(s,o,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,o=t.length;s!==o;++s){const c=t[s],h=n[c.id];h.needsUpdate!==!1&&c.setValue(e,h.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&n.push(o)}return n}}function WL(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const yq=37297;let _q=0;function xq(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const c=o+1;n.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return n.join(`
`)}const XL=new hn;function bq(i){Hn._getMatrix(XL,Hn.workingColorSpace,i);const e=`mat3( ${XL.elements.map(t=>t.toFixed(4))} )`;switch(Hn.getTransfer(i)){case Fy:return[e,"LinearTransferOETF"];case fi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function qL(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),s=(i.getShaderInfoLog(e)||"").trim();if(n&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const c=parseInt(o[1]);return t.toUpperCase()+`

`+s+`

`+xq(i.getShaderSource(e),c)}else return s}function Sq(i,e){const t=bq(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Mq(i,e){let t;switch(e){case Rz:t="Linear";break;case Nz:t="Reinhard";break;case Dz:t="Cineon";break;case tR:t="ACESFilmic";break;case Pz:t="AgX";break;case Iz:t="Neutral";break;case Lz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const pS=new Q;function wq(){Hn.getLuminanceCoefficients(pS);const i=pS.x.toFixed(4),e=pS.y.toFixed(4),t=pS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Eq(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(jv).join(`
`)}function Tq(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function Aq(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),o=s.name;let c=1;s.type===i.FLOAT_MAT2&&(c=2),s.type===i.FLOAT_MAT3&&(c=3),s.type===i.FLOAT_MAT4&&(c=4),t[o]={type:s.type,location:i.getAttribLocation(e,o),locationSize:c}}return t}function jv(i){return i!==""}function YL(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ZL(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Cq=/^[ \t]*#include +<([\w\d./]+)>/gm;function jA(i){return i.replace(Cq,Nq)}const Rq=new Map;function Nq(i,e){let t=xn[e];if(t===void 0){const n=Rq.get(e);if(n!==void 0)t=xn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return jA(t)}const Dq=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $L(i){return i.replace(Dq,Lq)}function Lq(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function KL(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Pq(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===DM?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===ay?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Cl&&(e="SHADOWMAP_TYPE_VSM"),e}function Iq(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Iu:case ih:e="ENVMAP_TYPE_CUBE";break;case Cg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Oq(i){let e="ENVMAP_MODE_REFLECTION";return i.envMap&&i.envMapMode===ih&&(e="ENVMAP_MODE_REFRACTION"),e}function Uq(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case l_:e="ENVMAP_BLENDING_MULTIPLY";break;case Az:e="ENVMAP_BLENDING_MIX";break;case Cz:e="ENVMAP_BLENDING_ADD";break}return e}function zq(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function kq(i,e,t,n){const r=i.getContext(),s=t.defines;let o=t.vertexShader,c=t.fragmentShader;const h=Pq(t),p=Iq(t),m=Oq(t),g=Uq(t),_=zq(t),x=Eq(t),b=Tq(s),T=r.createProgram();let E,M,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(jv).join(`
`),E.length>0&&(E+=`
`),M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(jv).join(`
`),M.length>0&&(M+=`
`)):(E=[KL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jv).join(`
`),M=[KL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Tc?"#define TONE_MAPPING":"",t.toneMapping!==Tc?xn.tonemapping_pars_fragment:"",t.toneMapping!==Tc?Mq("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xn.colorspace_pars_fragment,Sq("linearToOutputTexel",t.outputColorSpace),wq(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(jv).join(`
`)),o=jA(o),o=YL(o,t),o=ZL(o,t),c=jA(c),c=YL(c,t),c=ZL(c,t),o=$L(o),c=$L(c),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,E=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,M=["#define varying in",t.glslVersion===IA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===IA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const D=R+E+o,L=R+M+c,I=WL(r,r.VERTEX_SHADER,D),z=WL(r,r.FRAGMENT_SHADER,L);r.attachShader(T,I),r.attachShader(T,z),t.index0AttributeName!==void 0?r.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(T,0,"position"),r.linkProgram(T);function k(X){if(i.debug.checkShaderErrors){const K=r.getProgramInfoLog(T)||"",ne=r.getShaderInfoLog(I)||"",oe=r.getShaderInfoLog(z)||"",le=K.trim(),q=ne.trim(),J=oe.trim();let ie=!0,pe=!0;if(r.getProgramParameter(T,r.LINK_STATUS)===!1)if(ie=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,T,I,z);else{const $=qL(r,I,"vertex"),Y=qL(r,z,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(T,r.VALIDATE_STATUS)+`

Material Name: `+X.name+`
Material Type: `+X.type+`

Program Info Log: `+le+`
`+$+`
`+Y)}else le!==""?console.warn("THREE.WebGLProgram: Program Info Log:",le):(q===""||J==="")&&(pe=!1);pe&&(X.diagnostics={runnable:ie,programLog:le,vertexShader:{log:q,prefix:E},fragmentShader:{log:J,prefix:M}})}r.deleteShader(I),r.deleteShader(z),F=new kS(r,T),O=Aq(r,T)}let F;this.getUniforms=function(){return F===void 0&&k(this),F};let O;this.getAttributes=function(){return O===void 0&&k(this),O};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(T,yq)),U},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=_q++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=I,this.fragmentShader=z,this}let Bq=0;class Fq{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Vq(e),t.set(e,n)),n}}class Vq{constructor(e){this.id=Bq++,this.code=e,this.usedTimes=0}}function Hq(i,e,t,n,r,s,o){const c=new _g,h=new Fq,p=new Set,m=[],g=r.logarithmicDepthBuffer,_=r.vertexTextures;let x=r.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(O){return p.add(O),O===0?"uv":`uv${O}`}function E(O,U,X,K,ne){const oe=K.fog,le=ne.geometry,q=O.isMeshStandardMaterial?K.environment:null,J=(O.isMeshStandardMaterial?t:e).get(O.envMap||q),ie=J&&J.mapping===Cg?J.image.height:null,pe=b[O.type];O.precision!==null&&(x=r.getMaxPrecision(O.precision),x!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",x,"instead."));const $=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,Y=$!==void 0?$.length:0;let he=0;le.morphAttributes.position!==void 0&&(he=1),le.morphAttributes.normal!==void 0&&(he=2),le.morphAttributes.color!==void 0&&(he=3);let De,Le,Ze,me;if(pe){const ht=Rl[pe];De=ht.vertexShader,Le=ht.fragmentShader}else De=O.vertexShader,Le=O.fragmentShader,h.update(O),Ze=h.getVertexShaderID(O),me=h.getFragmentShaderID(O);const be=i.getRenderTarget(),Ke=i.state.buffers.depth.getReversed(),qe=ne.isInstancedMesh===!0,pt=ne.isBatchedMesh===!0,Ut=!!O.map,Wt=!!O.matcap,ee=!!J,Pe=!!O.aoMap,Ie=!!O.lightMap,Ne=!!O.bumpMap,te=!!O.normalMap,Qe=!!O.displacementMap,Ge=!!O.emissiveMap,Je=!!O.metalnessMap,vt=!!O.roughnessMap,Rt=O.anisotropy>0,Z=O.clearcoat>0,V=O.dispersion>0,de=O.iridescence>0,Ee=O.sheen>0,Ue=O.transmission>0,Te=Rt&&!!O.anisotropyMap,lt=Z&&!!O.clearcoatMap,Ye=Z&&!!O.clearcoatNormalMap,bt=Z&&!!O.clearcoatRoughnessMap,ot=de&&!!O.iridescenceMap,Xe=de&&!!O.iridescenceThicknessMap,nt=Ee&&!!O.sheenColorMap,Et=Ee&&!!O.sheenRoughnessMap,ft=!!O.specularMap,st=!!O.specularColorMap,Xt=!!O.specularIntensityMap,re=Ue&&!!O.transmissionMap,$e=Ue&&!!O.thicknessMap,et=!!O.gradientMap,ct=!!O.alphaMap,He=O.alphaTest>0,ze=!!O.alphaHash,mt=!!O.extensions;let Ft=Tc;O.toneMapped&&(be===null||be.isXRRenderTarget===!0)&&(Ft=i.toneMapping);const cn={shaderID:pe,shaderType:O.type,shaderName:O.name,vertexShader:De,fragmentShader:Le,defines:O.defines,customVertexShaderID:Ze,customFragmentShaderID:me,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:x,batching:pt,batchingColor:pt&&ne._colorsTexture!==null,instancing:qe,instancingColor:qe&&ne.instanceColor!==null,instancingMorph:qe&&ne.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:be===null?i.outputColorSpace:be.isXRRenderTarget===!0?be.texture.colorSpace:rh,alphaToCoverage:!!O.alphaToCoverage,map:Ut,matcap:Wt,envMap:ee,envMapMode:ee&&J.mapping,envMapCubeUVHeight:ie,aoMap:Pe,lightMap:Ie,bumpMap:Ne,normalMap:te,displacementMap:_&&Qe,emissiveMap:Ge,normalMapObjectSpace:te&&O.normalMapType===Vz,normalMapTangentSpace:te&&O.normalMapType===uh,metalnessMap:Je,roughnessMap:vt,anisotropy:Rt,anisotropyMap:Te,clearcoat:Z,clearcoatMap:lt,clearcoatNormalMap:Ye,clearcoatRoughnessMap:bt,dispersion:V,iridescence:de,iridescenceMap:ot,iridescenceThicknessMap:Xe,sheen:Ee,sheenColorMap:nt,sheenRoughnessMap:Et,specularMap:ft,specularColorMap:st,specularIntensityMap:Xt,transmission:Ue,transmissionMap:re,thicknessMap:$e,gradientMap:et,opaque:O.transparent===!1&&O.blending===kd&&O.alphaToCoverage===!1,alphaMap:ct,alphaTest:He,alphaHash:ze,combine:O.combine,mapUv:Ut&&T(O.map.channel),aoMapUv:Pe&&T(O.aoMap.channel),lightMapUv:Ie&&T(O.lightMap.channel),bumpMapUv:Ne&&T(O.bumpMap.channel),normalMapUv:te&&T(O.normalMap.channel),displacementMapUv:Qe&&T(O.displacementMap.channel),emissiveMapUv:Ge&&T(O.emissiveMap.channel),metalnessMapUv:Je&&T(O.metalnessMap.channel),roughnessMapUv:vt&&T(O.roughnessMap.channel),anisotropyMapUv:Te&&T(O.anisotropyMap.channel),clearcoatMapUv:lt&&T(O.clearcoatMap.channel),clearcoatNormalMapUv:Ye&&T(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:bt&&T(O.clearcoatRoughnessMap.channel),iridescenceMapUv:ot&&T(O.iridescenceMap.channel),iridescenceThicknessMapUv:Xe&&T(O.iridescenceThicknessMap.channel),sheenColorMapUv:nt&&T(O.sheenColorMap.channel),sheenRoughnessMapUv:Et&&T(O.sheenRoughnessMap.channel),specularMapUv:ft&&T(O.specularMap.channel),specularColorMapUv:st&&T(O.specularColorMap.channel),specularIntensityMapUv:Xt&&T(O.specularIntensityMap.channel),transmissionMapUv:re&&T(O.transmissionMap.channel),thicknessMapUv:$e&&T(O.thicknessMap.channel),alphaMapUv:ct&&T(O.alphaMap.channel),vertexTangents:!!le.attributes.tangent&&(te||Rt),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,pointsUvs:ne.isPoints===!0&&!!le.attributes.uv&&(Ut||ct),fog:!!oe,useFog:O.fog===!0,fogExp2:!!oe&&oe.isFogExp2,flatShading:O.flatShading===!0&&O.wireframe===!1,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:Ke,skinning:ne.isSkinnedMesh===!0,morphTargets:le.morphAttributes.position!==void 0,morphNormals:le.morphAttributes.normal!==void 0,morphColors:le.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:he,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:O.dithering,shadowMapEnabled:i.shadowMap.enabled&&X.length>0,shadowMapType:i.shadowMap.type,toneMapping:Ft,decodeVideoTexture:Ut&&O.map.isVideoTexture===!0&&Hn.getTransfer(O.map.colorSpace)===fi,decodeVideoTextureEmissive:Ge&&O.emissiveMap.isVideoTexture===!0&&Hn.getTransfer(O.emissiveMap.colorSpace)===fi,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===xc,flipSided:O.side===ha,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:mt&&O.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(mt&&O.extensions.multiDraw===!0||pt)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return cn.vertexUv1s=p.has(1),cn.vertexUv2s=p.has(2),cn.vertexUv3s=p.has(3),p.clear(),cn}function M(O){const U=[];if(O.shaderID?U.push(O.shaderID):(U.push(O.customVertexShaderID),U.push(O.customFragmentShaderID)),O.defines!==void 0)for(const X in O.defines)U.push(X),U.push(O.defines[X]);return O.isRawShaderMaterial===!1&&(R(U,O),D(U,O),U.push(i.outputColorSpace)),U.push(O.customProgramCacheKey),U.join()}function R(O,U){O.push(U.precision),O.push(U.outputColorSpace),O.push(U.envMapMode),O.push(U.envMapCubeUVHeight),O.push(U.mapUv),O.push(U.alphaMapUv),O.push(U.lightMapUv),O.push(U.aoMapUv),O.push(U.bumpMapUv),O.push(U.normalMapUv),O.push(U.displacementMapUv),O.push(U.emissiveMapUv),O.push(U.metalnessMapUv),O.push(U.roughnessMapUv),O.push(U.anisotropyMapUv),O.push(U.clearcoatMapUv),O.push(U.clearcoatNormalMapUv),O.push(U.clearcoatRoughnessMapUv),O.push(U.iridescenceMapUv),O.push(U.iridescenceThicknessMapUv),O.push(U.sheenColorMapUv),O.push(U.sheenRoughnessMapUv),O.push(U.specularMapUv),O.push(U.specularColorMapUv),O.push(U.specularIntensityMapUv),O.push(U.transmissionMapUv),O.push(U.thicknessMapUv),O.push(U.combine),O.push(U.fogExp2),O.push(U.sizeAttenuation),O.push(U.morphTargetsCount),O.push(U.morphAttributeCount),O.push(U.numDirLights),O.push(U.numPointLights),O.push(U.numSpotLights),O.push(U.numSpotLightMaps),O.push(U.numHemiLights),O.push(U.numRectAreaLights),O.push(U.numDirLightShadows),O.push(U.numPointLightShadows),O.push(U.numSpotLightShadows),O.push(U.numSpotLightShadowsWithMaps),O.push(U.numLightProbes),O.push(U.shadowMapType),O.push(U.toneMapping),O.push(U.numClippingPlanes),O.push(U.numClipIntersection),O.push(U.depthPacking)}function D(O,U){c.disableAll(),U.supportsVertexTextures&&c.enable(0),U.instancing&&c.enable(1),U.instancingColor&&c.enable(2),U.instancingMorph&&c.enable(3),U.matcap&&c.enable(4),U.envMap&&c.enable(5),U.normalMapObjectSpace&&c.enable(6),U.normalMapTangentSpace&&c.enable(7),U.clearcoat&&c.enable(8),U.iridescence&&c.enable(9),U.alphaTest&&c.enable(10),U.vertexColors&&c.enable(11),U.vertexAlphas&&c.enable(12),U.vertexUv1s&&c.enable(13),U.vertexUv2s&&c.enable(14),U.vertexUv3s&&c.enable(15),U.vertexTangents&&c.enable(16),U.anisotropy&&c.enable(17),U.alphaHash&&c.enable(18),U.batching&&c.enable(19),U.dispersion&&c.enable(20),U.batchingColor&&c.enable(21),U.gradientMap&&c.enable(22),O.push(c.mask),c.disableAll(),U.fog&&c.enable(0),U.useFog&&c.enable(1),U.flatShading&&c.enable(2),U.logarithmicDepthBuffer&&c.enable(3),U.reversedDepthBuffer&&c.enable(4),U.skinning&&c.enable(5),U.morphTargets&&c.enable(6),U.morphNormals&&c.enable(7),U.morphColors&&c.enable(8),U.premultipliedAlpha&&c.enable(9),U.shadowMapEnabled&&c.enable(10),U.doubleSided&&c.enable(11),U.flipSided&&c.enable(12),U.useDepthPacking&&c.enable(13),U.dithering&&c.enable(14),U.transmission&&c.enable(15),U.sheen&&c.enable(16),U.opaque&&c.enable(17),U.pointsUvs&&c.enable(18),U.decodeVideoTexture&&c.enable(19),U.decodeVideoTextureEmissive&&c.enable(20),U.alphaToCoverage&&c.enable(21),O.push(c.mask)}function L(O){const U=b[O.type];let X;if(U){const K=Rl[U];X=ek.clone(K.uniforms)}else X=O.uniforms;return X}function I(O,U){let X;for(let K=0,ne=m.length;K<ne;K++){const oe=m[K];if(oe.cacheKey===U){X=oe,++X.usedTimes;break}}return X===void 0&&(X=new kq(i,U,O,s),m.push(X)),X}function z(O){if(--O.usedTimes===0){const U=m.indexOf(O);m[U]=m[m.length-1],m.pop(),O.destroy()}}function k(O){h.remove(O)}function F(){h.dispose()}return{getParameters:E,getProgramCacheKey:M,getUniforms:L,acquireProgram:I,releaseProgram:z,releaseShaderCache:k,programs:m,dispose:F}}function jq(){let i=new WeakMap;function e(o){return i.has(o)}function t(o){let c=i.get(o);return c===void 0&&(c={},i.set(o,c)),c}function n(o){i.delete(o)}function r(o,c,h){i.get(o)[c]=h}function s(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:s}}function Gq(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function QL(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function JL(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function o(g,_,x,b,T,E){let M=i[e];return M===void 0?(M={id:g.id,object:g,geometry:_,material:x,groupOrder:b,renderOrder:g.renderOrder,z:T,group:E},i[e]=M):(M.id=g.id,M.object=g,M.geometry=_,M.material=x,M.groupOrder=b,M.renderOrder=g.renderOrder,M.z=T,M.group=E),e++,M}function c(g,_,x,b,T,E){const M=o(g,_,x,b,T,E);x.transmission>0?n.push(M):x.transparent===!0?r.push(M):t.push(M)}function h(g,_,x,b,T,E){const M=o(g,_,x,b,T,E);x.transmission>0?n.unshift(M):x.transparent===!0?r.unshift(M):t.unshift(M)}function p(g,_){t.length>1&&t.sort(g||Gq),n.length>1&&n.sort(_||QL),r.length>1&&r.sort(_||QL)}function m(){for(let g=e,_=i.length;g<_;g++){const x=i[g];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:c,unshift:h,finish:m,sort:p}}function Wq(){let i=new WeakMap;function e(n,r){const s=i.get(n);let o;return s===void 0?(o=new JL,i.set(n,[o])):r>=s.length?(o=new JL,s.push(o)):o=s[r],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function Xq(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new Mt};break;case"SpotLight":t={position:new Q,direction:new Q,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":t={color:new Mt,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return i[e.id]=t,t}}}function qq(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let Yq=0;function Zq(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function $q(i){const e=new Xq,t=qq(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new Q);const r=new Q,s=new tn,o=new tn;function c(p){let m=0,g=0,_=0;for(let O=0;O<9;O++)n.probe[O].set(0,0,0);let x=0,b=0,T=0,E=0,M=0,R=0,D=0,L=0,I=0,z=0,k=0;p.sort(Zq);for(let O=0,U=p.length;O<U;O++){const X=p[O],K=X.color,ne=X.intensity,oe=X.distance,le=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)m+=K.r*ne,g+=K.g*ne,_+=K.b*ne;else if(X.isLightProbe){for(let q=0;q<9;q++)n.probe[q].addScaledVector(X.sh.coefficients[q],ne);k++}else if(X.isDirectionalLight){const q=e.get(X);if(q.color.copy(X.color).multiplyScalar(X.intensity),X.castShadow){const J=X.shadow,ie=t.get(X);ie.shadowIntensity=J.intensity,ie.shadowBias=J.bias,ie.shadowNormalBias=J.normalBias,ie.shadowRadius=J.radius,ie.shadowMapSize=J.mapSize,n.directionalShadow[x]=ie,n.directionalShadowMap[x]=le,n.directionalShadowMatrix[x]=X.shadow.matrix,R++}n.directional[x]=q,x++}else if(X.isSpotLight){const q=e.get(X);q.position.setFromMatrixPosition(X.matrixWorld),q.color.copy(K).multiplyScalar(ne),q.distance=oe,q.coneCos=Math.cos(X.angle),q.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),q.decay=X.decay,n.spot[T]=q;const J=X.shadow;if(X.map&&(n.spotLightMap[I]=X.map,I++,J.updateMatrices(X),X.castShadow&&z++),n.spotLightMatrix[T]=J.matrix,X.castShadow){const ie=t.get(X);ie.shadowIntensity=J.intensity,ie.shadowBias=J.bias,ie.shadowNormalBias=J.normalBias,ie.shadowRadius=J.radius,ie.shadowMapSize=J.mapSize,n.spotShadow[T]=ie,n.spotShadowMap[T]=le,L++}T++}else if(X.isRectAreaLight){const q=e.get(X);q.color.copy(K).multiplyScalar(ne),q.halfWidth.set(X.width*.5,0,0),q.halfHeight.set(0,X.height*.5,0),n.rectArea[E]=q,E++}else if(X.isPointLight){const q=e.get(X);if(q.color.copy(X.color).multiplyScalar(X.intensity),q.distance=X.distance,q.decay=X.decay,X.castShadow){const J=X.shadow,ie=t.get(X);ie.shadowIntensity=J.intensity,ie.shadowBias=J.bias,ie.shadowNormalBias=J.normalBias,ie.shadowRadius=J.radius,ie.shadowMapSize=J.mapSize,ie.shadowCameraNear=J.camera.near,ie.shadowCameraFar=J.camera.far,n.pointShadow[b]=ie,n.pointShadowMap[b]=le,n.pointShadowMatrix[b]=X.shadow.matrix,D++}n.point[b]=q,b++}else if(X.isHemisphereLight){const q=e.get(X);q.skyColor.copy(X.color).multiplyScalar(ne),q.groundColor.copy(X.groundColor).multiplyScalar(ne),n.hemi[M]=q,M++}}E>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=gt.LTC_FLOAT_1,n.rectAreaLTC2=gt.LTC_FLOAT_2):(n.rectAreaLTC1=gt.LTC_HALF_1,n.rectAreaLTC2=gt.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=g,n.ambient[2]=_;const F=n.hash;(F.directionalLength!==x||F.pointLength!==b||F.spotLength!==T||F.rectAreaLength!==E||F.hemiLength!==M||F.numDirectionalShadows!==R||F.numPointShadows!==D||F.numSpotShadows!==L||F.numSpotMaps!==I||F.numLightProbes!==k)&&(n.directional.length=x,n.spot.length=T,n.rectArea.length=E,n.point.length=b,n.hemi.length=M,n.directionalShadow.length=R,n.directionalShadowMap.length=R,n.pointShadow.length=D,n.pointShadowMap.length=D,n.spotShadow.length=L,n.spotShadowMap.length=L,n.directionalShadowMatrix.length=R,n.pointShadowMatrix.length=D,n.spotLightMatrix.length=L+I-z,n.spotLightMap.length=I,n.numSpotLightShadowsWithMaps=z,n.numLightProbes=k,F.directionalLength=x,F.pointLength=b,F.spotLength=T,F.rectAreaLength=E,F.hemiLength=M,F.numDirectionalShadows=R,F.numPointShadows=D,F.numSpotShadows=L,F.numSpotMaps=I,F.numLightProbes=k,n.version=Yq++)}function h(p,m){let g=0,_=0,x=0,b=0,T=0;const E=m.matrixWorldInverse;for(let M=0,R=p.length;M<R;M++){const D=p[M];if(D.isDirectionalLight){const L=n.directional[g];L.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(E),g++}else if(D.isSpotLight){const L=n.spot[x];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),L.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(E),x++}else if(D.isRectAreaLight){const L=n.rectArea[b];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),o.identity(),s.copy(D.matrixWorld),s.premultiply(E),o.extractRotation(s),L.halfWidth.set(D.width*.5,0,0),L.halfHeight.set(0,D.height*.5,0),L.halfWidth.applyMatrix4(o),L.halfHeight.applyMatrix4(o),b++}else if(D.isPointLight){const L=n.point[_];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),_++}else if(D.isHemisphereLight){const L=n.hemi[T];L.direction.setFromMatrixPosition(D.matrixWorld),L.direction.transformDirection(E),T++}}}return{setup:c,setupView:h,state:n}}function eP(i){const e=new $q(i),t=[],n=[];function r(m){p.camera=m,t.length=0,n.length=0}function s(m){t.push(m)}function o(m){n.push(m)}function c(){e.setup(t)}function h(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:p,setupLights:c,setupLightsView:h,pushLight:s,pushShadow:o}}function Kq(i){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let c;return o===void 0?(c=new eP(i),e.set(r,[c])):s>=o.length?(c=new eP(i),o.push(c)):c=o[s],c}function n(){e=new WeakMap}return{get:t,dispose:n}}const Qq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Jq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function eY(i,e,t){let n=new Dg;const r=new je,s=new je,o=new Yn,c=new RR({depthPacking:Fz}),h=new NR,p={},m=t.maxTextureSize,g={[Pu]:ha,[ha]:Pu,[xc]:xc},_=new Ul({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new je},radius:{value:4}},vertexShader:Qq,fragmentShader:Jq}),x=_.clone();x.defines.HORIZONTAL_PASS=1;const b=new yn;b.setAttribute("position",new vi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Rr(b,_),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=DM;let M=this.type;this.render=function(z,k,F){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||z.length===0)return;const O=i.getRenderTarget(),U=i.getActiveCubeFace(),X=i.getActiveMipmapLevel(),K=i.state;K.setBlending(Eu),K.buffers.depth.getReversed()===!0?K.buffers.color.setClear(0,0,0,0):K.buffers.color.setClear(1,1,1,1),K.buffers.depth.setTest(!0),K.setScissorTest(!1);const ne=M!==Cl&&this.type===Cl,oe=M===Cl&&this.type!==Cl;for(let le=0,q=z.length;le<q;le++){const J=z[le],ie=J.shadow;if(ie===void 0){console.warn("THREE.WebGLShadowMap:",J,"has no shadow.");continue}if(ie.autoUpdate===!1&&ie.needsUpdate===!1)continue;r.copy(ie.mapSize);const pe=ie.getFrameExtents();if(r.multiply(pe),s.copy(ie.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(s.x=Math.floor(m/pe.x),r.x=s.x*pe.x,ie.mapSize.x=s.x),r.y>m&&(s.y=Math.floor(m/pe.y),r.y=s.y*pe.y,ie.mapSize.y=s.y)),ie.map===null||ne===!0||oe===!0){const Y=this.type!==Cl?{minFilter:ps,magFilter:ps}:{};ie.map!==null&&ie.map.dispose(),ie.map=new Nc(r.x,r.y,Y),ie.map.texture.name=J.name+".shadowMap",ie.camera.updateProjectionMatrix()}i.setRenderTarget(ie.map),i.clear();const $=ie.getViewportCount();for(let Y=0;Y<$;Y++){const he=ie.getViewport(Y);o.set(s.x*he.x,s.y*he.y,s.x*he.z,s.y*he.w),K.viewport(o),ie.updateMatrices(J,Y),n=ie.getFrustum(),L(k,F,ie.camera,J,this.type)}ie.isPointLightShadow!==!0&&this.type===Cl&&R(ie,F),ie.needsUpdate=!1}M=this.type,E.needsUpdate=!1,i.setRenderTarget(O,U,X)};function R(z,k){const F=e.update(T);_.defines.VSM_SAMPLES!==z.blurSamples&&(_.defines.VSM_SAMPLES=z.blurSamples,x.defines.VSM_SAMPLES=z.blurSamples,_.needsUpdate=!0,x.needsUpdate=!0),z.mapPass===null&&(z.mapPass=new Nc(r.x,r.y)),_.uniforms.shadow_pass.value=z.map.texture,_.uniforms.resolution.value=z.mapSize,_.uniforms.radius.value=z.radius,i.setRenderTarget(z.mapPass),i.clear(),i.renderBufferDirect(k,null,F,_,T,null),x.uniforms.shadow_pass.value=z.mapPass.texture,x.uniforms.resolution.value=z.mapSize,x.uniforms.radius.value=z.radius,i.setRenderTarget(z.map),i.clear(),i.renderBufferDirect(k,null,F,x,T,null)}function D(z,k,F,O){let U=null;const X=F.isPointLight===!0?z.customDistanceMaterial:z.customDepthMaterial;if(X!==void 0)U=X;else if(U=F.isPointLight===!0?h:c,i.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0||k.alphaToCoverage===!0){const K=U.uuid,ne=k.uuid;let oe=p[K];oe===void 0&&(oe={},p[K]=oe);let le=oe[ne];le===void 0&&(le=U.clone(),oe[ne]=le,k.addEventListener("dispose",I)),U=le}if(U.visible=k.visible,U.wireframe=k.wireframe,O===Cl?U.side=k.shadowSide!==null?k.shadowSide:k.side:U.side=k.shadowSide!==null?k.shadowSide:g[k.side],U.alphaMap=k.alphaMap,U.alphaTest=k.alphaToCoverage===!0?.5:k.alphaTest,U.map=k.map,U.clipShadows=k.clipShadows,U.clippingPlanes=k.clippingPlanes,U.clipIntersection=k.clipIntersection,U.displacementMap=k.displacementMap,U.displacementScale=k.displacementScale,U.displacementBias=k.displacementBias,U.wireframeLinewidth=k.wireframeLinewidth,U.linewidth=k.linewidth,F.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const K=i.properties.get(U);K.light=F}return U}function L(z,k,F,O,U){if(z.visible===!1)return;if(z.layers.test(k.layers)&&(z.isMesh||z.isLine||z.isPoints)&&(z.castShadow||z.receiveShadow&&U===Cl)&&(!z.frustumCulled||n.intersectsObject(z))){z.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,z.matrixWorld);const ne=e.update(z),oe=z.material;if(Array.isArray(oe)){const le=ne.groups;for(let q=0,J=le.length;q<J;q++){const ie=le[q],pe=oe[ie.materialIndex];if(pe&&pe.visible){const $=D(z,pe,O,U);z.onBeforeShadow(i,z,k,F,ne,$,ie),i.renderBufferDirect(F,null,ne,$,z,ie),z.onAfterShadow(i,z,k,F,ne,$,ie)}}}else if(oe.visible){const le=D(z,oe,O,U);z.onBeforeShadow(i,z,k,F,ne,le,null),i.renderBufferDirect(F,null,ne,le,z,null),z.onAfterShadow(i,z,k,F,ne,le,null)}}const K=z.children;for(let ne=0,oe=K.length;ne<oe;ne++)L(K[ne],k,F,O,U)}function I(z){z.target.removeEventListener("dispose",I);for(const F in p){const O=p[F],U=z.target.uuid;U in O&&(O[U].dispose(),delete O[U])}}}const tY={[g1]:v1,[y1]:b1,[_1]:S1,[Xd]:x1,[v1]:g1,[b1]:y1,[S1]:_1,[x1]:Xd};function nY(i,e){function t(){let re=!1;const $e=new Yn;let et=null;const ct=new Yn(0,0,0,0);return{setMask:function(He){et!==He&&!re&&(i.colorMask(He,He,He,He),et=He)},setLocked:function(He){re=He},setClear:function(He,ze,mt,Ft,cn){cn===!0&&(He*=Ft,ze*=Ft,mt*=Ft),$e.set(He,ze,mt,Ft),ct.equals($e)===!1&&(i.clearColor(He,ze,mt,Ft),ct.copy($e))},reset:function(){re=!1,et=null,ct.set(-1,0,0,0)}}}function n(){let re=!1,$e=!1,et=null,ct=null,He=null;return{setReversed:function(ze){if($e!==ze){const mt=e.get("EXT_clip_control");ze?mt.clipControlEXT(mt.LOWER_LEFT_EXT,mt.ZERO_TO_ONE_EXT):mt.clipControlEXT(mt.LOWER_LEFT_EXT,mt.NEGATIVE_ONE_TO_ONE_EXT),$e=ze;const Ft=He;He=null,this.setClear(Ft)}},getReversed:function(){return $e},setTest:function(ze){ze?be(i.DEPTH_TEST):Ke(i.DEPTH_TEST)},setMask:function(ze){et!==ze&&!re&&(i.depthMask(ze),et=ze)},setFunc:function(ze){if($e&&(ze=tY[ze]),ct!==ze){switch(ze){case g1:i.depthFunc(i.NEVER);break;case v1:i.depthFunc(i.ALWAYS);break;case y1:i.depthFunc(i.LESS);break;case Xd:i.depthFunc(i.LEQUAL);break;case _1:i.depthFunc(i.EQUAL);break;case x1:i.depthFunc(i.GEQUAL);break;case b1:i.depthFunc(i.GREATER);break;case S1:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}ct=ze}},setLocked:function(ze){re=ze},setClear:function(ze){He!==ze&&($e&&(ze=1-ze),i.clearDepth(ze),He=ze)},reset:function(){re=!1,et=null,ct=null,He=null,$e=!1}}}function r(){let re=!1,$e=null,et=null,ct=null,He=null,ze=null,mt=null,Ft=null,cn=null;return{setTest:function(ht){re||(ht?be(i.STENCIL_TEST):Ke(i.STENCIL_TEST))},setMask:function(ht){$e!==ht&&!re&&(i.stencilMask(ht),$e=ht)},setFunc:function(ht,wt,Kt){(et!==ht||ct!==wt||He!==Kt)&&(i.stencilFunc(ht,wt,Kt),et=ht,ct=wt,He=Kt)},setOp:function(ht,wt,Kt){(ze!==ht||mt!==wt||Ft!==Kt)&&(i.stencilOp(ht,wt,Kt),ze=ht,mt=wt,Ft=Kt)},setLocked:function(ht){re=ht},setClear:function(ht){cn!==ht&&(i.clearStencil(ht),cn=ht)},reset:function(){re=!1,$e=null,et=null,ct=null,He=null,ze=null,mt=null,Ft=null,cn=null}}}const s=new t,o=new n,c=new r,h=new WeakMap,p=new WeakMap;let m={},g={},_=new WeakMap,x=[],b=null,T=!1,E=null,M=null,R=null,D=null,L=null,I=null,z=null,k=new Mt(0,0,0),F=0,O=!1,U=null,X=null,K=null,ne=null,oe=null;const le=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,J=0;const ie=i.getParameter(i.VERSION);ie.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(ie)[1]),q=J>=1):ie.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(ie)[1]),q=J>=2);let pe=null,$={};const Y=i.getParameter(i.SCISSOR_BOX),he=i.getParameter(i.VIEWPORT),De=new Yn().fromArray(Y),Le=new Yn().fromArray(he);function Ze(re,$e,et,ct){const He=new Uint8Array(4),ze=i.createTexture();i.bindTexture(re,ze),i.texParameteri(re,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(re,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let mt=0;mt<et;mt++)re===i.TEXTURE_3D||re===i.TEXTURE_2D_ARRAY?i.texImage3D($e,0,i.RGBA,1,1,ct,0,i.RGBA,i.UNSIGNED_BYTE,He):i.texImage2D($e+mt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,He);return ze}const me={};me[i.TEXTURE_2D]=Ze(i.TEXTURE_2D,i.TEXTURE_2D,1),me[i.TEXTURE_CUBE_MAP]=Ze(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),me[i.TEXTURE_2D_ARRAY]=Ze(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),me[i.TEXTURE_3D]=Ze(i.TEXTURE_3D,i.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),c.setClear(0),be(i.DEPTH_TEST),o.setFunc(Xd),Ne(!1),te(CA),be(i.CULL_FACE),Pe(Eu);function be(re){m[re]!==!0&&(i.enable(re),m[re]=!0)}function Ke(re){m[re]!==!1&&(i.disable(re),m[re]=!1)}function qe(re,$e){return g[re]!==$e?(i.bindFramebuffer(re,$e),g[re]=$e,re===i.DRAW_FRAMEBUFFER&&(g[i.FRAMEBUFFER]=$e),re===i.FRAMEBUFFER&&(g[i.DRAW_FRAMEBUFFER]=$e),!0):!1}function pt(re,$e){let et=x,ct=!1;if(re){et=_.get($e),et===void 0&&(et=[],_.set($e,et));const He=re.textures;if(et.length!==He.length||et[0]!==i.COLOR_ATTACHMENT0){for(let ze=0,mt=He.length;ze<mt;ze++)et[ze]=i.COLOR_ATTACHMENT0+ze;et.length=He.length,ct=!0}}else et[0]!==i.BACK&&(et[0]=i.BACK,ct=!0);ct&&i.drawBuffers(et)}function Ut(re){return b!==re?(i.useProgram(re),b=re,!0):!1}const Wt={[Ff]:i.FUNC_ADD,[uz]:i.FUNC_SUBTRACT,[fz]:i.FUNC_REVERSE_SUBTRACT};Wt[hz]=i.MIN,Wt[dz]=i.MAX;const ee={[pz]:i.ZERO,[mz]:i.ONE,[gz]:i.SRC_COLOR,[p1]:i.SRC_ALPHA,[Sz]:i.SRC_ALPHA_SATURATE,[xz]:i.DST_COLOR,[yz]:i.DST_ALPHA,[vz]:i.ONE_MINUS_SRC_COLOR,[m1]:i.ONE_MINUS_SRC_ALPHA,[bz]:i.ONE_MINUS_DST_COLOR,[_z]:i.ONE_MINUS_DST_ALPHA,[Mz]:i.CONSTANT_COLOR,[wz]:i.ONE_MINUS_CONSTANT_COLOR,[Ez]:i.CONSTANT_ALPHA,[Tz]:i.ONE_MINUS_CONSTANT_ALPHA};function Pe(re,$e,et,ct,He,ze,mt,Ft,cn,ht){if(re===Eu){T===!0&&(Ke(i.BLEND),T=!1);return}if(T===!1&&(be(i.BLEND),T=!0),re!==cz){if(re!==E||ht!==O){if((M!==Ff||L!==Ff)&&(i.blendEquation(i.FUNC_ADD),M=Ff,L=Ff),ht)switch(re){case kd:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case RA:i.blendFunc(i.ONE,i.ONE);break;case NA:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case DA:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case kd:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case RA:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case NA:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case DA:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}R=null,D=null,I=null,z=null,k.set(0,0,0),F=0,E=re,O=ht}return}He=He||$e,ze=ze||et,mt=mt||ct,($e!==M||He!==L)&&(i.blendEquationSeparate(Wt[$e],Wt[He]),M=$e,L=He),(et!==R||ct!==D||ze!==I||mt!==z)&&(i.blendFuncSeparate(ee[et],ee[ct],ee[ze],ee[mt]),R=et,D=ct,I=ze,z=mt),(Ft.equals(k)===!1||cn!==F)&&(i.blendColor(Ft.r,Ft.g,Ft.b,cn),k.copy(Ft),F=cn),E=re,O=!1}function Ie(re,$e){re.side===xc?Ke(i.CULL_FACE):be(i.CULL_FACE);let et=re.side===ha;$e&&(et=!et),Ne(et),re.blending===kd&&re.transparent===!1?Pe(Eu):Pe(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.blendColor,re.blendAlpha,re.premultipliedAlpha),o.setFunc(re.depthFunc),o.setTest(re.depthTest),o.setMask(re.depthWrite),s.setMask(re.colorWrite);const ct=re.stencilWrite;c.setTest(ct),ct&&(c.setMask(re.stencilWriteMask),c.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),c.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),Ge(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?be(i.SAMPLE_ALPHA_TO_COVERAGE):Ke(i.SAMPLE_ALPHA_TO_COVERAGE)}function Ne(re){U!==re&&(re?i.frontFace(i.CW):i.frontFace(i.CCW),U=re)}function te(re){re!==az?(be(i.CULL_FACE),re!==X&&(re===CA?i.cullFace(i.BACK):re===oz?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Ke(i.CULL_FACE),X=re}function Qe(re){re!==K&&(q&&i.lineWidth(re),K=re)}function Ge(re,$e,et){re?(be(i.POLYGON_OFFSET_FILL),(ne!==$e||oe!==et)&&(i.polygonOffset($e,et),ne=$e,oe=et)):Ke(i.POLYGON_OFFSET_FILL)}function Je(re){re?be(i.SCISSOR_TEST):Ke(i.SCISSOR_TEST)}function vt(re){re===void 0&&(re=i.TEXTURE0+le-1),pe!==re&&(i.activeTexture(re),pe=re)}function Rt(re,$e,et){et===void 0&&(pe===null?et=i.TEXTURE0+le-1:et=pe);let ct=$[et];ct===void 0&&(ct={type:void 0,texture:void 0},$[et]=ct),(ct.type!==re||ct.texture!==$e)&&(pe!==et&&(i.activeTexture(et),pe=et),i.bindTexture(re,$e||me[re]),ct.type=re,ct.texture=$e)}function Z(){const re=$[pe];re!==void 0&&re.type!==void 0&&(i.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function V(){try{i.compressedTexImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function de(){try{i.compressedTexImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ee(){try{i.texSubImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ue(){try{i.texSubImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Te(){try{i.compressedTexSubImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function lt(){try{i.compressedTexSubImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ye(){try{i.texStorage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function bt(){try{i.texStorage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ot(){try{i.texImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Xe(){try{i.texImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function nt(re){De.equals(re)===!1&&(i.scissor(re.x,re.y,re.z,re.w),De.copy(re))}function Et(re){Le.equals(re)===!1&&(i.viewport(re.x,re.y,re.z,re.w),Le.copy(re))}function ft(re,$e){let et=p.get($e);et===void 0&&(et=new WeakMap,p.set($e,et));let ct=et.get(re);ct===void 0&&(ct=i.getUniformBlockIndex($e,re.name),et.set(re,ct))}function st(re,$e){const ct=p.get($e).get(re);h.get($e)!==ct&&(i.uniformBlockBinding($e,ct,re.__bindingPointIndex),h.set($e,ct))}function Xt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),m={},pe=null,$={},g={},_=new WeakMap,x=[],b=null,T=!1,E=null,M=null,R=null,D=null,L=null,I=null,z=null,k=new Mt(0,0,0),F=0,O=!1,U=null,X=null,K=null,ne=null,oe=null,De.set(0,0,i.canvas.width,i.canvas.height),Le.set(0,0,i.canvas.width,i.canvas.height),s.reset(),o.reset(),c.reset()}return{buffers:{color:s,depth:o,stencil:c},enable:be,disable:Ke,bindFramebuffer:qe,drawBuffers:pt,useProgram:Ut,setBlending:Pe,setMaterial:Ie,setFlipSided:Ne,setCullFace:te,setLineWidth:Qe,setPolygonOffset:Ge,setScissorTest:Je,activeTexture:vt,bindTexture:Rt,unbindTexture:Z,compressedTexImage2D:V,compressedTexImage3D:de,texImage2D:ot,texImage3D:Xe,updateUBOMapping:ft,uniformBlockBinding:st,texStorage2D:Ye,texStorage3D:bt,texSubImage2D:Ee,texSubImage3D:Ue,compressedTexSubImage2D:Te,compressedTexSubImage3D:lt,scissor:nt,viewport:Et,reset:Xt}}function iY(i,e,t,n,r,s,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new je,m=new WeakMap;let g;const _=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(Z,V){return x?new OffscreenCanvas(Z,V):Hy("canvas")}function T(Z,V,de){let Ee=1;const Ue=Rt(Z);if((Ue.width>de||Ue.height>de)&&(Ee=de/Math.max(Ue.width,Ue.height)),Ee<1)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap||typeof VideoFrame<"u"&&Z instanceof VideoFrame){const Te=Math.floor(Ee*Ue.width),lt=Math.floor(Ee*Ue.height);g===void 0&&(g=b(Te,lt));const Ye=V?b(Te,lt):g;return Ye.width=Te,Ye.height=lt,Ye.getContext("2d").drawImage(Z,0,0,Te,lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+Te+"x"+lt+")."),Ye}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),Z;return Z}function E(Z){return Z.generateMipmaps}function M(Z){i.generateMipmap(Z)}function R(Z){return Z.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:Z.isWebGL3DRenderTarget?i.TEXTURE_3D:Z.isWebGLArrayRenderTarget||Z.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function D(Z,V,de,Ee,Ue=!1){if(Z!==null){if(i[Z]!==void 0)return i[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let Te=V;if(V===i.RED&&(de===i.FLOAT&&(Te=i.R32F),de===i.HALF_FLOAT&&(Te=i.R16F),de===i.UNSIGNED_BYTE&&(Te=i.R8)),V===i.RED_INTEGER&&(de===i.UNSIGNED_BYTE&&(Te=i.R8UI),de===i.UNSIGNED_SHORT&&(Te=i.R16UI),de===i.UNSIGNED_INT&&(Te=i.R32UI),de===i.BYTE&&(Te=i.R8I),de===i.SHORT&&(Te=i.R16I),de===i.INT&&(Te=i.R32I)),V===i.RG&&(de===i.FLOAT&&(Te=i.RG32F),de===i.HALF_FLOAT&&(Te=i.RG16F),de===i.UNSIGNED_BYTE&&(Te=i.RG8)),V===i.RG_INTEGER&&(de===i.UNSIGNED_BYTE&&(Te=i.RG8UI),de===i.UNSIGNED_SHORT&&(Te=i.RG16UI),de===i.UNSIGNED_INT&&(Te=i.RG32UI),de===i.BYTE&&(Te=i.RG8I),de===i.SHORT&&(Te=i.RG16I),de===i.INT&&(Te=i.RG32I)),V===i.RGB_INTEGER&&(de===i.UNSIGNED_BYTE&&(Te=i.RGB8UI),de===i.UNSIGNED_SHORT&&(Te=i.RGB16UI),de===i.UNSIGNED_INT&&(Te=i.RGB32UI),de===i.BYTE&&(Te=i.RGB8I),de===i.SHORT&&(Te=i.RGB16I),de===i.INT&&(Te=i.RGB32I)),V===i.RGBA_INTEGER&&(de===i.UNSIGNED_BYTE&&(Te=i.RGBA8UI),de===i.UNSIGNED_SHORT&&(Te=i.RGBA16UI),de===i.UNSIGNED_INT&&(Te=i.RGBA32UI),de===i.BYTE&&(Te=i.RGBA8I),de===i.SHORT&&(Te=i.RGBA16I),de===i.INT&&(Te=i.RGBA32I)),V===i.RGB&&(de===i.UNSIGNED_INT_5_9_9_9_REV&&(Te=i.RGB9_E5),de===i.UNSIGNED_INT_10F_11F_11F_REV&&(Te=i.R11F_G11F_B10F)),V===i.RGBA){const lt=Ue?Fy:Hn.getTransfer(Ee);de===i.FLOAT&&(Te=i.RGBA32F),de===i.HALF_FLOAT&&(Te=i.RGBA16F),de===i.UNSIGNED_BYTE&&(Te=lt===fi?i.SRGB8_ALPHA8:i.RGBA8),de===i.UNSIGNED_SHORT_4_4_4_4&&(Te=i.RGBA4),de===i.UNSIGNED_SHORT_5_5_5_1&&(Te=i.RGB5_A1)}return(Te===i.R16F||Te===i.R32F||Te===i.RG16F||Te===i.RG32F||Te===i.RGBA16F||Te===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Te}function L(Z,V){let de;return Z?V===null||V===Ou||V===pg?de=i.DEPTH24_STENCIL8:V===Ba?de=i.DEPTH32F_STENCIL8:V===dg&&(de=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===Ou||V===pg?de=i.DEPTH_COMPONENT24:V===Ba?de=i.DEPTH_COMPONENT32F:V===dg&&(de=i.DEPTH_COMPONENT16),de}function I(Z,V){return E(Z)===!0||Z.isFramebufferTexture&&Z.minFilter!==ps&&Z.minFilter!==Fr?Math.log2(Math.max(V.width,V.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?V.mipmaps.length:1}function z(Z){const V=Z.target;V.removeEventListener("dispose",z),F(V),V.isVideoTexture&&m.delete(V)}function k(Z){const V=Z.target;V.removeEventListener("dispose",k),U(V)}function F(Z){const V=n.get(Z);if(V.__webglInit===void 0)return;const de=Z.source,Ee=_.get(de);if(Ee){const Ue=Ee[V.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&O(Z),Object.keys(Ee).length===0&&_.delete(de)}n.remove(Z)}function O(Z){const V=n.get(Z);i.deleteTexture(V.__webglTexture);const de=Z.source,Ee=_.get(de);delete Ee[V.__cacheKey],o.memory.textures--}function U(Z){const V=n.get(Z);if(Z.depthTexture&&(Z.depthTexture.dispose(),n.remove(Z.depthTexture)),Z.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++){if(Array.isArray(V.__webglFramebuffer[Ee]))for(let Ue=0;Ue<V.__webglFramebuffer[Ee].length;Ue++)i.deleteFramebuffer(V.__webglFramebuffer[Ee][Ue]);else i.deleteFramebuffer(V.__webglFramebuffer[Ee]);V.__webglDepthbuffer&&i.deleteRenderbuffer(V.__webglDepthbuffer[Ee])}else{if(Array.isArray(V.__webglFramebuffer))for(let Ee=0;Ee<V.__webglFramebuffer.length;Ee++)i.deleteFramebuffer(V.__webglFramebuffer[Ee]);else i.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&i.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&i.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let Ee=0;Ee<V.__webglColorRenderbuffer.length;Ee++)V.__webglColorRenderbuffer[Ee]&&i.deleteRenderbuffer(V.__webglColorRenderbuffer[Ee]);V.__webglDepthRenderbuffer&&i.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const de=Z.textures;for(let Ee=0,Ue=de.length;Ee<Ue;Ee++){const Te=n.get(de[Ee]);Te.__webglTexture&&(i.deleteTexture(Te.__webglTexture),o.memory.textures--),n.remove(de[Ee])}n.remove(Z)}let X=0;function K(){X=0}function ne(){const Z=X;return Z>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+r.maxTextures),X+=1,Z}function oe(Z){const V=[];return V.push(Z.wrapS),V.push(Z.wrapT),V.push(Z.wrapR||0),V.push(Z.magFilter),V.push(Z.minFilter),V.push(Z.anisotropy),V.push(Z.internalFormat),V.push(Z.format),V.push(Z.type),V.push(Z.generateMipmaps),V.push(Z.premultiplyAlpha),V.push(Z.flipY),V.push(Z.unpackAlignment),V.push(Z.colorSpace),V.join()}function le(Z,V){const de=n.get(Z);if(Z.isVideoTexture&&Je(Z),Z.isRenderTargetTexture===!1&&Z.isExternalTexture!==!0&&Z.version>0&&de.__version!==Z.version){const Ee=Z.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{me(de,Z,V);return}}else Z.isExternalTexture&&(de.__webglTexture=Z.sourceTexture?Z.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,de.__webglTexture,i.TEXTURE0+V)}function q(Z,V){const de=n.get(Z);if(Z.isRenderTargetTexture===!1&&Z.version>0&&de.__version!==Z.version){me(de,Z,V);return}t.bindTexture(i.TEXTURE_2D_ARRAY,de.__webglTexture,i.TEXTURE0+V)}function J(Z,V){const de=n.get(Z);if(Z.isRenderTargetTexture===!1&&Z.version>0&&de.__version!==Z.version){me(de,Z,V);return}t.bindTexture(i.TEXTURE_3D,de.__webglTexture,i.TEXTURE0+V)}function ie(Z,V){const de=n.get(Z);if(Z.version>0&&de.__version!==Z.version){be(de,Z,V);return}t.bindTexture(i.TEXTURE_CUBE_MAP,de.__webglTexture,i.TEXTURE0+V)}const pe={[Uy]:i.REPEAT,[Ko]:i.CLAMP_TO_EDGE,[zy]:i.MIRRORED_REPEAT},$={[ps]:i.NEAREST,[nR]:i.NEAREST_MIPMAP_NEAREST,[Hm]:i.NEAREST_MIPMAP_LINEAR,[Fr]:i.LINEAR,[oy]:i.LINEAR_MIPMAP_NEAREST,[Mc]:i.LINEAR_MIPMAP_LINEAR},Y={[Hz]:i.NEVER,[Yz]:i.ALWAYS,[jz]:i.LESS,[fR]:i.LEQUAL,[Gz]:i.EQUAL,[qz]:i.GEQUAL,[Wz]:i.GREATER,[Xz]:i.NOTEQUAL};function he(Z,V){if(V.type===Ba&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===Fr||V.magFilter===oy||V.magFilter===Hm||V.magFilter===Mc||V.minFilter===Fr||V.minFilter===oy||V.minFilter===Hm||V.minFilter===Mc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(Z,i.TEXTURE_WRAP_S,pe[V.wrapS]),i.texParameteri(Z,i.TEXTURE_WRAP_T,pe[V.wrapT]),(Z===i.TEXTURE_3D||Z===i.TEXTURE_2D_ARRAY)&&i.texParameteri(Z,i.TEXTURE_WRAP_R,pe[V.wrapR]),i.texParameteri(Z,i.TEXTURE_MAG_FILTER,$[V.magFilter]),i.texParameteri(Z,i.TEXTURE_MIN_FILTER,$[V.minFilter]),V.compareFunction&&(i.texParameteri(Z,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(Z,i.TEXTURE_COMPARE_FUNC,Y[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===ps||V.minFilter!==Hm&&V.minFilter!==Mc||V.type===Ba&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||n.get(V).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");i.texParameterf(Z,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,r.getMaxAnisotropy())),n.get(V).__currentAnisotropy=V.anisotropy}}}function De(Z,V){let de=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,V.addEventListener("dispose",z));const Ee=V.source;let Ue=_.get(Ee);Ue===void 0&&(Ue={},_.set(Ee,Ue));const Te=oe(V);if(Te!==Z.__cacheKey){Ue[Te]===void 0&&(Ue[Te]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,de=!0),Ue[Te].usedTimes++;const lt=Ue[Z.__cacheKey];lt!==void 0&&(Ue[Z.__cacheKey].usedTimes--,lt.usedTimes===0&&O(V)),Z.__cacheKey=Te,Z.__webglTexture=Ue[Te].texture}return de}function Le(Z,V,de){return Math.floor(Math.floor(Z/de)/V)}function Ze(Z,V,de,Ee){const Te=Z.updateRanges;if(Te.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,V.width,V.height,de,Ee,V.data);else{Te.sort((Xe,nt)=>Xe.start-nt.start);let lt=0;for(let Xe=1;Xe<Te.length;Xe++){const nt=Te[lt],Et=Te[Xe],ft=nt.start+nt.count,st=Le(Et.start,V.width,4),Xt=Le(nt.start,V.width,4);Et.start<=ft+1&&st===Xt&&Le(Et.start+Et.count-1,V.width,4)===st?nt.count=Math.max(nt.count,Et.start+Et.count-nt.start):(++lt,Te[lt]=Et)}Te.length=lt+1;const Ye=i.getParameter(i.UNPACK_ROW_LENGTH),bt=i.getParameter(i.UNPACK_SKIP_PIXELS),ot=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,V.width);for(let Xe=0,nt=Te.length;Xe<nt;Xe++){const Et=Te[Xe],ft=Math.floor(Et.start/4),st=Math.ceil(Et.count/4),Xt=ft%V.width,re=Math.floor(ft/V.width),$e=st,et=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,Xt),i.pixelStorei(i.UNPACK_SKIP_ROWS,re),t.texSubImage2D(i.TEXTURE_2D,0,Xt,re,$e,et,de,Ee,V.data)}Z.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,Ye),i.pixelStorei(i.UNPACK_SKIP_PIXELS,bt),i.pixelStorei(i.UNPACK_SKIP_ROWS,ot)}}function me(Z,V,de){let Ee=i.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(Ee=i.TEXTURE_2D_ARRAY),V.isData3DTexture&&(Ee=i.TEXTURE_3D);const Ue=De(Z,V),Te=V.source;t.bindTexture(Ee,Z.__webglTexture,i.TEXTURE0+de);const lt=n.get(Te);if(Te.version!==lt.__version||Ue===!0){t.activeTexture(i.TEXTURE0+de);const Ye=Hn.getPrimaries(Hn.workingColorSpace),bt=V.colorSpace===_u?null:Hn.getPrimaries(V.colorSpace),ot=V.colorSpace===_u||Ye===bt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,V.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,V.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);let Xe=T(V.image,!1,r.maxTextureSize);Xe=vt(V,Xe);const nt=s.convert(V.format,V.colorSpace),Et=s.convert(V.type);let ft=D(V.internalFormat,nt,Et,V.colorSpace,V.isVideoTexture);he(Ee,V);let st;const Xt=V.mipmaps,re=V.isVideoTexture!==!0,$e=lt.__version===void 0||Ue===!0,et=Te.dataReady,ct=I(V,Xe);if(V.isDepthTexture)ft=L(V.format===gg,V.type),$e&&(re?t.texStorage2D(i.TEXTURE_2D,1,ft,Xe.width,Xe.height):t.texImage2D(i.TEXTURE_2D,0,ft,Xe.width,Xe.height,0,nt,Et,null));else if(V.isDataTexture)if(Xt.length>0){re&&$e&&t.texStorage2D(i.TEXTURE_2D,ct,ft,Xt[0].width,Xt[0].height);for(let He=0,ze=Xt.length;He<ze;He++)st=Xt[He],re?et&&t.texSubImage2D(i.TEXTURE_2D,He,0,0,st.width,st.height,nt,Et,st.data):t.texImage2D(i.TEXTURE_2D,He,ft,st.width,st.height,0,nt,Et,st.data);V.generateMipmaps=!1}else re?($e&&t.texStorage2D(i.TEXTURE_2D,ct,ft,Xe.width,Xe.height),et&&Ze(V,Xe,nt,Et)):t.texImage2D(i.TEXTURE_2D,0,ft,Xe.width,Xe.height,0,nt,Et,Xe.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){re&&$e&&t.texStorage3D(i.TEXTURE_2D_ARRAY,ct,ft,Xt[0].width,Xt[0].height,Xe.depth);for(let He=0,ze=Xt.length;He<ze;He++)if(st=Xt[He],V.format!==Us)if(nt!==null)if(re){if(et)if(V.layerUpdates.size>0){const mt=VA(st.width,st.height,V.format,V.type);for(const Ft of V.layerUpdates){const cn=st.data.subarray(Ft*mt/st.data.BYTES_PER_ELEMENT,(Ft+1)*mt/st.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,He,0,0,Ft,st.width,st.height,1,nt,cn)}V.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,He,0,0,0,st.width,st.height,Xe.depth,nt,st.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,He,ft,st.width,st.height,Xe.depth,0,st.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else re?et&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,He,0,0,0,st.width,st.height,Xe.depth,nt,Et,st.data):t.texImage3D(i.TEXTURE_2D_ARRAY,He,ft,st.width,st.height,Xe.depth,0,nt,Et,st.data)}else{re&&$e&&t.texStorage2D(i.TEXTURE_2D,ct,ft,Xt[0].width,Xt[0].height);for(let He=0,ze=Xt.length;He<ze;He++)st=Xt[He],V.format!==Us?nt!==null?re?et&&t.compressedTexSubImage2D(i.TEXTURE_2D,He,0,0,st.width,st.height,nt,st.data):t.compressedTexImage2D(i.TEXTURE_2D,He,ft,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):re?et&&t.texSubImage2D(i.TEXTURE_2D,He,0,0,st.width,st.height,nt,Et,st.data):t.texImage2D(i.TEXTURE_2D,He,ft,st.width,st.height,0,nt,Et,st.data)}else if(V.isDataArrayTexture)if(re){if($e&&t.texStorage3D(i.TEXTURE_2D_ARRAY,ct,ft,Xe.width,Xe.height,Xe.depth),et)if(V.layerUpdates.size>0){const He=VA(Xe.width,Xe.height,V.format,V.type);for(const ze of V.layerUpdates){const mt=Xe.data.subarray(ze*He/Xe.data.BYTES_PER_ELEMENT,(ze+1)*He/Xe.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,ze,Xe.width,Xe.height,1,nt,Et,mt)}V.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,nt,Et,Xe.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,ft,Xe.width,Xe.height,Xe.depth,0,nt,Et,Xe.data);else if(V.isData3DTexture)re?($e&&t.texStorage3D(i.TEXTURE_3D,ct,ft,Xe.width,Xe.height,Xe.depth),et&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,nt,Et,Xe.data)):t.texImage3D(i.TEXTURE_3D,0,ft,Xe.width,Xe.height,Xe.depth,0,nt,Et,Xe.data);else if(V.isFramebufferTexture){if($e)if(re)t.texStorage2D(i.TEXTURE_2D,ct,ft,Xe.width,Xe.height);else{let He=Xe.width,ze=Xe.height;for(let mt=0;mt<ct;mt++)t.texImage2D(i.TEXTURE_2D,mt,ft,He,ze,0,nt,Et,null),He>>=1,ze>>=1}}else if(Xt.length>0){if(re&&$e){const He=Rt(Xt[0]);t.texStorage2D(i.TEXTURE_2D,ct,ft,He.width,He.height)}for(let He=0,ze=Xt.length;He<ze;He++)st=Xt[He],re?et&&t.texSubImage2D(i.TEXTURE_2D,He,0,0,nt,Et,st):t.texImage2D(i.TEXTURE_2D,He,ft,nt,Et,st);V.generateMipmaps=!1}else if(re){if($e){const He=Rt(Xe);t.texStorage2D(i.TEXTURE_2D,ct,ft,He.width,He.height)}et&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,nt,Et,Xe)}else t.texImage2D(i.TEXTURE_2D,0,ft,nt,Et,Xe);E(V)&&M(Ee),lt.__version=Te.version,V.onUpdate&&V.onUpdate(V)}Z.__version=V.version}function be(Z,V,de){if(V.image.length!==6)return;const Ee=De(Z,V),Ue=V.source;t.bindTexture(i.TEXTURE_CUBE_MAP,Z.__webglTexture,i.TEXTURE0+de);const Te=n.get(Ue);if(Ue.version!==Te.__version||Ee===!0){t.activeTexture(i.TEXTURE0+de);const lt=Hn.getPrimaries(Hn.workingColorSpace),Ye=V.colorSpace===_u?null:Hn.getPrimaries(V.colorSpace),bt=V.colorSpace===_u||lt===Ye?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,V.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,V.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);const ot=V.isCompressedTexture||V.image[0].isCompressedTexture,Xe=V.image[0]&&V.image[0].isDataTexture,nt=[];for(let ze=0;ze<6;ze++)!ot&&!Xe?nt[ze]=T(V.image[ze],!0,r.maxCubemapSize):nt[ze]=Xe?V.image[ze].image:V.image[ze],nt[ze]=vt(V,nt[ze]);const Et=nt[0],ft=s.convert(V.format,V.colorSpace),st=s.convert(V.type),Xt=D(V.internalFormat,ft,st,V.colorSpace),re=V.isVideoTexture!==!0,$e=Te.__version===void 0||Ee===!0,et=Ue.dataReady;let ct=I(V,Et);he(i.TEXTURE_CUBE_MAP,V);let He;if(ot){re&&$e&&t.texStorage2D(i.TEXTURE_CUBE_MAP,ct,Xt,Et.width,Et.height);for(let ze=0;ze<6;ze++){He=nt[ze].mipmaps;for(let mt=0;mt<He.length;mt++){const Ft=He[mt];V.format!==Us?ft!==null?re?et&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,mt,0,0,Ft.width,Ft.height,ft,Ft.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,mt,Xt,Ft.width,Ft.height,0,Ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):re?et&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,mt,0,0,Ft.width,Ft.height,ft,st,Ft.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,mt,Xt,Ft.width,Ft.height,0,ft,st,Ft.data)}}}else{if(He=V.mipmaps,re&&$e){He.length>0&&ct++;const ze=Rt(nt[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,ct,Xt,ze.width,ze.height)}for(let ze=0;ze<6;ze++)if(Xe){re?et&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,nt[ze].width,nt[ze].height,ft,st,nt[ze].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,Xt,nt[ze].width,nt[ze].height,0,ft,st,nt[ze].data);for(let mt=0;mt<He.length;mt++){const cn=He[mt].image[ze].image;re?et&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,mt+1,0,0,cn.width,cn.height,ft,st,cn.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,mt+1,Xt,cn.width,cn.height,0,ft,st,cn.data)}}else{re?et&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,ft,st,nt[ze]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,Xt,ft,st,nt[ze]);for(let mt=0;mt<He.length;mt++){const Ft=He[mt];re?et&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,mt+1,0,0,ft,st,Ft.image[ze]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ze,mt+1,Xt,ft,st,Ft.image[ze])}}}E(V)&&M(i.TEXTURE_CUBE_MAP),Te.__version=Ue.version,V.onUpdate&&V.onUpdate(V)}Z.__version=V.version}function Ke(Z,V,de,Ee,Ue,Te){const lt=s.convert(de.format,de.colorSpace),Ye=s.convert(de.type),bt=D(de.internalFormat,lt,Ye,de.colorSpace),ot=n.get(V),Xe=n.get(de);if(Xe.__renderTarget=V,!ot.__hasExternalTextures){const nt=Math.max(1,V.width>>Te),Et=Math.max(1,V.height>>Te);Ue===i.TEXTURE_3D||Ue===i.TEXTURE_2D_ARRAY?t.texImage3D(Ue,Te,bt,nt,Et,V.depth,0,lt,Ye,null):t.texImage2D(Ue,Te,bt,nt,Et,0,lt,Ye,null)}t.bindFramebuffer(i.FRAMEBUFFER,Z),Ge(V)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ee,Ue,Xe.__webglTexture,0,Qe(V)):(Ue===i.TEXTURE_2D||Ue>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Ee,Ue,Xe.__webglTexture,Te),t.bindFramebuffer(i.FRAMEBUFFER,null)}function qe(Z,V,de){if(i.bindRenderbuffer(i.RENDERBUFFER,Z),V.depthBuffer){const Ee=V.depthTexture,Ue=Ee&&Ee.isDepthTexture?Ee.type:null,Te=L(V.stencilBuffer,Ue),lt=V.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ye=Qe(V);Ge(V)?c.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Ye,Te,V.width,V.height):de?i.renderbufferStorageMultisample(i.RENDERBUFFER,Ye,Te,V.width,V.height):i.renderbufferStorage(i.RENDERBUFFER,Te,V.width,V.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,lt,i.RENDERBUFFER,Z)}else{const Ee=V.textures;for(let Ue=0;Ue<Ee.length;Ue++){const Te=Ee[Ue],lt=s.convert(Te.format,Te.colorSpace),Ye=s.convert(Te.type),bt=D(Te.internalFormat,lt,Ye,Te.colorSpace),ot=Qe(V);de&&Ge(V)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,ot,bt,V.width,V.height):Ge(V)?c.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ot,bt,V.width,V.height):i.renderbufferStorage(i.RENDERBUFFER,bt,V.width,V.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function pt(Z,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,Z),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ee=n.get(V.depthTexture);Ee.__renderTarget=V,(!Ee.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),le(V.depthTexture,0);const Ue=Ee.__webglTexture,Te=Qe(V);if(V.depthTexture.format===mg)Ge(V)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ue,0,Te):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ue,0);else if(V.depthTexture.format===gg)Ge(V)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ue,0,Te):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ue,0);else throw new Error("Unknown depthTexture format")}function Ut(Z){const V=n.get(Z),de=Z.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==Z.depthTexture){const Ee=Z.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),Ee){const Ue=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,Ee.removeEventListener("dispose",Ue)};Ee.addEventListener("dispose",Ue),V.__depthDisposeCallback=Ue}V.__boundDepthTexture=Ee}if(Z.depthTexture&&!V.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");const Ee=Z.texture.mipmaps;Ee&&Ee.length>0?pt(V.__webglFramebuffer[0],Z):pt(V.__webglFramebuffer,Z)}else if(de){V.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)if(t.bindFramebuffer(i.FRAMEBUFFER,V.__webglFramebuffer[Ee]),V.__webglDepthbuffer[Ee]===void 0)V.__webglDepthbuffer[Ee]=i.createRenderbuffer(),qe(V.__webglDepthbuffer[Ee],Z,!1);else{const Ue=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Te=V.__webglDepthbuffer[Ee];i.bindRenderbuffer(i.RENDERBUFFER,Te),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ue,i.RENDERBUFFER,Te)}}else{const Ee=Z.texture.mipmaps;if(Ee&&Ee.length>0?t.bindFramebuffer(i.FRAMEBUFFER,V.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=i.createRenderbuffer(),qe(V.__webglDepthbuffer,Z,!1);else{const Ue=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Te=V.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Te),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ue,i.RENDERBUFFER,Te)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function Wt(Z,V,de){const Ee=n.get(Z);V!==void 0&&Ke(Ee.__webglFramebuffer,Z,Z.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),de!==void 0&&Ut(Z)}function ee(Z){const V=Z.texture,de=n.get(Z),Ee=n.get(V);Z.addEventListener("dispose",k);const Ue=Z.textures,Te=Z.isWebGLCubeRenderTarget===!0,lt=Ue.length>1;if(lt||(Ee.__webglTexture===void 0&&(Ee.__webglTexture=i.createTexture()),Ee.__version=V.version,o.memory.textures++),Te){de.__webglFramebuffer=[];for(let Ye=0;Ye<6;Ye++)if(V.mipmaps&&V.mipmaps.length>0){de.__webglFramebuffer[Ye]=[];for(let bt=0;bt<V.mipmaps.length;bt++)de.__webglFramebuffer[Ye][bt]=i.createFramebuffer()}else de.__webglFramebuffer[Ye]=i.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){de.__webglFramebuffer=[];for(let Ye=0;Ye<V.mipmaps.length;Ye++)de.__webglFramebuffer[Ye]=i.createFramebuffer()}else de.__webglFramebuffer=i.createFramebuffer();if(lt)for(let Ye=0,bt=Ue.length;Ye<bt;Ye++){const ot=n.get(Ue[Ye]);ot.__webglTexture===void 0&&(ot.__webglTexture=i.createTexture(),o.memory.textures++)}if(Z.samples>0&&Ge(Z)===!1){de.__webglMultisampledFramebuffer=i.createFramebuffer(),de.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let Ye=0;Ye<Ue.length;Ye++){const bt=Ue[Ye];de.__webglColorRenderbuffer[Ye]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,de.__webglColorRenderbuffer[Ye]);const ot=s.convert(bt.format,bt.colorSpace),Xe=s.convert(bt.type),nt=D(bt.internalFormat,ot,Xe,bt.colorSpace,Z.isXRRenderTarget===!0),Et=Qe(Z);i.renderbufferStorageMultisample(i.RENDERBUFFER,Et,nt,Z.width,Z.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Ye,i.RENDERBUFFER,de.__webglColorRenderbuffer[Ye])}i.bindRenderbuffer(i.RENDERBUFFER,null),Z.depthBuffer&&(de.__webglDepthRenderbuffer=i.createRenderbuffer(),qe(de.__webglDepthRenderbuffer,Z,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Te){t.bindTexture(i.TEXTURE_CUBE_MAP,Ee.__webglTexture),he(i.TEXTURE_CUBE_MAP,V);for(let Ye=0;Ye<6;Ye++)if(V.mipmaps&&V.mipmaps.length>0)for(let bt=0;bt<V.mipmaps.length;bt++)Ke(de.__webglFramebuffer[Ye][bt],Z,V,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,bt);else Ke(de.__webglFramebuffer[Ye],Z,V,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0);E(V)&&M(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(lt){for(let Ye=0,bt=Ue.length;Ye<bt;Ye++){const ot=Ue[Ye],Xe=n.get(ot);let nt=i.TEXTURE_2D;(Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(nt=Z.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(nt,Xe.__webglTexture),he(nt,ot),Ke(de.__webglFramebuffer,Z,ot,i.COLOR_ATTACHMENT0+Ye,nt,0),E(ot)&&M(nt)}t.unbindTexture()}else{let Ye=i.TEXTURE_2D;if((Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(Ye=Z.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(Ye,Ee.__webglTexture),he(Ye,V),V.mipmaps&&V.mipmaps.length>0)for(let bt=0;bt<V.mipmaps.length;bt++)Ke(de.__webglFramebuffer[bt],Z,V,i.COLOR_ATTACHMENT0,Ye,bt);else Ke(de.__webglFramebuffer,Z,V,i.COLOR_ATTACHMENT0,Ye,0);E(V)&&M(Ye),t.unbindTexture()}Z.depthBuffer&&Ut(Z)}function Pe(Z){const V=Z.textures;for(let de=0,Ee=V.length;de<Ee;de++){const Ue=V[de];if(E(Ue)){const Te=R(Z),lt=n.get(Ue).__webglTexture;t.bindTexture(Te,lt),M(Te),t.unbindTexture()}}}const Ie=[],Ne=[];function te(Z){if(Z.samples>0){if(Ge(Z)===!1){const V=Z.textures,de=Z.width,Ee=Z.height;let Ue=i.COLOR_BUFFER_BIT;const Te=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,lt=n.get(Z),Ye=V.length>1;if(Ye)for(let ot=0;ot<V.length;ot++)t.bindFramebuffer(i.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ot,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,lt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ot,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,lt.__webglMultisampledFramebuffer);const bt=Z.texture.mipmaps;bt&&bt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,lt.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,lt.__webglFramebuffer);for(let ot=0;ot<V.length;ot++){if(Z.resolveDepthBuffer&&(Z.depthBuffer&&(Ue|=i.DEPTH_BUFFER_BIT),Z.stencilBuffer&&Z.resolveStencilBuffer&&(Ue|=i.STENCIL_BUFFER_BIT)),Ye){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,lt.__webglColorRenderbuffer[ot]);const Xe=n.get(V[ot]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Xe,0)}i.blitFramebuffer(0,0,de,Ee,0,0,de,Ee,Ue,i.NEAREST),h===!0&&(Ie.length=0,Ne.length=0,Ie.push(i.COLOR_ATTACHMENT0+ot),Z.depthBuffer&&Z.resolveDepthBuffer===!1&&(Ie.push(Te),Ne.push(Te),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Ne)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Ie))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Ye)for(let ot=0;ot<V.length;ot++){t.bindFramebuffer(i.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ot,i.RENDERBUFFER,lt.__webglColorRenderbuffer[ot]);const Xe=n.get(V[ot]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,lt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ot,i.TEXTURE_2D,Xe,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,lt.__webglMultisampledFramebuffer)}else if(Z.depthBuffer&&Z.resolveDepthBuffer===!1&&h){const V=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[V])}}}function Qe(Z){return Math.min(r.maxSamples,Z.samples)}function Ge(Z){const V=n.get(Z);return Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Je(Z){const V=o.render.frame;m.get(Z)!==V&&(m.set(Z,V),Z.update())}function vt(Z,V){const de=Z.colorSpace,Ee=Z.format,Ue=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||de!==rh&&de!==_u&&(Hn.getTransfer(de)===fi?(Ee!==Us||Ue!==el)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",de)),V}function Rt(Z){return typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement?(p.width=Z.naturalWidth||Z.width,p.height=Z.naturalHeight||Z.height):typeof VideoFrame<"u"&&Z instanceof VideoFrame?(p.width=Z.displayWidth,p.height=Z.displayHeight):(p.width=Z.width,p.height=Z.height),p}this.allocateTextureUnit=ne,this.resetTextureUnits=K,this.setTexture2D=le,this.setTexture2DArray=q,this.setTexture3D=J,this.setTextureCube=ie,this.rebindTextures=Wt,this.setupRenderTarget=ee,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=te,this.setupDepthRenderbuffer=Ut,this.setupFrameBufferTexture=Ke,this.useMultisampledRTT=Ge}function rB(i,e){function t(n,r=_u){let s;const o=Hn.getTransfer(r);if(n===el)return i.UNSIGNED_BYTE;if(n===IM)return i.UNSIGNED_SHORT_4_4_4_4;if(n===OM)return i.UNSIGNED_SHORT_5_5_5_1;if(n===sR)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===aR)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===iR)return i.BYTE;if(n===rR)return i.SHORT;if(n===dg)return i.UNSIGNED_SHORT;if(n===PM)return i.INT;if(n===Ou)return i.UNSIGNED_INT;if(n===Ba)return i.FLOAT;if(n===Rg)return i.HALF_FLOAT;if(n===oR)return i.ALPHA;if(n===lR)return i.RGB;if(n===Us)return i.RGBA;if(n===mg)return i.DEPTH_COMPONENT;if(n===gg)return i.DEPTH_STENCIL;if(n===UM)return i.RED;if(n===c_)return i.RED_INTEGER;if(n===cR)return i.RG;if(n===zM)return i.RG_INTEGER;if(n===kM)return i.RGBA_INTEGER;if(n===ly||n===cy||n===uy||n===fy)if(o===fi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===ly)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===cy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===uy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===fy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===ly)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===cy)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===uy)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===fy)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===M1||n===w1||n===E1||n===T1)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===M1)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===w1)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===E1)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===T1)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===A1||n===C1||n===R1)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===A1||n===C1)return o===fi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===R1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===N1||n===D1||n===L1||n===P1||n===I1||n===O1||n===U1||n===z1||n===k1||n===B1||n===F1||n===V1||n===H1||n===j1)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===N1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===D1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===L1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===P1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===I1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===O1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===U1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===z1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===k1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===B1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===F1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===V1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===H1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===j1)return o===fi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===G1||n===W1||n===X1)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===G1)return o===fi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===W1)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===X1)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===q1||n===Y1||n===Z1||n===$1)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===q1)return s.COMPRESSED_RED_RGTC1_EXT;if(n===Y1)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Z1)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===$1)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===pg?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const rY=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,sY=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class aY{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new bR(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Ul({vertexShader:rY,fragmentShader:sY,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Rr(new Lg(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class oY extends Dc{constructor(e,t){super();const n=this;let r=null,s=1,o=null,c="local-floor",h=1,p=null,m=null,g=null,_=null,x=null,b=null;const T=typeof XRWebGLBinding<"u",E=new aY,M={},R=t.getContextAttributes();let D=null,L=null;const I=[],z=[],k=new je;let F=null;const O=new Qr;O.viewport=new Yn;const U=new Qr;U.viewport=new Yn;const X=[O,U],K=new qk;let ne=null,oe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let be=I[me];return be===void 0&&(be=new zS,I[me]=be),be.getTargetRaySpace()},this.getControllerGrip=function(me){let be=I[me];return be===void 0&&(be=new zS,I[me]=be),be.getGripSpace()},this.getHand=function(me){let be=I[me];return be===void 0&&(be=new zS,I[me]=be),be.getHandSpace()};function le(me){const be=z.indexOf(me.inputSource);if(be===-1)return;const Ke=I[be];Ke!==void 0&&(Ke.update(me.inputSource,me.frame,p||o),Ke.dispatchEvent({type:me.type,data:me.inputSource}))}function q(){r.removeEventListener("select",le),r.removeEventListener("selectstart",le),r.removeEventListener("selectend",le),r.removeEventListener("squeeze",le),r.removeEventListener("squeezestart",le),r.removeEventListener("squeezeend",le),r.removeEventListener("end",q),r.removeEventListener("inputsourceschange",J);for(let me=0;me<I.length;me++){const be=z[me];be!==null&&(z[me]=null,I[me].disconnect(be))}ne=null,oe=null,E.reset();for(const me in M)delete M[me];e.setRenderTarget(D),x=null,_=null,g=null,r=null,L=null,Ze.stop(),n.isPresenting=!1,e.setPixelRatio(F),e.setSize(k.width,k.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(me){s=me,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){c=me,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||o},this.setReferenceSpace=function(me){p=me},this.getBaseLayer=function(){return _!==null?_:x},this.getBinding=function(){return g===null&&T&&(g=new XRWebGLBinding(r,t)),g},this.getFrame=function(){return b},this.getSession=function(){return r},this.setSession=async function(me){if(r=me,r!==null){if(D=e.getRenderTarget(),r.addEventListener("select",le),r.addEventListener("selectstart",le),r.addEventListener("selectend",le),r.addEventListener("squeeze",le),r.addEventListener("squeezestart",le),r.addEventListener("squeezeend",le),r.addEventListener("end",q),r.addEventListener("inputsourceschange",J),R.xrCompatible!==!0&&await t.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(k),T&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ke=null,qe=null,pt=null;R.depth&&(pt=R.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ke=R.stencil?gg:mg,qe=R.stencil?pg:Ou);const Ut={colorFormat:t.RGBA8,depthFormat:pt,scaleFactor:s};g=this.getBinding(),_=g.createProjectionLayer(Ut),r.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),L=new Nc(_.textureWidth,_.textureHeight,{format:Us,type:el,depthTexture:new xR(_.textureWidth,_.textureHeight,qe,void 0,void 0,void 0,void 0,void 0,void 0,Ke),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const Ke={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:s};x=new XRWebGLLayer(r,t,Ke),r.updateRenderState({baseLayer:x}),e.setPixelRatio(1),e.setSize(x.framebufferWidth,x.framebufferHeight,!1),L=new Nc(x.framebufferWidth,x.framebufferHeight,{format:Us,type:el,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}L.isXRRenderTarget=!0,this.setFoveation(h),p=null,o=await r.requestReferenceSpace(c),Ze.setContext(r),Ze.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function J(me){for(let be=0;be<me.removed.length;be++){const Ke=me.removed[be],qe=z.indexOf(Ke);qe>=0&&(z[qe]=null,I[qe].disconnect(Ke))}for(let be=0;be<me.added.length;be++){const Ke=me.added[be];let qe=z.indexOf(Ke);if(qe===-1){for(let Ut=0;Ut<I.length;Ut++)if(Ut>=z.length){z.push(Ke),qe=Ut;break}else if(z[Ut]===null){z[Ut]=Ke,qe=Ut;break}if(qe===-1)break}const pt=I[qe];pt&&pt.connect(Ke)}}const ie=new Q,pe=new Q;function $(me,be,Ke){ie.setFromMatrixPosition(be.matrixWorld),pe.setFromMatrixPosition(Ke.matrixWorld);const qe=ie.distanceTo(pe),pt=be.projectionMatrix.elements,Ut=Ke.projectionMatrix.elements,Wt=pt[14]/(pt[10]-1),ee=pt[14]/(pt[10]+1),Pe=(pt[9]+1)/pt[5],Ie=(pt[9]-1)/pt[5],Ne=(pt[8]-1)/pt[0],te=(Ut[8]+1)/Ut[0],Qe=Wt*Ne,Ge=Wt*te,Je=qe/(-Ne+te),vt=Je*-Ne;if(be.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(vt),me.translateZ(Je),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert(),pt[10]===-1)me.projectionMatrix.copy(be.projectionMatrix),me.projectionMatrixInverse.copy(be.projectionMatrixInverse);else{const Rt=Wt+Je,Z=ee+Je,V=Qe-vt,de=Ge+(qe-vt),Ee=Pe*ee/Z*Rt,Ue=Ie*ee/Z*Rt;me.projectionMatrix.makePerspective(V,de,Ee,Ue,Rt,Z),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}}function Y(me,be){be===null?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices(be.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(r===null)return;let be=me.near,Ke=me.far;E.texture!==null&&(E.depthNear>0&&(be=E.depthNear),E.depthFar>0&&(Ke=E.depthFar)),K.near=U.near=O.near=be,K.far=U.far=O.far=Ke,(ne!==K.near||oe!==K.far)&&(r.updateRenderState({depthNear:K.near,depthFar:K.far}),ne=K.near,oe=K.far),K.layers.mask=me.layers.mask|6,O.layers.mask=K.layers.mask&3,U.layers.mask=K.layers.mask&5;const qe=me.parent,pt=K.cameras;Y(K,qe);for(let Ut=0;Ut<pt.length;Ut++)Y(pt[Ut],qe);pt.length===2?$(K,O,U):K.projectionMatrix.copy(O.projectionMatrix),he(me,K,qe)};function he(me,be,Ke){Ke===null?me.matrix.copy(be.matrixWorld):(me.matrix.copy(Ke.matrixWorld),me.matrix.invert(),me.matrix.multiply(be.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0),me.projectionMatrix.copy(be.projectionMatrix),me.projectionMatrixInverse.copy(be.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=yg*2*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}this.getCamera=function(){return K},this.getFoveation=function(){if(!(_===null&&x===null))return h},this.setFoveation=function(me){h=me,_!==null&&(_.fixedFoveation=me),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=me)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(K)},this.getCameraTexture=function(me){return M[me]};let De=null;function Le(me,be){if(m=be.getViewerPose(p||o),b=be,m!==null){const Ke=m.views;x!==null&&(e.setRenderTargetFramebuffer(L,x.framebuffer),e.setRenderTarget(L));let qe=!1;Ke.length!==K.cameras.length&&(K.cameras.length=0,qe=!0);for(let ee=0;ee<Ke.length;ee++){const Pe=Ke[ee];let Ie=null;if(x!==null)Ie=x.getViewport(Pe);else{const te=g.getViewSubImage(_,Pe);Ie=te.viewport,ee===0&&(e.setRenderTargetTextures(L,te.colorTexture,te.depthStencilTexture),e.setRenderTarget(L))}let Ne=X[ee];Ne===void 0&&(Ne=new Qr,Ne.layers.enable(ee),Ne.viewport=new Yn,X[ee]=Ne),Ne.matrix.fromArray(Pe.transform.matrix),Ne.matrix.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.projectionMatrix.fromArray(Pe.projectionMatrix),Ne.projectionMatrixInverse.copy(Ne.projectionMatrix).invert(),Ne.viewport.set(Ie.x,Ie.y,Ie.width,Ie.height),ee===0&&(K.matrix.copy(Ne.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale)),qe===!0&&K.cameras.push(Ne)}const pt=r.enabledFeatures;if(pt&&pt.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&T){g=n.getBinding();const ee=g.getDepthInformation(Ke[0]);ee&&ee.isValid&&ee.texture&&E.init(ee,r.renderState)}if(pt&&pt.includes("camera-access")&&T){e.state.unbindTexture(),g=n.getBinding();for(let ee=0;ee<Ke.length;ee++){const Pe=Ke[ee].camera;if(Pe){let Ie=M[Pe];Ie||(Ie=new bR,M[Pe]=Ie);const Ne=g.getCameraImage(Pe);Ie.sourceTexture=Ne}}}}for(let Ke=0;Ke<I.length;Ke++){const qe=z[Ke],pt=I[Ke];qe!==null&&pt!==void 0&&pt.update(qe,be,p||o)}De&&De(me,be),be.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:be}),b=null}const Ze=new Jk;Ze.setAnimationLoop(Le),this.setAnimationLoop=function(me){De=me},this.dispose=function(){}}}const md=new vo,lY=new tn;function cY(i,e){function t(E,M){E.matrixAutoUpdate===!0&&E.updateMatrix(),M.value.copy(E.matrix)}function n(E,M){M.color.getRGB(E.fogColor.value,Jz(i)),M.isFog?(E.fogNear.value=M.near,E.fogFar.value=M.far):M.isFogExp2&&(E.fogDensity.value=M.density)}function r(E,M,R,D,L){M.isMeshBasicMaterial||M.isMeshLambertMaterial?s(E,M):M.isMeshToonMaterial?(s(E,M),g(E,M)):M.isMeshPhongMaterial?(s(E,M),m(E,M)):M.isMeshStandardMaterial?(s(E,M),_(E,M),M.isMeshPhysicalMaterial&&x(E,M,L)):M.isMeshMatcapMaterial?(s(E,M),b(E,M)):M.isMeshDepthMaterial?s(E,M):M.isMeshDistanceMaterial?(s(E,M),T(E,M)):M.isMeshNormalMaterial?s(E,M):M.isLineBasicMaterial?(o(E,M),M.isLineDashedMaterial&&c(E,M)):M.isPointsMaterial?h(E,M,R,D):M.isSpriteMaterial?p(E,M):M.isShadowMaterial?(E.color.value.copy(M.color),E.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function s(E,M){E.opacity.value=M.opacity,M.color&&E.diffuse.value.copy(M.color),M.emissive&&E.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(E.map.value=M.map,t(M.map,E.mapTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,t(M.alphaMap,E.alphaMapTransform)),M.bumpMap&&(E.bumpMap.value=M.bumpMap,t(M.bumpMap,E.bumpMapTransform),E.bumpScale.value=M.bumpScale,M.side===ha&&(E.bumpScale.value*=-1)),M.normalMap&&(E.normalMap.value=M.normalMap,t(M.normalMap,E.normalMapTransform),E.normalScale.value.copy(M.normalScale),M.side===ha&&E.normalScale.value.negate()),M.displacementMap&&(E.displacementMap.value=M.displacementMap,t(M.displacementMap,E.displacementMapTransform),E.displacementScale.value=M.displacementScale,E.displacementBias.value=M.displacementBias),M.emissiveMap&&(E.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,E.emissiveMapTransform)),M.specularMap&&(E.specularMap.value=M.specularMap,t(M.specularMap,E.specularMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest);const R=e.get(M),D=R.envMap,L=R.envMapRotation;D&&(E.envMap.value=D,md.copy(L),md.x*=-1,md.y*=-1,md.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(md.y*=-1,md.z*=-1),E.envMapRotation.value.setFromMatrix4(lY.makeRotationFromEuler(md)),E.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=M.reflectivity,E.ior.value=M.ior,E.refractionRatio.value=M.refractionRatio),M.lightMap&&(E.lightMap.value=M.lightMap,E.lightMapIntensity.value=M.lightMapIntensity,t(M.lightMap,E.lightMapTransform)),M.aoMap&&(E.aoMap.value=M.aoMap,E.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,E.aoMapTransform))}function o(E,M){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,M.map&&(E.map.value=M.map,t(M.map,E.mapTransform))}function c(E,M){E.dashSize.value=M.dashSize,E.totalSize.value=M.dashSize+M.gapSize,E.scale.value=M.scale}function h(E,M,R,D){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,E.size.value=M.size*R,E.scale.value=D*.5,M.map&&(E.map.value=M.map,t(M.map,E.uvTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,t(M.alphaMap,E.alphaMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest)}function p(E,M){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,E.rotation.value=M.rotation,M.map&&(E.map.value=M.map,t(M.map,E.mapTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,t(M.alphaMap,E.alphaMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest)}function m(E,M){E.specular.value.copy(M.specular),E.shininess.value=Math.max(M.shininess,1e-4)}function g(E,M){M.gradientMap&&(E.gradientMap.value=M.gradientMap)}function _(E,M){E.metalness.value=M.metalness,M.metalnessMap&&(E.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,E.metalnessMapTransform)),E.roughness.value=M.roughness,M.roughnessMap&&(E.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,E.roughnessMapTransform)),M.envMap&&(E.envMapIntensity.value=M.envMapIntensity)}function x(E,M,R){E.ior.value=M.ior,M.sheen>0&&(E.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),E.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(E.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,E.sheenColorMapTransform)),M.sheenRoughnessMap&&(E.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,E.sheenRoughnessMapTransform))),M.clearcoat>0&&(E.clearcoat.value=M.clearcoat,E.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(E.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,E.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(E.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===ha&&E.clearcoatNormalScale.value.negate())),M.dispersion>0&&(E.dispersion.value=M.dispersion),M.iridescence>0&&(E.iridescence.value=M.iridescence,E.iridescenceIOR.value=M.iridescenceIOR,E.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(E.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,E.iridescenceMapTransform)),M.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),M.transmission>0&&(E.transmission.value=M.transmission,E.transmissionSamplerMap.value=R.texture,E.transmissionSamplerSize.value.set(R.width,R.height),M.transmissionMap&&(E.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,E.transmissionMapTransform)),E.thickness.value=M.thickness,M.thicknessMap&&(E.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=M.attenuationDistance,E.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(E.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(E.anisotropyMap.value=M.anisotropyMap,t(M.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=M.specularIntensity,E.specularColor.value.copy(M.specularColor),M.specularColorMap&&(E.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,E.specularColorMapTransform)),M.specularIntensityMap&&(E.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,E.specularIntensityMapTransform))}function b(E,M){M.matcap&&(E.matcap.value=M.matcap)}function T(E,M){const R=e.get(M).light;E.referencePosition.value.setFromMatrixPosition(R.matrixWorld),E.nearDistance.value=R.shadow.camera.near,E.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function uY(i,e,t,n){let r={},s={},o=[];const c=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function h(R,D){const L=D.program;n.uniformBlockBinding(R,L)}function p(R,D){let L=r[R.id];L===void 0&&(b(R),L=m(R),r[R.id]=L,R.addEventListener("dispose",E));const I=D.program;n.updateUBOMapping(R,I);const z=e.render.frame;s[R.id]!==z&&(_(R),s[R.id]=z)}function m(R){const D=g();R.__bindingPointIndex=D;const L=i.createBuffer(),I=R.__size,z=R.usage;return i.bindBuffer(i.UNIFORM_BUFFER,L),i.bufferData(i.UNIFORM_BUFFER,I,z),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,D,L),L}function g(){for(let R=0;R<c;R++)if(o.indexOf(R)===-1)return o.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(R){const D=r[R.id],L=R.uniforms,I=R.__cache;i.bindBuffer(i.UNIFORM_BUFFER,D);for(let z=0,k=L.length;z<k;z++){const F=Array.isArray(L[z])?L[z]:[L[z]];for(let O=0,U=F.length;O<U;O++){const X=F[O];if(x(X,z,O,I)===!0){const K=X.__offset,ne=Array.isArray(X.value)?X.value:[X.value];let oe=0;for(let le=0;le<ne.length;le++){const q=ne[le],J=T(q);typeof q=="number"||typeof q=="boolean"?(X.__data[0]=q,i.bufferSubData(i.UNIFORM_BUFFER,K+oe,X.__data)):q.isMatrix3?(X.__data[0]=q.elements[0],X.__data[1]=q.elements[1],X.__data[2]=q.elements[2],X.__data[3]=0,X.__data[4]=q.elements[3],X.__data[5]=q.elements[4],X.__data[6]=q.elements[5],X.__data[7]=0,X.__data[8]=q.elements[6],X.__data[9]=q.elements[7],X.__data[10]=q.elements[8],X.__data[11]=0):(q.toArray(X.__data,oe),oe+=J.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,K,X.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function x(R,D,L,I){const z=R.value,k=D+"_"+L;if(I[k]===void 0)return typeof z=="number"||typeof z=="boolean"?I[k]=z:I[k]=z.clone(),!0;{const F=I[k];if(typeof z=="number"||typeof z=="boolean"){if(F!==z)return I[k]=z,!0}else if(F.equals(z)===!1)return F.copy(z),!0}return!1}function b(R){const D=R.uniforms;let L=0;const I=16;for(let k=0,F=D.length;k<F;k++){const O=Array.isArray(D[k])?D[k]:[D[k]];for(let U=0,X=O.length;U<X;U++){const K=O[U],ne=Array.isArray(K.value)?K.value:[K.value];for(let oe=0,le=ne.length;oe<le;oe++){const q=ne[oe],J=T(q),ie=L%I,pe=ie%J.boundary,$=ie+pe;L+=pe,$!==0&&I-$<J.storage&&(L+=I-$),K.__data=new Float32Array(J.storage/Float32Array.BYTES_PER_ELEMENT),K.__offset=L,L+=J.storage}}}const z=L%I;return z>0&&(L+=I-z),R.__size=L,R.__cache={},this}function T(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),D}function E(R){const D=R.target;D.removeEventListener("dispose",E);const L=o.indexOf(D.__bindingPointIndex);o.splice(L,1),i.deleteBuffer(r[D.id]),delete r[D.id],delete s[D.id]}function M(){for(const R in r)i.deleteBuffer(r[R]);o=[],r={},s={}}return{bind:h,update:p,dispose:M}}class sB{constructor(e={}){const{canvas:t=$z(),context:n=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:_=!1}=e;this.isWebGLRenderer=!0;let x;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=n.getContextAttributes().alpha}else x=o;const b=new Uint32Array(4),T=new Int32Array(4);let E=null,M=null;const R=[],D=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Tc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const L=this;let I=!1;this._outputColorSpace=Ps;let z=0,k=0,F=null,O=-1,U=null;const X=new Yn,K=new Yn;let ne=null;const oe=new Mt(0);let le=0,q=t.width,J=t.height,ie=1,pe=null,$=null;const Y=new Yn(0,0,q,J),he=new Yn(0,0,q,J);let De=!1;const Le=new Dg;let Ze=!1,me=!1;const be=new tn,Ke=new Q,qe=new Yn,pt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ut=!1;function Wt(){return F===null?ie:1}let ee=n;function Pe(G,ue){return t.getContext(G,ue)}try{const G={alpha:!0,depth:r,stencil:s,antialias:c,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${NM}`),t.addEventListener("webglcontextlost",et,!1),t.addEventListener("webglcontextrestored",ct,!1),t.addEventListener("webglcontextcreationerror",He,!1),ee===null){const ue="webgl2";if(ee=Pe(ue,G),ee===null)throw Pe(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let Ie,Ne,te,Qe,Ge,Je,vt,Rt,Z,V,de,Ee,Ue,Te,lt,Ye,bt,ot,Xe,nt,Et,ft,st,Xt;function re(){Ie=new SX(ee),Ie.init(),ft=new rB(ee,Ie),Ne=new mX(ee,Ie,e,ft),te=new nY(ee,Ie),Ne.reversedDepthBuffer&&_&&te.buffers.depth.setReversed(!0),Qe=new EX(ee),Ge=new jq,Je=new iY(ee,Ie,te,Ge,Ne,ft,Qe),vt=new vX(L),Rt=new bX(L),Z=new D9(ee),st=new dX(ee,Z),V=new MX(ee,Z,Qe,st),de=new AX(ee,V,Z,Qe),Xe=new TX(ee,Ne,Je),Ye=new gX(Ge),Ee=new Hq(L,vt,Rt,Ie,Ne,st,Ye),Ue=new cY(L,Ge),Te=new Wq,lt=new Kq(Ie),ot=new hX(L,vt,Rt,te,de,x,h),bt=new eY(L,de,Ne),Xt=new uY(ee,Qe,Ne,te),nt=new pX(ee,Ie,Qe),Et=new wX(ee,Ie,Qe),Qe.programs=Ee.programs,L.capabilities=Ne,L.extensions=Ie,L.properties=Ge,L.renderLists=Te,L.shadowMap=bt,L.state=te,L.info=Qe}re();const $e=new oY(L,ee);this.xr=$e,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const G=Ie.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=Ie.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(G){G!==void 0&&(ie=G,this.setSize(q,J,!1))},this.getSize=function(G){return G.set(q,J)},this.setSize=function(G,ue,_e=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=G,J=ue,t.width=Math.floor(G*ie),t.height=Math.floor(ue*ie),_e===!0&&(t.style.width=G+"px",t.style.height=ue+"px"),this.setViewport(0,0,G,ue)},this.getDrawingBufferSize=function(G){return G.set(q*ie,J*ie).floor()},this.setDrawingBufferSize=function(G,ue,_e){q=G,J=ue,ie=_e,t.width=Math.floor(G*_e),t.height=Math.floor(ue*_e),this.setViewport(0,0,G,ue)},this.getCurrentViewport=function(G){return G.copy(X)},this.getViewport=function(G){return G.copy(Y)},this.setViewport=function(G,ue,_e,Me){G.isVector4?Y.set(G.x,G.y,G.z,G.w):Y.set(G,ue,_e,Me),te.viewport(X.copy(Y).multiplyScalar(ie).round())},this.getScissor=function(G){return G.copy(he)},this.setScissor=function(G,ue,_e,Me){G.isVector4?he.set(G.x,G.y,G.z,G.w):he.set(G,ue,_e,Me),te.scissor(K.copy(he).multiplyScalar(ie).round())},this.getScissorTest=function(){return De},this.setScissorTest=function(G){te.setScissorTest(De=G)},this.setOpaqueSort=function(G){pe=G},this.setTransparentSort=function(G){$=G},this.getClearColor=function(G){return G.copy(ot.getClearColor())},this.setClearColor=function(){ot.setClearColor(...arguments)},this.getClearAlpha=function(){return ot.getClearAlpha()},this.setClearAlpha=function(){ot.setClearAlpha(...arguments)},this.clear=function(G=!0,ue=!0,_e=!0){let Me=0;if(G){let fe=!1;if(F!==null){const Oe=F.texture.format;fe=Oe===kM||Oe===zM||Oe===c_}if(fe){const Oe=F.texture.type,it=Oe===el||Oe===Ou||Oe===dg||Oe===pg||Oe===IM||Oe===OM,xt=ot.getClearColor(),dt=ot.getClearAlpha(),St=xt.r,yt=xt.g,Tt=xt.b;it?(b[0]=St,b[1]=yt,b[2]=Tt,b[3]=dt,ee.clearBufferuiv(ee.COLOR,0,b)):(T[0]=St,T[1]=yt,T[2]=Tt,T[3]=dt,ee.clearBufferiv(ee.COLOR,0,T))}else Me|=ee.COLOR_BUFFER_BIT}ue&&(Me|=ee.DEPTH_BUFFER_BIT),_e&&(Me|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",et,!1),t.removeEventListener("webglcontextrestored",ct,!1),t.removeEventListener("webglcontextcreationerror",He,!1),ot.dispose(),Te.dispose(),lt.dispose(),Ge.dispose(),vt.dispose(),Rt.dispose(),de.dispose(),st.dispose(),Xt.dispose(),Ee.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Kt),$e.removeEventListener("sessionend",ut),Bt.stop()};function et(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const G=Qe.autoReset,ue=bt.enabled,_e=bt.autoUpdate,Me=bt.needsUpdate,fe=bt.type;re(),Qe.autoReset=G,bt.enabled=ue,bt.autoUpdate=_e,bt.needsUpdate=Me,bt.type=fe}function He(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function ze(G){const ue=G.target;ue.removeEventListener("dispose",ze),mt(ue)}function mt(G){Ft(G),Ge.remove(G)}function Ft(G){const ue=Ge.get(G).programs;ue!==void 0&&(ue.forEach(function(_e){Ee.releaseProgram(_e)}),G.isShaderMaterial&&Ee.releaseShaderCache(G))}this.renderBufferDirect=function(G,ue,_e,Me,fe,Oe){ue===null&&(ue=pt);const it=fe.isMesh&&fe.matrixWorld.determinant()<0,xt=bn(G,ue,_e,Me,fe);te.setMaterial(Me,it);let dt=_e.index,St=1;if(Me.wireframe===!0){if(dt=V.getWireframeAttribute(_e),dt===void 0)return;St=2}const yt=_e.drawRange,Tt=_e.attributes.position;let At=yt.start*St,un=(yt.start+yt.count)*St;Oe!==null&&(At=Math.max(At,Oe.start*St),un=Math.min(un,(Oe.start+Oe.count)*St)),dt!==null?(At=Math.max(At,0),un=Math.min(un,dt.count)):Tt!=null&&(At=Math.max(At,0),un=Math.min(un,Tt.count));const ei=un-At;if(ei<0||ei===1/0)return;st.setup(fe,Me,xt,_e,dt);let Xn,Sn=nt;if(dt!==null&&(Xn=Z.get(dt),Sn=Et,Sn.setIndex(Xn)),fe.isMesh)Me.wireframe===!0?(te.setLineWidth(Me.wireframeLinewidth*Wt()),Sn.setMode(ee.LINES)):Sn.setMode(ee.TRIANGLES);else if(fe.isLine){let Ct=Me.linewidth;Ct===void 0&&(Ct=1),te.setLineWidth(Ct*Wt()),fe.isLineSegments?Sn.setMode(ee.LINES):fe.isLineLoop?Sn.setMode(ee.LINE_LOOP):Sn.setMode(ee.LINE_STRIP)}else fe.isPoints?Sn.setMode(ee.POINTS):fe.isSprite&&Sn.setMode(ee.TRIANGLES);if(fe.isBatchedMesh)if(fe._multiDrawInstances!==null)jy("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Sn.renderMultiDrawInstances(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount,fe._multiDrawInstances);else if(Ie.get("WEBGL_multi_draw"))Sn.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else{const Ct=fe._multiDrawStarts,si=fe._multiDrawCounts,Nn=fe._multiDrawCount,cr=dt?Z.get(dt).bytesPerElement:1,Ci=Ge.get(Me).currentProgram.getUniforms();for(let Mn=0;Mn<Nn;Mn++)Ci.setValue(ee,"_gl_DrawID",Mn),Sn.render(Ct[Mn]/cr,si[Mn])}else if(fe.isInstancedMesh)Sn.renderInstances(At,ei,fe.count);else if(_e.isInstancedBufferGeometry){const Ct=_e._maxInstanceCount!==void 0?_e._maxInstanceCount:1/0,si=Math.min(_e.instanceCount,Ct);Sn.renderInstances(At,ei,si)}else Sn.render(At,ei)};function cn(G,ue,_e){G.transparent===!0&&G.side===xc&&G.forceSinglePass===!1?(G.side=ha,G.needsUpdate=!0,Wn(G,ue,_e),G.side=Pu,G.needsUpdate=!0,Wn(G,ue,_e),G.side=xc):Wn(G,ue,_e)}this.compile=function(G,ue,_e=null){_e===null&&(_e=G),M=lt.get(_e),M.init(ue),D.push(M),_e.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ue.layers)&&(M.pushLight(fe),fe.castShadow&&M.pushShadow(fe))}),G!==_e&&G.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ue.layers)&&(M.pushLight(fe),fe.castShadow&&M.pushShadow(fe))}),M.setupLights();const Me=new Set;return G.traverse(function(fe){if(!(fe.isMesh||fe.isPoints||fe.isLine||fe.isSprite))return;const Oe=fe.material;if(Oe)if(Array.isArray(Oe))for(let it=0;it<Oe.length;it++){const xt=Oe[it];cn(xt,_e,fe),Me.add(xt)}else cn(Oe,_e,fe),Me.add(Oe)}),M=D.pop(),Me},this.compileAsync=function(G,ue,_e=null){const Me=this.compile(G,ue,_e);return new Promise(fe=>{function Oe(){if(Me.forEach(function(it){Ge.get(it).currentProgram.isReady()&&Me.delete(it)}),Me.size===0){fe(G);return}setTimeout(Oe,10)}Ie.get("KHR_parallel_shader_compile")!==null?Oe():setTimeout(Oe,10)})};let ht=null;function wt(G){ht&&ht(G)}function Kt(){Bt.stop()}function ut(){Bt.start()}const Bt=new Jk;Bt.setAnimationLoop(wt),typeof self<"u"&&Bt.setContext(self),this.setAnimationLoop=function(G){ht=G,$e.setAnimationLoop(G),G===null?Bt.stop():Bt.start()},$e.addEventListener("sessionstart",Kt),$e.addEventListener("sessionend",ut),this.render=function(G,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(ue),ue=$e.getCamera()),G.isScene===!0&&G.onBeforeRender(L,G,ue,F),M=lt.get(G,D.length),M.init(ue),D.push(M),be.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),Le.setFromProjectionMatrix(be,uo,ue.reversedDepth),me=this.localClippingEnabled,Ze=Ye.init(this.clippingPlanes,me),E=Te.get(G,R.length),E.init(),R.push(E),$e.enabled===!0&&$e.isPresenting===!0){const Oe=L.xr.getDepthSensingMesh();Oe!==null&&It(Oe,ue,-1/0,L.sortObjects)}It(G,ue,0,L.sortObjects),E.finish(),L.sortObjects===!0&&E.sort(pe,$),Ut=$e.enabled===!1||$e.isPresenting===!1||$e.hasDepthSensing()===!1,Ut&&ot.addToRenderList(E,G),this.info.render.frame++,Ze===!0&&Ye.beginShadows();const _e=M.state.shadowsArray;bt.render(_e,G,ue),Ze===!0&&Ye.endShadows(),this.info.autoReset===!0&&this.info.reset();const Me=E.opaque,fe=E.transmissive;if(M.setupLights(),ue.isArrayCamera){const Oe=ue.cameras;if(fe.length>0)for(let it=0,xt=Oe.length;it<xt;it++){const dt=Oe[it];ri(Me,fe,G,dt)}Ut&&ot.render(G);for(let it=0,xt=Oe.length;it<xt;it++){const dt=Oe[it];Vt(E,G,dt,dt.viewport)}}else fe.length>0&&ri(Me,fe,G,ue),Ut&&ot.render(G),Vt(E,G,ue);F!==null&&k===0&&(Je.updateMultisampleRenderTarget(F),Je.updateRenderTargetMipmap(F)),G.isScene===!0&&G.onAfterRender(L,G,ue),st.resetDefaultState(),O=-1,U=null,D.pop(),D.length>0?(M=D[D.length-1],Ze===!0&&Ye.setGlobalState(L.clippingPlanes,M.state.camera)):M=null,R.pop(),R.length>0?E=R[R.length-1]:E=null};function It(G,ue,_e,Me){if(G.visible===!1)return;if(G.layers.test(ue.layers)){if(G.isGroup)_e=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(ue);else if(G.isLight)M.pushLight(G),G.castShadow&&M.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||Le.intersectsSprite(G)){Me&&qe.setFromMatrixPosition(G.matrixWorld).applyMatrix4(be);const it=de.update(G),xt=G.material;xt.visible&&E.push(G,it,xt,_e,qe.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||Le.intersectsObject(G))){const it=de.update(G),xt=G.material;if(Me&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),qe.copy(G.boundingSphere.center)):(it.boundingSphere===null&&it.computeBoundingSphere(),qe.copy(it.boundingSphere.center)),qe.applyMatrix4(G.matrixWorld).applyMatrix4(be)),Array.isArray(xt)){const dt=it.groups;for(let St=0,yt=dt.length;St<yt;St++){const Tt=dt[St],At=xt[Tt.materialIndex];At&&At.visible&&E.push(G,it,At,_e,qe.z,Tt)}}else xt.visible&&E.push(G,it,xt,_e,qe.z,null)}}const Oe=G.children;for(let it=0,xt=Oe.length;it<xt;it++)It(Oe[it],ue,_e,Me)}function Vt(G,ue,_e,Me){const fe=G.opaque,Oe=G.transmissive,it=G.transparent;M.setupLightsView(_e),Ze===!0&&Ye.setGlobalState(L.clippingPlanes,_e),Me&&te.viewport(X.copy(Me)),fe.length>0&&nn(fe,ue,_e),Oe.length>0&&nn(Oe,ue,_e),it.length>0&&nn(it,ue,_e),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1)}function ri(G,ue,_e,Me){if((_e.isScene===!0?_e.overrideMaterial:null)!==null)return;M.state.transmissionRenderTarget[Me.id]===void 0&&(M.state.transmissionRenderTarget[Me.id]=new Nc(1,1,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")||Ie.has("EXT_color_buffer_float")?Rg:el,minFilter:Mc,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Hn.workingColorSpace}));const Oe=M.state.transmissionRenderTarget[Me.id],it=Me.viewport||X;Oe.setSize(it.z*L.transmissionResolutionScale,it.w*L.transmissionResolutionScale);const xt=L.getRenderTarget(),dt=L.getActiveCubeFace(),St=L.getActiveMipmapLevel();L.setRenderTarget(Oe),L.getClearColor(oe),le=L.getClearAlpha(),le<1&&L.setClearColor(16777215,.5),L.clear(),Ut&&ot.render(_e);const yt=L.toneMapping;L.toneMapping=Tc;const Tt=Me.viewport;if(Me.viewport!==void 0&&(Me.viewport=void 0),M.setupLightsView(Me),Ze===!0&&Ye.setGlobalState(L.clippingPlanes,Me),nn(G,_e,Me),Je.updateMultisampleRenderTarget(Oe),Je.updateRenderTargetMipmap(Oe),Ie.has("WEBGL_multisampled_render_to_texture")===!1){let At=!1;for(let un=0,ei=ue.length;un<ei;un++){const Xn=ue[un],Sn=Xn.object,Ct=Xn.geometry,si=Xn.material,Nn=Xn.group;if(si.side===xc&&Sn.layers.test(Me.layers)){const cr=si.side;si.side=ha,si.needsUpdate=!0,Fn(Sn,_e,Me,Ct,si,Nn),si.side=cr,si.needsUpdate=!0,At=!0}}At===!0&&(Je.updateMultisampleRenderTarget(Oe),Je.updateRenderTargetMipmap(Oe))}L.setRenderTarget(xt,dt,St),L.setClearColor(oe,le),Tt!==void 0&&(Me.viewport=Tt),L.toneMapping=yt}function nn(G,ue,_e){const Me=ue.isScene===!0?ue.overrideMaterial:null;for(let fe=0,Oe=G.length;fe<Oe;fe++){const it=G[fe],xt=it.object,dt=it.geometry,St=it.group;let yt=it.material;yt.allowOverride===!0&&Me!==null&&(yt=Me),xt.layers.test(_e.layers)&&Fn(xt,ue,_e,dt,yt,St)}}function Fn(G,ue,_e,Me,fe,Oe){G.onBeforeRender(L,ue,_e,Me,fe,Oe),G.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),fe.onBeforeRender(L,ue,_e,Me,G,Oe),fe.transparent===!0&&fe.side===xc&&fe.forceSinglePass===!1?(fe.side=ha,fe.needsUpdate=!0,L.renderBufferDirect(_e,ue,Me,fe,G,Oe),fe.side=Pu,fe.needsUpdate=!0,L.renderBufferDirect(_e,ue,Me,fe,G,Oe),fe.side=xc):L.renderBufferDirect(_e,ue,Me,fe,G,Oe),G.onAfterRender(L,ue,_e,Me,fe,Oe)}function Wn(G,ue,_e){ue.isScene!==!0&&(ue=pt);const Me=Ge.get(G),fe=M.state.lights,Oe=M.state.shadowsArray,it=fe.state.version,xt=Ee.getParameters(G,fe.state,Oe,ue,_e),dt=Ee.getProgramCacheKey(xt);let St=Me.programs;Me.environment=G.isMeshStandardMaterial?ue.environment:null,Me.fog=ue.fog,Me.envMap=(G.isMeshStandardMaterial?Rt:vt).get(G.envMap||Me.environment),Me.envMapRotation=Me.environment!==null&&G.envMap===null?ue.environmentRotation:G.envMapRotation,St===void 0&&(G.addEventListener("dispose",ze),St=new Map,Me.programs=St);let yt=St.get(dt);if(yt!==void 0){if(Me.currentProgram===yt&&Me.lightsStateVersion===it)return rn(G,xt),yt}else xt.uniforms=Ee.getUniforms(G),G.onBeforeCompile(xt,L),yt=Ee.acquireProgram(xt,dt),St.set(dt,yt),Me.uniforms=xt.uniforms;const Tt=Me.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(Tt.clippingPlanes=Ye.uniform),rn(G,xt),Me.needsLights=zn(G),Me.lightsStateVersion=it,Me.needsLights&&(Tt.ambientLightColor.value=fe.state.ambient,Tt.lightProbe.value=fe.state.probe,Tt.directionalLights.value=fe.state.directional,Tt.directionalLightShadows.value=fe.state.directionalShadow,Tt.spotLights.value=fe.state.spot,Tt.spotLightShadows.value=fe.state.spotShadow,Tt.rectAreaLights.value=fe.state.rectArea,Tt.ltc_1.value=fe.state.rectAreaLTC1,Tt.ltc_2.value=fe.state.rectAreaLTC2,Tt.pointLights.value=fe.state.point,Tt.pointLightShadows.value=fe.state.pointShadow,Tt.hemisphereLights.value=fe.state.hemi,Tt.directionalShadowMap.value=fe.state.directionalShadowMap,Tt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,Tt.spotShadowMap.value=fe.state.spotShadowMap,Tt.spotLightMatrix.value=fe.state.spotLightMatrix,Tt.spotLightMap.value=fe.state.spotLightMap,Tt.pointShadowMap.value=fe.state.pointShadowMap,Tt.pointShadowMatrix.value=fe.state.pointShadowMatrix),Me.currentProgram=yt,Me.uniformsList=null,yt}function Jt(G){if(G.uniformsList===null){const ue=G.currentProgram.getUniforms();G.uniformsList=kS.seqWithValue(ue.seq,G.uniforms)}return G.uniformsList}function rn(G,ue){const _e=Ge.get(G);_e.outputColorSpace=ue.outputColorSpace,_e.batching=ue.batching,_e.batchingColor=ue.batchingColor,_e.instancing=ue.instancing,_e.instancingColor=ue.instancingColor,_e.instancingMorph=ue.instancingMorph,_e.skinning=ue.skinning,_e.morphTargets=ue.morphTargets,_e.morphNormals=ue.morphNormals,_e.morphColors=ue.morphColors,_e.morphTargetsCount=ue.morphTargetsCount,_e.numClippingPlanes=ue.numClippingPlanes,_e.numIntersection=ue.numClipIntersection,_e.vertexAlphas=ue.vertexAlphas,_e.vertexTangents=ue.vertexTangents,_e.toneMapping=ue.toneMapping}function bn(G,ue,_e,Me,fe){ue.isScene!==!0&&(ue=pt),Je.resetTextureUnits();const Oe=ue.fog,it=Me.isMeshStandardMaterial?ue.environment:null,xt=F===null?L.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:rh,dt=(Me.isMeshStandardMaterial?Rt:vt).get(Me.envMap||it),St=Me.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,yt=!!_e.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),Tt=!!_e.morphAttributes.position,At=!!_e.morphAttributes.normal,un=!!_e.morphAttributes.color;let ei=Tc;Me.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(ei=L.toneMapping);const Xn=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,Sn=Xn!==void 0?Xn.length:0,Ct=Ge.get(Me),si=M.state.lights;if(Ze===!0&&(me===!0||G!==U)){const ui=G===U&&Me.id===O;Ye.setState(Me,G,ui)}let Nn=!1;Me.version===Ct.__version?(Ct.needsLights&&Ct.lightsStateVersion!==si.state.version||Ct.outputColorSpace!==xt||fe.isBatchedMesh&&Ct.batching===!1||!fe.isBatchedMesh&&Ct.batching===!0||fe.isBatchedMesh&&Ct.batchingColor===!0&&fe.colorTexture===null||fe.isBatchedMesh&&Ct.batchingColor===!1&&fe.colorTexture!==null||fe.isInstancedMesh&&Ct.instancing===!1||!fe.isInstancedMesh&&Ct.instancing===!0||fe.isSkinnedMesh&&Ct.skinning===!1||!fe.isSkinnedMesh&&Ct.skinning===!0||fe.isInstancedMesh&&Ct.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&Ct.instancingColor===!1&&fe.instanceColor!==null||fe.isInstancedMesh&&Ct.instancingMorph===!0&&fe.morphTexture===null||fe.isInstancedMesh&&Ct.instancingMorph===!1&&fe.morphTexture!==null||Ct.envMap!==dt||Me.fog===!0&&Ct.fog!==Oe||Ct.numClippingPlanes!==void 0&&(Ct.numClippingPlanes!==Ye.numPlanes||Ct.numIntersection!==Ye.numIntersection)||Ct.vertexAlphas!==St||Ct.vertexTangents!==yt||Ct.morphTargets!==Tt||Ct.morphNormals!==At||Ct.morphColors!==un||Ct.toneMapping!==ei||Ct.morphTargetsCount!==Sn)&&(Nn=!0):(Nn=!0,Ct.__version=Me.version);let cr=Ct.currentProgram;Nn===!0&&(cr=Wn(Me,ue,fe));let Ci=!1,Mn=!1,yo=!1;const dn=cr.getUniforms(),ur=Ct.uniforms;if(te.useProgram(cr.program)&&(Ci=!0,Mn=!0,yo=!0),Me.id!==O&&(O=Me.id,Mn=!0),Ci||U!==G){te.buffers.depth.getReversed()&&G.reversedDepth!==!0&&(G._reversedDepth=!0,G.updateProjectionMatrix()),dn.setValue(ee,"projectionMatrix",G.projectionMatrix),dn.setValue(ee,"viewMatrix",G.matrixWorldInverse);const Si=dn.map.cameraPosition;Si!==void 0&&Si.setValue(ee,Ke.setFromMatrixPosition(G.matrixWorld)),Ne.logarithmicDepthBuffer&&dn.setValue(ee,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&dn.setValue(ee,"isOrthographic",G.isOrthographicCamera===!0),U!==G&&(U=G,Mn=!0,yo=!0)}if(fe.isSkinnedMesh){dn.setOptional(ee,fe,"bindMatrix"),dn.setOptional(ee,fe,"bindMatrixInverse");const ui=fe.skeleton;ui&&(ui.boneTexture===null&&ui.computeBoneTexture(),dn.setValue(ee,"boneTexture",ui.boneTexture,Je))}fe.isBatchedMesh&&(dn.setOptional(ee,fe,"batchingTexture"),dn.setValue(ee,"batchingTexture",fe._matricesTexture,Je),dn.setOptional(ee,fe,"batchingIdTexture"),dn.setValue(ee,"batchingIdTexture",fe._indirectTexture,Je),dn.setOptional(ee,fe,"batchingColorTexture"),fe._colorsTexture!==null&&dn.setValue(ee,"batchingColorTexture",fe._colorsTexture,Je));const Dr=_e.morphAttributes;if((Dr.position!==void 0||Dr.normal!==void 0||Dr.color!==void 0)&&Xe.update(fe,_e,cr),(Mn||Ct.receiveShadow!==fe.receiveShadow)&&(Ct.receiveShadow=fe.receiveShadow,dn.setValue(ee,"receiveShadow",fe.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(ur.envMap.value=dt,ur.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),Me.isMeshStandardMaterial&&Me.envMap===null&&ue.environment!==null&&(ur.envMapIntensity.value=ue.environmentIntensity),Mn&&(dn.setValue(ee,"toneMappingExposure",L.toneMappingExposure),Ct.needsLights&&bi(ur,yo),Oe&&Me.fog===!0&&Ue.refreshFogUniforms(ur,Oe),Ue.refreshMaterialUniforms(ur,Me,ie,J,M.state.transmissionRenderTarget[G.id]),kS.upload(ee,Jt(Ct),ur,Je)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(kS.upload(ee,Jt(Ct),ur,Je),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&dn.setValue(ee,"center",fe.center),dn.setValue(ee,"modelViewMatrix",fe.modelViewMatrix),dn.setValue(ee,"normalMatrix",fe.normalMatrix),dn.setValue(ee,"modelMatrix",fe.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const ui=Me.uniformsGroups;for(let Si=0,Fl=ui.length;Si<Fl;Si++){const ma=ui[Si];Xt.update(ma,cr),Xt.bind(ma,cr)}}return cr}function bi(G,ue){G.ambientLightColor.needsUpdate=ue,G.lightProbe.needsUpdate=ue,G.directionalLights.needsUpdate=ue,G.directionalLightShadows.needsUpdate=ue,G.pointLights.needsUpdate=ue,G.pointLightShadows.needsUpdate=ue,G.spotLights.needsUpdate=ue,G.spotLightShadows.needsUpdate=ue,G.rectAreaLights.needsUpdate=ue,G.hemisphereLights.needsUpdate=ue}function zn(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return z},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(G,ue,_e){const Me=Ge.get(G);Me.__autoAllocateDepthBuffer=G.resolveDepthBuffer===!1,Me.__autoAllocateDepthBuffer===!1&&(Me.__useRenderToTexture=!1),Ge.get(G.texture).__webglTexture=ue,Ge.get(G.depthTexture).__webglTexture=Me.__autoAllocateDepthBuffer?void 0:_e,Me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(G,ue){const _e=Ge.get(G);_e.__webglFramebuffer=ue,_e.__useDefaultFramebuffer=ue===void 0};const Vi=ee.createFramebuffer();this.setRenderTarget=function(G,ue=0,_e=0){F=G,z=ue,k=_e;let Me=!0,fe=null,Oe=!1,it=!1;if(G){const dt=Ge.get(G);if(dt.__useDefaultFramebuffer!==void 0)te.bindFramebuffer(ee.FRAMEBUFFER,null),Me=!1;else if(dt.__webglFramebuffer===void 0)Je.setupRenderTarget(G);else if(dt.__hasExternalTextures)Je.rebindTextures(G,Ge.get(G.texture).__webglTexture,Ge.get(G.depthTexture).__webglTexture);else if(G.depthBuffer){const Tt=G.depthTexture;if(dt.__boundDepthTexture!==Tt){if(Tt!==null&&Ge.has(Tt)&&(G.width!==Tt.image.width||G.height!==Tt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Je.setupDepthRenderbuffer(G)}}const St=G.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(it=!0);const yt=Ge.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(yt[ue])?fe=yt[ue][_e]:fe=yt[ue],Oe=!0):G.samples>0&&Je.useMultisampledRTT(G)===!1?fe=Ge.get(G).__webglMultisampledFramebuffer:Array.isArray(yt)?fe=yt[_e]:fe=yt,X.copy(G.viewport),K.copy(G.scissor),ne=G.scissorTest}else X.copy(Y).multiplyScalar(ie).floor(),K.copy(he).multiplyScalar(ie).floor(),ne=De;if(_e!==0&&(fe=Vi),te.bindFramebuffer(ee.FRAMEBUFFER,fe)&&Me&&te.drawBuffers(G,fe),te.viewport(X),te.scissor(K),te.setScissorTest(ne),Oe){const dt=Ge.get(G.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+ue,dt.__webglTexture,_e)}else if(it){const dt=ue;for(let St=0;St<G.textures.length;St++){const yt=Ge.get(G.textures[St]);ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0+St,yt.__webglTexture,_e,dt)}}else if(G!==null&&_e!==0){const dt=Ge.get(G.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,dt.__webglTexture,_e)}O=-1},this.readRenderTargetPixels=function(G,ue,_e,Me,fe,Oe,it,xt=0){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=Ge.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&it!==void 0&&(dt=dt[it]),dt){te.bindFramebuffer(ee.FRAMEBUFFER,dt);try{const St=G.textures[xt],yt=St.format,Tt=St.type;if(!Ne.textureFormatReadable(yt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(Tt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=G.width-Me&&_e>=0&&_e<=G.height-fe&&(G.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+xt),ee.readPixels(ue,_e,Me,fe,ft.convert(yt),ft.convert(Tt),Oe))}finally{const St=F!==null?Ge.get(F).__webglFramebuffer:null;te.bindFramebuffer(ee.FRAMEBUFFER,St)}}},this.readRenderTargetPixelsAsync=async function(G,ue,_e,Me,fe,Oe,it,xt=0){if(!(G&&G.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let dt=Ge.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&it!==void 0&&(dt=dt[it]),dt)if(ue>=0&&ue<=G.width-Me&&_e>=0&&_e<=G.height-fe){te.bindFramebuffer(ee.FRAMEBUFFER,dt);const St=G.textures[xt],yt=St.format,Tt=St.type;if(!Ne.textureFormatReadable(yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(Tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const At=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,At),ee.bufferData(ee.PIXEL_PACK_BUFFER,Oe.byteLength,ee.STREAM_READ),G.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+xt),ee.readPixels(ue,_e,Me,fe,ft.convert(yt),ft.convert(Tt),0);const un=F!==null?Ge.get(F).__webglFramebuffer:null;te.bindFramebuffer(ee.FRAMEBUFFER,un);const ei=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);return ee.flush(),await Yj(ee,ei,4),ee.bindBuffer(ee.PIXEL_PACK_BUFFER,At),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,Oe),ee.deleteBuffer(At),ee.deleteSync(ei),Oe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(G,ue=null,_e=0){const Me=Math.pow(2,-_e),fe=Math.floor(G.image.width*Me),Oe=Math.floor(G.image.height*Me),it=ue!==null?ue.x:0,xt=ue!==null?ue.y:0;Je.setTexture2D(G,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,_e,0,0,it,xt,fe,Oe),te.unbindTexture()};const Nr=ee.createFramebuffer(),Jn=ee.createFramebuffer();this.copyTextureToTexture=function(G,ue,_e=null,Me=null,fe=0,Oe=null){Oe===null&&(fe!==0?(jy("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Oe=fe,fe=0):Oe=0);let it,xt,dt,St,yt,Tt,At,un,ei;const Xn=G.isCompressedTexture?G.mipmaps[Oe]:G.image;if(_e!==null)it=_e.max.x-_e.min.x,xt=_e.max.y-_e.min.y,dt=_e.isBox3?_e.max.z-_e.min.z:1,St=_e.min.x,yt=_e.min.y,Tt=_e.isBox3?_e.min.z:0;else{const Dr=Math.pow(2,-fe);it=Math.floor(Xn.width*Dr),xt=Math.floor(Xn.height*Dr),G.isDataArrayTexture?dt=Xn.depth:G.isData3DTexture?dt=Math.floor(Xn.depth*Dr):dt=1,St=0,yt=0,Tt=0}Me!==null?(At=Me.x,un=Me.y,ei=Me.z):(At=0,un=0,ei=0);const Sn=ft.convert(ue.format),Ct=ft.convert(ue.type);let si;ue.isData3DTexture?(Je.setTexture3D(ue,0),si=ee.TEXTURE_3D):ue.isDataArrayTexture||ue.isCompressedArrayTexture?(Je.setTexture2DArray(ue,0),si=ee.TEXTURE_2D_ARRAY):(Je.setTexture2D(ue,0),si=ee.TEXTURE_2D),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,ue.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,ue.unpackAlignment);const Nn=ee.getParameter(ee.UNPACK_ROW_LENGTH),cr=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Ci=ee.getParameter(ee.UNPACK_SKIP_PIXELS),Mn=ee.getParameter(ee.UNPACK_SKIP_ROWS),yo=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Xn.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Xn.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,St),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,yt),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Tt);const dn=G.isDataArrayTexture||G.isData3DTexture,ur=ue.isDataArrayTexture||ue.isData3DTexture;if(G.isDepthTexture){const Dr=Ge.get(G),ui=Ge.get(ue),Si=Ge.get(Dr.__renderTarget),Fl=Ge.get(ui.__renderTarget);te.bindFramebuffer(ee.READ_FRAMEBUFFER,Si.__webglFramebuffer),te.bindFramebuffer(ee.DRAW_FRAMEBUFFER,Fl.__webglFramebuffer);for(let ma=0;ma<dt;ma++)dn&&(ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Ge.get(G).__webglTexture,fe,Tt+ma),ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Ge.get(ue).__webglTexture,Oe,ei+ma)),ee.blitFramebuffer(St,yt,it,xt,At,un,it,xt,ee.DEPTH_BUFFER_BIT,ee.NEAREST);te.bindFramebuffer(ee.READ_FRAMEBUFFER,null),te.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else if(fe!==0||G.isRenderTargetTexture||Ge.has(G)){const Dr=Ge.get(G),ui=Ge.get(ue);te.bindFramebuffer(ee.READ_FRAMEBUFFER,Nr),te.bindFramebuffer(ee.DRAW_FRAMEBUFFER,Jn);for(let Si=0;Si<dt;Si++)dn?ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Dr.__webglTexture,fe,Tt+Si):ee.framebufferTexture2D(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,Dr.__webglTexture,fe),ur?ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ui.__webglTexture,Oe,ei+Si):ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,ui.__webglTexture,Oe),fe!==0?ee.blitFramebuffer(St,yt,it,xt,At,un,it,xt,ee.COLOR_BUFFER_BIT,ee.NEAREST):ur?ee.copyTexSubImage3D(si,Oe,At,un,ei+Si,St,yt,it,xt):ee.copyTexSubImage2D(si,Oe,At,un,St,yt,it,xt);te.bindFramebuffer(ee.READ_FRAMEBUFFER,null),te.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else ur?G.isDataTexture||G.isData3DTexture?ee.texSubImage3D(si,Oe,At,un,ei,it,xt,dt,Sn,Ct,Xn.data):ue.isCompressedArrayTexture?ee.compressedTexSubImage3D(si,Oe,At,un,ei,it,xt,dt,Sn,Xn.data):ee.texSubImage3D(si,Oe,At,un,ei,it,xt,dt,Sn,Ct,Xn):G.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,Oe,At,un,it,xt,Sn,Ct,Xn.data):G.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,Oe,At,un,Xn.width,Xn.height,Sn,Xn.data):ee.texSubImage2D(ee.TEXTURE_2D,Oe,At,un,it,xt,Sn,Ct,Xn);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Nn),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,cr),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Ci),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Mn),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,yo),Oe===0&&ue.generateMipmaps&&ee.generateMipmap(si),te.unbindTexture()},this.initRenderTarget=function(G){Ge.get(G).__webglFramebuffer===void 0&&Je.setupRenderTarget(G)},this.initTexture=function(G){G.isCubeTexture?Je.setTextureCube(G,0):G.isData3DTexture?Je.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?Je.setTexture2DArray(G,0):Je.setTexture2D(G,0),te.unbindTexture()},this.resetState=function(){z=0,k=0,F=null,te.reset(),st.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return uo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Hn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Hn._getUnpackColorSpace()}}const fY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:tR,AddEquation:Ff,AddOperation:Cz,AdditiveAnimationBlendMode:uR,AdditiveBlending:RA,AgXToneMapping:Pz,AlphaFormat:oR,AlwaysCompare:Yz,AlwaysDepth:v1,AlwaysStencilFunc:PA,AmbientLight:Vk,AnimationAction:$k,AnimationClip:Zy,AnimationLoader:bG,AnimationMixer:$G,AnimationObjectGroup:YG,AnimationUtils:vG,ArcCurve:dk,ArrayCamera:qk,ArrowHelper:S9,AttachedBindMode:LA,Audio:Yk,AudioAnalyser:kG,AudioContext:zR,AudioListener:OG,AudioLoader:LG,AxesHelper:M9,BackSide:ha,BasicDepthPacking:Bz,BasicShadowMap:lz,BatchedMesh:lk,Bone:yR,BooleanKeyframeTrack:Qd,Box2:a9,Box3:Bs,Box3Helper:x9,BoxGeometry:Kd,BoxHelper:_9,BufferAttribute:vi,BufferGeometry:yn,BufferGeometryLoader:Xk,ByteType:iR,Cache:wc,Camera:HM,CameraHelper:y9,CanvasTexture:F2,CapsuleGeometry:ZM,CatmullRomCurve3:pk,CineonToneMapping:Dz,CircleGeometry:$M,ClampToEdgeWrapping:Ko,Clock:kR,Color:Mt,ColorKeyframeTrack:PR,ColorManagement:Hn,CompressedArrayTexture:k2,CompressedCubeTexture:B2,CompressedTexture:YM,CompressedTextureLoader:SG,ConeGeometry:h_,ConstantAlphaFactor:Ez,ConstantColorFactor:Mz,Controls:E9,CubeCamera:tk,CubeReflectionMapping:Iu,CubeRefractionMapping:ih,CubeTexture:u_,CubeTextureLoader:MG,CubeUVReflectionMapping:Cg,CubicBezierCurve:MR,CubicBezierCurve3:mk,CubicInterpolant:Ik,CullFaceBack:CA,CullFaceFront:oz,CullFaceFrontBack:q8,CullFaceNone:az,Curve:Bl,CurvePath:vk,CustomBlending:cz,CustomToneMapping:Lz,CylinderGeometry:f_,Cylindrical:s9,Data3DTexture:VM,DataArrayTexture:FM,DataTexture:Ac,DataTextureLoader:wG,DataUtils:c2,DecrementStencilOp:oj,DecrementWrapStencilOp:cj,DefaultLoadingManager:OR,DepthFormat:mg,DepthStencilFormat:gg,DepthTexture:xR,DetachedBindMode:Oz,DirectionalLight:Fk,DirectionalLightHelper:v9,DiscreteInterpolant:Ok,DodecahedronGeometry:KM,DoubleSide:xc,DstAlphaFactor:yz,DstColorFactor:xz,DynamicCopyUsage:wj,DynamicDrawUsage:yj,DynamicReadUsage:bj,EdgesGeometry:hk,EllipseCurve:QM,EqualCompare:Gz,EqualDepth:_1,EqualStencilFunc:dj,EquirectangularReflectionMapping:Iy,EquirectangularRefractionMapping:Oy,Euler:vo,EventDispatcher:Dc,ExternalTexture:bR,ExtrudeGeometry:JM,FileLoader:Uu,Float16BufferAttribute:g2,Float32BufferAttribute:Pt,FloatType:Ba,Fog:GM,FogExp2:jM,FramebufferTexture:z2,FrontSide:Pu,Frustum:Dg,FrustumArray:qM,GLBufferAttribute:t9,GLSL1:Tj,GLSL3:IA,GreaterCompare:Wz,GreaterDepth:b1,GreaterEqualCompare:qz,GreaterEqualDepth:x1,GreaterEqualStencilFunc:vj,GreaterStencilFunc:mj,GridHelper:m9,Group:Gm,HalfFloatType:Rg,HemisphereLight:zk,HemisphereLightHelper:p9,IcosahedronGeometry:ew,ImageBitmapLoader:DG,ImageLoader:$y,ImageUtils:Kz,IncrementStencilOp:aj,IncrementWrapStencilOp:lj,InstancedBufferAttribute:bg,InstancedBufferGeometry:Wk,InstancedInterleavedBuffer:e9,InstancedMesh:ok,Int16BufferAttribute:p2,Int32BufferAttribute:m2,Int8BufferAttribute:f2,IntType:PM,InterleavedBuffer:WM,InterleavedBufferAttribute:qd,Interpolant:m_,InterpolateDiscrete:ky,InterpolateLinear:K1,InterpolateSmooth:US,InterpolationSamplingMode:Rj,InterpolationSamplingType:Cj,InvertStencilOp:uj,KeepStencilOp:xd,KeyframeTrack:il,LOD:sk,LatheGeometry:tw,Layers:_g,LessCompare:jz,LessDepth:y1,LessEqualCompare:fR,LessEqualDepth:Xd,LessEqualStencilFunc:pj,LessStencilFunc:hj,Light:dh,LightProbe:Gk,Line:sh,Line3:c9,LineBasicMaterial:pa,LineCurve:wR,LineCurve3:gk,LineDashedMaterial:Dk,LineLoop:ck,LineSegments:Lc,LinearFilter:Fr,LinearInterpolant:LR,LinearMipMapLinearFilter:K8,LinearMipMapNearestFilter:$8,LinearMipmapLinearFilter:Mc,LinearMipmapNearestFilter:oy,LinearSRGBColorSpace:rh,LinearToneMapping:Rz,LinearTransfer:Fy,Loader:qa,LoaderUtils:BA,LoadingManager:IR,LoopOnce:Uz,LoopPingPong:kz,LoopRepeat:zz,MOUSE:W8,Material:Vs,MaterialLoader:lw,MathUtils:Xj,Matrix2:HR,Matrix3:hn,Matrix4:tn,MaxEquation:dz,Mesh:Rr,MeshBasicMaterial:fh,MeshDepthMaterial:RR,MeshDistanceMaterial:NR,MeshLambertMaterial:Rk,MeshMatcapMaterial:Nk,MeshNormalMaterial:Ck,MeshPhongMaterial:Tk,MeshPhysicalMaterial:Ek,MeshStandardMaterial:CR,MeshToonMaterial:Ak,MinEquation:hz,MirroredRepeatWrapping:zy,MixOperation:Az,MultiplyBlending:DA,MultiplyOperation:l_,NearestFilter:ps,NearestMipMapLinearFilter:Z8,NearestMipMapNearestFilter:Y8,NearestMipmapLinearFilter:Hm,NearestMipmapNearestFilter:nR,NeutralToneMapping:Iz,NeverCompare:Hz,NeverDepth:g1,NeverStencilFunc:fj,NoBlending:Eu,NoColorSpace:_u,NoToneMapping:Tc,NormalAnimationBlendMode:BM,NormalBlending:kd,NotEqualCompare:Xz,NotEqualDepth:S1,NotEqualStencilFunc:gj,NumberKeyframeTrack:qy,Object3D:Zn,ObjectLoader:RG,ObjectSpaceNormalMap:Vz,OctahedronGeometry:d_,OneFactor:mz,OneMinusConstantAlphaFactor:Tz,OneMinusConstantColorFactor:wz,OneMinusDstAlphaFactor:_z,OneMinusDstColorFactor:bz,OneMinusSrcAlphaFactor:m1,OneMinusSrcColorFactor:vz,OrthographicCamera:v_,PCFShadowMap:DM,PCFSoftShadowMap:ay,PMREMGenerator:HA,Path:tM,PerspectiveCamera:Qr,Plane:kf,PlaneGeometry:Lg,PlaneHelper:b9,PointLight:Bk,PointLightHelper:h9,Points:uk,PointsMaterial:_R,PolarGridHelper:g9,PolyhedronGeometry:hh,PositionalAudio:zG,PropertyBinding:qn,PropertyMixer:Zk,QuadraticBezierCurve:ER,QuadraticBezierCurve3:TR,Quaternion:Ga,QuaternionKeyframeTrack:g_,QuaternionLinearInterpolant:Uk,RED_GREEN_RGTC2_Format:Z1,RED_RGTC1_Format:q1,REVISION:NM,RGBADepthPacking:Fz,RGBAFormat:Us,RGBAIntegerFormat:kM,RGBA_ASTC_10x10_Format:V1,RGBA_ASTC_10x5_Format:k1,RGBA_ASTC_10x6_Format:B1,RGBA_ASTC_10x8_Format:F1,RGBA_ASTC_12x10_Format:H1,RGBA_ASTC_12x12_Format:j1,RGBA_ASTC_4x4_Format:N1,RGBA_ASTC_5x4_Format:D1,RGBA_ASTC_5x5_Format:L1,RGBA_ASTC_6x5_Format:P1,RGBA_ASTC_6x6_Format:I1,RGBA_ASTC_8x5_Format:O1,RGBA_ASTC_8x6_Format:U1,RGBA_ASTC_8x8_Format:z1,RGBA_BPTC_Format:G1,RGBA_ETC2_EAC_Format:R1,RGBA_PVRTC_2BPPV1_Format:T1,RGBA_PVRTC_4BPPV1_Format:E1,RGBA_S3TC_DXT1_Format:cy,RGBA_S3TC_DXT3_Format:uy,RGBA_S3TC_DXT5_Format:fy,RGBDepthPacking:nj,RGBFormat:lR,RGBIntegerFormat:Q8,RGB_BPTC_SIGNED_Format:W1,RGB_BPTC_UNSIGNED_Format:X1,RGB_ETC1_Format:A1,RGB_ETC2_Format:C1,RGB_PVRTC_2BPPV1_Format:w1,RGB_PVRTC_4BPPV1_Format:M1,RGB_S3TC_DXT1_Format:ly,RGDepthPacking:ij,RGFormat:cR,RGIntegerFormat:zM,RawShaderMaterial:wk,Ray:Ng,Raycaster:Kk,RectAreaLight:Hk,RedFormat:UM,RedIntegerFormat:c_,ReinhardToneMapping:Nz,RenderTarget:dR,RenderTarget3D:KG,RepeatWrapping:Uy,ReplaceStencilOp:sj,ReverseSubtractEquation:fz,RingGeometry:nw,SIGNED_RED_GREEN_RGTC2_Format:$1,SIGNED_RED_RGTC1_Format:Y1,SRGBColorSpace:Ps,SRGBTransfer:fi,Scene:gR,ShaderChunk:xn,ShaderLib:Rl,ShaderMaterial:Ul,ShadowMaterial:Mk,Shape:Fd,ShapeGeometry:iw,ShapePath:w9,ShapeUtils:Dl,ShortType:rR,Skeleton:XM,SkeletonHelper:f9,SkinnedMesh:ak,Source:qf,Sphere:ms,SphereGeometry:p_,Spherical:r9,SphericalHarmonics3:jk,SplineCurve:AR,SpotLight:kk,SpotLightHelper:u9,Sprite:rk,SpriteMaterial:vR,SrcAlphaFactor:p1,SrcAlphaSaturateFactor:Sz,SrcColorFactor:gz,StaticCopyUsage:Mj,StaticDrawUsage:Vy,StaticReadUsage:xj,StereoCamera:PG,StreamCopyUsage:Ej,StreamDrawUsage:_j,StreamReadUsage:Sj,StringKeyframeTrack:Jd,SubtractEquation:uz,SubtractiveBlending:NA,TOUCH:X8,TangentSpaceNormalMap:uh,TetrahedronGeometry:rw,Texture:lr,TextureLoader:EG,TextureUtils:N9,Timer:n9,TimestampQuery:Aj,TorusGeometry:sw,TorusKnotGeometry:aw,Triangle:ka,TriangleFanDrawMode:tj,TriangleStripDrawMode:ej,TrianglesDrawMode:J8,TubeGeometry:ow,UVMapping:LM,Uint16BufferAttribute:pR,Uint32BufferAttribute:mR,Uint8BufferAttribute:h2,Uint8ClampedBufferAttribute:d2,Uniform:VR,UniformsGroup:JG,UniformsLib:gt,UniformsUtils:ek,UnsignedByteType:el,UnsignedInt101111Type:aR,UnsignedInt248Type:pg,UnsignedInt5999Type:sR,UnsignedIntType:Ou,UnsignedShort4444Type:IM,UnsignedShort5551Type:OM,UnsignedShortType:dg,VSMShadowMap:Cl,Vector2:je,Vector3:Q,Vector4:Yn,VectorKeyframeTrack:Yy,VideoFrameTexture:U2,VideoTexture:fk,WebGL3DRenderTarget:Jj,WebGLArrayRenderTarget:Qj,WebGLCoordinateSystem:uo,WebGLCubeRenderTarget:nk,WebGLRenderTarget:Nc,WebGLRenderer:sB,WebGLUtils:rB,WebGPUCoordinateSystem:vg,WebXRController:zS,WireframeGeometry:Sk,WrapAroundEnding:By,ZeroCurvatureEnding:Td,ZeroFactor:pz,ZeroSlopeEnding:Ad,ZeroStencilOp:rj,createCanvasElement:$z},Symbol.toStringTag,{value:"Module"}));function hY({isReady:i,onDone:e}){const t=j.useRef(null),n=j.useRef(null),r=j.useRef(null),[s,o]=j.useState(0),[c,h]=j.useState("loading"),p=j.useRef(!1),m=j.useRef(null);return j.useEffect(()=>{const g=document.body,_=document.documentElement,x=window.scrollY||0,b={bodyPosition:g.style.position,bodyTop:g.style.top,bodyLeft:g.style.left,bodyRight:g.style.right,bodyWidth:g.style.width,bodyOverflow:g.style.overflow,htmlOverflow:_.style.overflow};_.style.overflow="hidden",g.style.overflow="hidden",g.style.position="fixed",g.style.top=`-${x}px`,g.style.left="0",g.style.right="0",g.style.width="100%";const T=M=>M.preventDefault(),E=M=>{["Space","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(M.code)&&M.preventDefault()};return window.addEventListener("wheel",T,{passive:!1}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("keydown",E,{passive:!1}),()=>{window.removeEventListener("wheel",T),window.removeEventListener("touchmove",T),window.removeEventListener("keydown",E),g.style.position=b.bodyPosition,g.style.top=b.bodyTop,g.style.left=b.bodyLeft,g.style.right=b.bodyRight,g.style.width=b.bodyWidth,g.style.overflow=b.bodyOverflow,_.style.overflow=b.htmlOverflow,window.scrollTo(0,x)}},[]),j.useEffect(()=>{const g=OR,_=g.onStart,x=g.onProgress,b=g.onLoad;return g.onStart=(T,E,M)=>{M>0&&(p.current=!0,o(Math.min(100,Math.round(E/M*100))))},g.onProgress=(T,E,M)=>{M>0&&(p.current=!0,o(Math.min(100,Math.round(E/M*100))))},g.onLoad=()=>{p.current=!0,o(100)},()=>{g.onStart=_,g.onProgress=x,g.onLoad=b}},[]),j.useEffect(()=>{const g=t.current;g&&(Qn.set(g,{autoAlpha:1}),Qn.set(n.current,{yPercent:0}),Qn.set(r.current,{autoAlpha:0,y:12,filter:"blur(10px)"}),Qn.to(r.current,{autoAlpha:1,y:0,filter:"blur(0px)",duration:.85,ease:"power3.out",delay:.12}))},[]),j.useEffect(()=>{if(c!=="loading")return;const g=setTimeout(()=>{if(p.current)return;m.current?.kill();const _={p:s};m.current=Qn.to(_,{p:92,duration:2.2,ease:"power1.out",onUpdate:()=>o(Math.min(100,Math.round(_.p)))})},300);return()=>clearTimeout(g)},[c]),j.useEffect(()=>{if(!i||c!=="loading")return;h("finishing"),m.current?.kill();const g={p:s};Qn.to(g,{p:100,duration:.55,ease:"power2.out",onUpdate:()=>o(Math.min(100,Math.round(g.p))),onComplete:()=>{o(100),requestAnimationFrame(()=>{h("leaving");const _=Qn.timeline({defaults:{ease:"power4.inOut"},onComplete:()=>{h("done"),e?.()}});_.to(r.current,{autoAlpha:0,y:-10,filter:"blur(10px)",duration:.35,ease:"power3.in"}),_.to(n.current,{yPercent:-110,duration:1.05},"<0.05"),_.to(t.current,{autoAlpha:0,duration:.2},">-0.18")})}})},[i,c,s,e]),c==="done"?null:C.jsxs("div",{ref:t,className:"loader-root","aria-hidden":!1,children:[C.jsx("div",{ref:n,className:"loader-curtain"}),C.jsxs("div",{ref:r,className:"loader-content",children:[C.jsx("div",{className:"loader-title",children:"Loading"}),C.jsxs("div",{className:"loader-meter",children:[C.jsx("div",{className:"loader-bar",children:C.jsx("div",{className:"loader-barFill",style:{width:`${s}%`}})}),C.jsxs("div",{className:"loader-pct",children:[s,"%"]})]})]})]})}const dY=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pY=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),tP=i=>{const e=pY(i);return e.charAt(0).toUpperCase()+e.slice(1)},aB=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),mY=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vY=j.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:o,...c},h)=>j.createElement("svg",{ref:h,...gY,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:aB("lucide",r),...!s&&!mY(c)&&{"aria-hidden":"true"},...c},[...o.map(([p,m])=>j.createElement(p,m)),...Array.isArray(s)?s:[s]]));const jr=(i,e)=>{const t=j.forwardRef(({className:n,...r},s)=>j.createElement(vY,{ref:s,iconNode:e,className:aB(`lucide-${dY(tP(i))}`,`lucide-${i}`,n),...r}));return t.displayName=tP(i),t};const yY=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],_Y=jr("brain",yY);const xY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],BS=jr("circle-check",xY);const bY=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],SY=jr("database-zap",bY);const MY=[["path",{d:"M12 13V2l8 4-8 4",key:"5wlwwj"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29",key:"1c0wjv"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02",key:"gb1g7m"}]],wY=jr("goal",MY);const EY=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],TY=jr("graduation-cap",EY);const AY=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],CY=jr("grip-horizontal",AY);const RY=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],NY=jr("grip-vertical",RY);const DY=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],Yf=jr("grip",DY);const LY=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],PY=jr("handshake",LY);const IY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],OY=jr("map-pin",IY);const UY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zY=jr("menu",UY);const kY=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],BY=jr("package-check",kY);const FY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],VY=jr("plus",FY);const HY=[["path",{d:"M2.5 16.88a1 1 0 0 1-.32-1.43l9-13.02a1 1 0 0 1 1.64 0l9 13.01a1 1 0 0 1-.32 1.44l-8.51 4.86a2 2 0 0 1-1.98 0Z",key:"aenxs0"}],["path",{d:"M12 2v20",key:"t6zp3m"}]],jY=jr("pyramid",HY);const GY=[["path",{d:"M4.9 16.1C1 12.2 1 5.8 4.9 1.9",key:"s0qx1y"}],["path",{d:"M7.8 4.7a6.14 6.14 0 0 0-.8 7.5",key:"1idnkw"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}],["path",{d:"M16.2 4.8c2 2 2.26 5.11.8 7.47",key:"ojru2q"}],["path",{d:"M19.1 1.9a9.96 9.96 0 0 1 0 14.1",key:"rhi7fg"}],["path",{d:"M9.5 18h5",key:"mfy3pd"}],["path",{d:"m8 22 4-11 4 11",key:"25yftu"}]],WY=jr("radio-tower",GY);const XY=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],qY=jr("sprout",XY);const YY=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],oB=jr("telescope",YY);const ZY=[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],$Y=jr("view",ZY);const KY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QY=jr("x",KY),lB=j.createContext(),JY=()=>j.useContext(lB),eZ=j.forwardRef(({children:i,enabled:e,lenisRef:t},n)=>{const r=j.useRef(null),s=vM(),o=nl(),c=j.useRef(!1),h=j.useRef(o.pathname),p=(m,g)=>{if(c.current||m===o.pathname)return;c.current=!0,t.current&&t.current.stop(),Qn.timeline().to(r.current,{y:"0%",duration:.6,ease:"power4.inOut"}).add(()=>{$t.getAll().forEach(x=>x.kill()),h.current=m,s(m),window.scrollTo(0,0),t.current&&t.current.scrollTo(0,{immediate:!0})}).to(r.current,{y:"-100%",duration:.7,ease:"power3.out",delay:.3,onComplete:()=>{t.current&&t.current.start(),$t.refresh(),c.current=!1,g?.()}})};return j.useEffect(()=>{o.pathname!==h.current&&(h.current=o.pathname,$t.getAll().forEach(m=>m.kill()),$t.refresh())},[o.pathname]),j.useImperativeHandle(n,()=>({go:p})),C.jsx(lB.Provider,{value:{go:p},children:C.jsxs("div",{className:"transition-wrapper",style:{position:"relative",zIndex:2},children:[i,C.jsx("div",{ref:r,className:"page-transition-curtain",style:{position:"fixed",inset:0,background:"#000102",transform:"translateY(-100%)",zIndex:9999,pointerEvents:"none"}})]})})}),tZ="data:image/svg+xml,%3csvg%20width='102'%20height='50'%20viewBox='0%200%20102%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24.1675%201.38618L22.7694%200H0V49.9965H6.81599V28.3504H16.1882L23.9275%2043.232V49.9965H30.7434V41.9856L29.7654%2040.0843L23.4314%2027.7803L29.8219%2021.3009L30.7452%2020.3643V7.90107L28.994%206.16613L24.1693%201.38441L24.1675%201.38618ZM23.8551%2017.5282L19.8795%2021.6585H6.81422V6.7769H19.8071L23.8551%2010.7637V17.5282Z'%20fill='black'/%3e%3cpath%20d='M95.2855%201.25518L94.0374%200H80.5732C80.5643%200%2080.552%200%2080.5431%200H79.1768L78.2376%200.91704C78.2376%200.91704%2078.2199%200.931204%2078.2129%200.940056L78.1635%200.991397L77.6038%201.53843L77.6303%201.53489L71.2557%208.02677V23.4908L73.1499%2024.1494L95.1125%2031.7902V39.146L91.2076%2043.2868H82.0472L78.1423%2039.146V35.4336C78.1423%2035.4088%2078.137%2035.3875%2078.1352%2035.3645V34.0775H71.2539V42.0759L72.4455%2043.2744L78.2111%2049.0723L79.1344%2050H94.0304L94.9536%2049.0847C94.9536%2049.0847%2094.9642%2049.0759%2094.9695%2049.0706L95.0737%2048.9661L95.2467%2048.7944H95.2432L100.214%2043.7967L101.999%2042.1025V26.5942L100.721%2026.1498L78.1423%2018.2948L78.0717%2010.8682L81.9766%206.72733H91.2782L95.1125%2010.8682V15.9385H101.999V8.0126L100.79%206.79637L95.2855%201.25872V1.25518Z'%20fill='black'/%3e%3cpath%20d='M36.9791%200.010498C36.1265%200.010498%2035.5633%200.010498%2035.6304%200.010498V6.70419H47.5588V49.9963H54.3748V6.70419H66.3756V0.010498H36.9791Z'%20fill='black'/%3e%3c/svg%3e",Bf=(...i)=>i.filter(Boolean).join(" "),nZ={"display-lg":"text-display-lg font-display-lg leading-display-lg tracking-display-lg font-display","display-md":"text-display-md font-display-md leading-display-md tracking-display-md font-display","display-sm":"text-display-sm font-display-sm leading-display-sm tracking-display-sm font-display","headline-large":"text-headline-large font-headline-large leading-headline-large font-display","headline-medium":"text-headline-medium font-headline-medium leading-headline-medium tracking-headline-medium font-display","headline-small":"text-headline-small font-headline-small leading-headline-small tracking-headline-small font-display","title-large":"text-title-large leading-title-large font-title-large font-base","title-medium":"text-title-medium leading-title-medium font-title-medium","title-small":"text-title-small leading-title-small tracking-title-small font-title-small font-base","title-body":"text-title-body leading-title-body tracking-title-body font-semibold font-base","body-lg":"text-body-lg leading-body-lg font-body-lg","body-md":"text-body-md leading-body-md font-body-md","body-sm":"text-body-sm leading-body-sm font-body-sm","body-default":"font-base text-body-default leading-body-default","body-default-white":"font-base text-body-default leading-body-default text-on-white","subtitle-lg":"text-subtitle-lg leading-subtitle-lg font-subtitle-lg","subtitle-md":"text-subtitle-md leading-subtitle-md tracking-subtitle-md font-subtitle-md","subtitle-sm":"text-subtitle-sm leading-subtitle-sm font-subtitle-sm"},nP={base:"font-base",display:"font-display",sans:"font-sans",serif:"font-serif",mono:"font-mono"},iZ={"display-lg":"h1","display-md":"h1","display-sm":"h1","headline-large":"h1","headline-medium":"h2","headline-small":"h3","headline-lg":"h1","headline-md":"h2","headline-sm":"h3","title-large":"h3","title-medium":"h4","title-small":"h5","title-body":"h6","title-lg":"h3","title-md":"h4","title-sm":"h5","body-lg":"p","body-md":"p","body-sm":"p","body-default":"p","body-default-white":"p","subtitle-lg":"span","subtitle-md":"span","subtitle-sm":"span"},Fe=({variant:i,weight:e=null,lineHeight:t=null,letterSpacing:n=null,color:r=null,fontFamily:s=null,className:o="",as:c,children:h,...p})=>{const m=c||iZ[i]||"div",g=nZ[i]||"",_=Bf(g,e&&(typeof e=="string"?`font-${e}`:`font-[${e}]`),t&&`leading-[${t}]`,n&&`tracking-[${n}]`,r&&(r.startsWith("#")||r.startsWith("rgb")||r.startsWith("var")?`[color:${r}]`:`text-${r}`),s&&(nP[s]?nP[s]:`[font-family:${s}]`),o),x=b=>typeof b=="string"?b.split(`
`).map((T,E,M)=>C.jsxs(Pl.Fragment,{children:[T,E<M.length-1&&C.jsx("br",{})]},E)):b;return Pl.createElement(m,{className:_,...p},x(h))};function cB(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=cB(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function rZ(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=cB(i))&&(n&&(n+=" "),n+=e);return n}const iP=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,rP=rZ,sZ=(i,e)=>t=>{var n;if(e?.variants==null)return rP(i,t?.class,t?.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(p=>{const m=t?.[p],g=s?.[p];if(m===null)return null;const _=iP(m)||iP(g);return r[p][_]}),c=t&&Object.entries(t).reduce((p,m)=>{let[g,_]=m;return _===void 0||(p[g]=_),p},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,m)=>{let{class:g,className:_,...x}=m;return Object.entries(x).every(b=>{let[T,E]=b;return Array.isArray(E)?E.includes({...s,...c}[T]):{...s,...c}[T]===E})?[...p,g,_]:p},[]);return rP(i,o,h,t?.class,t?.className)},GR=j.createContext({});function ah(i){const e=j.useRef(null);return e.current===null&&(e.current=i()),e.current}const uB=typeof window<"u",uw=uB?j.useLayoutEffect:j.useEffect,fw=j.createContext(null);function WR(i,e){i.indexOf(e)===-1&&i.push(e)}function XR(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const zl=(i,e,t)=>t>e?e:t<i?i:t;let Ky=()=>{};const zu={},fB=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function hB(i){return typeof i=="object"&&i!==null}const dB=i=>/^0[^.\s]+$/u.test(i);function qR(i){let e;return()=>(e===void 0&&(e=i()),e)}const Wa=i=>i,aZ=(i,e)=>t=>e(i(t)),y_=(...i)=>i.reduce(aZ),Mg=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class YR{constructor(){this.subscriptions=[]}add(e){return WR(this.subscriptions,e),()=>XR(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Au=i=>i*1e3,Qo=i=>i/1e3;function ZR(i,e){return e?i*(1e3/e):0}const pB=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,oZ=1e-7,lZ=12;function cZ(i,e,t,n,r){let s,o,c=0;do o=e+(t-e)/2,s=pB(o,n,r)-i,s>0?t=o:e=o;while(Math.abs(s)>oZ&&++c<lZ);return o}function __(i,e,t,n){if(i===e&&t===n)return Wa;const r=s=>cZ(s,0,1,i,t);return s=>s===0||s===1?s:pB(r(s),e,n)}const mB=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,gB=i=>e=>1-i(1-e),vB=__(.33,1.53,.69,.99),$R=gB(vB),yB=mB($R),_B=i=>(i*=2)<1?.5*$R(i):.5*(2-Math.pow(2,-10*(i-1))),KR=i=>1-Math.sin(Math.acos(i)),xB=gB(KR),bB=mB(KR),uZ=__(.42,0,1,1),fZ=__(0,0,.58,1),SB=__(.42,0,.58,1),hZ=i=>Array.isArray(i)&&typeof i[0]!="number",MB=i=>Array.isArray(i)&&typeof i[0]=="number",dZ={linear:Wa,easeIn:uZ,easeInOut:SB,easeOut:fZ,circIn:KR,circInOut:bB,circOut:xB,backIn:$R,backInOut:yB,backOut:vB,anticipate:_B},pZ=i=>typeof i=="string",sP=i=>{if(MB(i)){Ky(i.length===4);const[e,t,n,r]=i;return __(e,t,n,r)}else if(pZ(i))return dZ[i];return i},mS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mZ(i,e){let t=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){o.has(m)&&(p.schedule(m),i()),m(c)}const p={schedule:(m,g=!1,_=!1)=>{const b=_&&r?t:n;return g&&o.add(m),b.has(m)||b.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(h),t.clear(),r=!1,s&&(s=!1,p.process(m))}};return p}const gZ=40;function wB(i,e){let t=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=mS.reduce((D,L)=>(D[L]=mZ(s),D),{}),{setup:c,read:h,resolveKeyframes:p,preUpdate:m,update:g,preRender:_,render:x,postRender:b}=o,T=()=>{const D=zu.useManualTiming?r.timestamp:performance.now();t=!1,zu.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(D-r.timestamp,gZ),1)),r.timestamp=D,r.isProcessing=!0,c.process(r),h.process(r),p.process(r),m.process(r),g.process(r),_.process(r),x.process(r),b.process(r),r.isProcessing=!1,t&&e&&(n=!1,i(T))},E=()=>{t=!0,n=!0,r.isProcessing||i(T)};return{schedule:mS.reduce((D,L)=>{const I=o[L];return D[L]=(z,k=!1,F=!1)=>(t||E(),I.schedule(z,k,F)),D},{}),cancel:D=>{for(let L=0;L<mS.length;L++)o[mS[L]].cancel(D)},state:r,steps:o}}const{schedule:ci,cancel:kl,state:Kr,steps:_T}=wB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wa,!0);let FS;function vZ(){FS=void 0}const ua={now:()=>(FS===void 0&&ua.set(Kr.isProcessing||zu.useManualTiming?Kr.timestamp:performance.now()),FS),set:i=>{FS=i,queueMicrotask(vZ)}},EB=i=>e=>typeof e=="string"&&e.startsWith(i),TB=EB("--"),yZ=EB("var(--"),QR=i=>yZ(i)?_Z.test(i.split("/*")[0].trim()):!1,_Z=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function aP(i){return typeof i!="string"?!1:i.split("/*")[0].includes("var(--")}const Ig={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Qy={...Ig,transform:i=>zl(0,1,i)},gS={...Ig,default:1},my=i=>Math.round(i*1e5)/1e5,JR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xZ(i){return i==null}const bZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e3=(i,e)=>t=>!!(typeof t=="string"&&bZ.test(t)&&t.startsWith(i)||e&&!xZ(t)&&Object.prototype.hasOwnProperty.call(t,e)),AB=(i,e,t)=>n=>{if(typeof n!="string")return n;const[r,s,o,c]=n.match(JR);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},SZ=i=>zl(0,255,i),xT={...Ig,transform:i=>Math.round(SZ(i))},Rd={test:e3("rgb","red"),parse:AB("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+xT.transform(i)+", "+xT.transform(e)+", "+xT.transform(t)+", "+my(Qy.transform(n))+")"};function MZ(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const GA={test:e3("#"),parse:MZ,transform:Rd.transform},x_=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),zf=x_("deg"),Cc=x_("%"),Lt=x_("px"),wZ=x_("vh"),EZ=x_("vw"),oP={...Cc,parse:i=>Cc.parse(i)/100,transform:i=>Cc.transform(i*100)},Xm={test:e3("hsl","hue"),parse:AB("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+Cc.transform(my(e))+", "+Cc.transform(my(t))+", "+my(Qy.transform(n))+")"},Ar={test:i=>Rd.test(i)||GA.test(i)||Xm.test(i),parse:i=>Rd.test(i)?Rd.parse(i):Xm.test(i)?Xm.parse(i):GA.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Rd.transform(i):Xm.transform(i),getAnimatableNone:i=>{const e=Ar.parse(i);return e.alpha=0,Ar.transform(e)}},TZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AZ(i){return isNaN(i)&&typeof i=="string"&&(i.match(JR)?.length||0)+(i.match(TZ)?.length||0)>0}const CB="number",RB="color",CZ="var",RZ="var(",lP="${}",NZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jy(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},r=[];let s=0;const c=e.replace(NZ,h=>(Ar.test(h)?(n.color.push(s),r.push(RB),t.push(Ar.parse(h))):h.startsWith(RZ)?(n.var.push(s),r.push(CZ),t.push(h)):(n.number.push(s),r.push(CB),t.push(parseFloat(h))),++s,lP)).split(lP);return{values:t,split:c,indexes:n,types:r}}function NB(i){return Jy(i).values}function DB(i){const{split:e,types:t}=Jy(i),n=e.length;return r=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],r[o]!==void 0){const c=t[o];c===CB?s+=my(r[o]):c===RB?s+=Ar.transform(r[o]):s+=r[o]}return s}}const DZ=i=>typeof i=="number"?0:Ar.test(i)?Ar.getAnimatableNone(i):i;function LZ(i){const e=NB(i);return DB(i)(e.map(DZ))}const oh={test:AZ,parse:NB,createTransformer:DB,getAnimatableNone:LZ};function bT(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function PZ({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,h=2*t-c;r=bT(h,c,i+1/3),s=bT(h,c,i),o=bT(h,c,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function nM(i,e){return t=>t>0?e:i}const Ji=(i,e,t)=>i+(e-i)*t,ST=(i,e,t)=>{const n=i*i,r=t*(e*e-n)+n;return r<0?0:Math.sqrt(r)},IZ=[GA,Rd,Xm],OZ=i=>IZ.find(e=>e.test(i));function cP(i){const e=OZ(i);if(!e)return!1;let t=e.parse(i);return e===Xm&&(t=PZ(t)),t}const uP=(i,e)=>{const t=cP(i),n=cP(e);if(!t||!n)return nM(i,e);const r={...t};return s=>(r.red=ST(t.red,n.red,s),r.green=ST(t.green,n.green,s),r.blue=ST(t.blue,n.blue,s),r.alpha=Ji(t.alpha,n.alpha,s),Rd.transform(r))},WA=new Set(["none","hidden"]);function UZ(i,e){return WA.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function zZ(i,e){return t=>Ji(i,e,t)}function t3(i){return typeof i=="number"?zZ:typeof i=="string"?QR(i)?nM:Ar.test(i)?uP:FZ:Array.isArray(i)?LB:typeof i=="object"?Ar.test(i)?uP:kZ:nM}function LB(i,e){const t=[...i],n=t.length,r=i.map((s,o)=>t3(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=r[o](s);return t}}function kZ(i,e){const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=t3(i[r])(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}}function BZ(i,e){const t=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=i.indexes[s][n[s]],c=i.values[o]??0;t[r]=c,n[s]++}return t}const FZ=(i,e)=>{const t=oh.createTransformer(e),n=Jy(i),r=Jy(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?WA.has(i)&&!r.values.length||WA.has(e)&&!n.values.length?UZ(i,e):y_(LB(BZ(n,r),r.values),t):nM(i,e)};function PB(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?Ji(i,e,t):t3(i)(i,e)}const VZ=i=>{const e=({timestamp:t})=>i(t);return{start:(t=!0)=>ci.update(e,t),stop:()=>kl(e),now:()=>Kr.isProcessing?Kr.timestamp:ua.now()}},IB=(i,e,t=10)=>{let n="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)n+=Math.round(i(s/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},iM=2e4;function n3(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<iM;)e+=t,n=i.next(e);return e>=iM?1/0:e}function HZ(i,e=100,t){const n=t({...i,keyframes:[0,e]}),r=Math.min(n3(n),iM);return{type:"keyframes",ease:s=>n.next(r*s).value/e,duration:Qo(r)}}const jZ=5;function OB(i,e,t){const n=Math.max(e-jZ,0);return ZR(t-i(n),e-n)}const ar={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},MT=.001;function GZ({duration:i=ar.duration,bounce:e=ar.bounce,velocity:t=ar.velocity,mass:n=ar.mass}){let r,s,o=1-e;o=zl(ar.minDamping,ar.maxDamping,o),i=zl(ar.minDuration,ar.maxDuration,Qo(i)),o<1?(r=p=>{const m=p*o,g=m*i,_=m-t,x=XA(p,o),b=Math.exp(-g);return MT-_/x*b},s=p=>{const g=p*o*i,_=g*t+t,x=Math.pow(o,2)*Math.pow(p,2)*i,b=Math.exp(-g),T=XA(Math.pow(p,2),o);return(-r(p)+MT>0?-1:1)*((_-x)*b)/T}):(r=p=>{const m=Math.exp(-p*i),g=(p-t)*i+1;return-MT+m*g},s=p=>{const m=Math.exp(-p*i),g=(t-p)*(i*i);return m*g});const c=5/i,h=XZ(r,s,c);if(i=Au(i),isNaN(h))return{stiffness:ar.stiffness,damping:ar.damping,duration:i};{const p=Math.pow(h,2)*n;return{stiffness:p,damping:o*2*Math.sqrt(n*p),duration:i}}}const WZ=12;function XZ(i,e,t){let n=t;for(let r=1;r<WZ;r++)n=n-i(n)/e(n);return n}function XA(i,e){return i*Math.sqrt(1-e*e)}const qZ=["duration","bounce"],YZ=["stiffness","damping","mass"];function fP(i,e){return e.some(t=>i[t]!==void 0)}function ZZ(i){let e={velocity:ar.velocity,stiffness:ar.stiffness,damping:ar.damping,mass:ar.mass,isResolvedFromDuration:!1,...i};if(!fP(i,YZ)&&fP(i,qZ))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),r=n*n,s=2*zl(.05,1,1-(i.bounce||0))*Math.sqrt(r);e={...e,mass:ar.mass,stiffness:r,damping:s}}else{const t=GZ(i);e={...e,...t,mass:ar.mass},e.isResolvedFromDuration=!0}return e}function rM(i=ar.visualDuration,e=ar.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:s},{stiffness:h,damping:p,mass:m,duration:g,velocity:_,isResolvedFromDuration:x}=ZZ({...t,velocity:-Qo(t.velocity||0)}),b=_||0,T=p/(2*Math.sqrt(h*m)),E=o-s,M=Qo(Math.sqrt(h/m)),R=Math.abs(E)<5;n||(n=R?ar.restSpeed.granular:ar.restSpeed.default),r||(r=R?ar.restDelta.granular:ar.restDelta.default);let D;if(T<1){const I=XA(M,T);D=z=>{const k=Math.exp(-T*M*z);return o-k*((b+T*M*E)/I*Math.sin(I*z)+E*Math.cos(I*z))}}else if(T===1)D=I=>o-Math.exp(-M*I)*(E+(b+M*E)*I);else{const I=M*Math.sqrt(T*T-1);D=z=>{const k=Math.exp(-T*M*z),F=Math.min(I*z,300);return o-k*((b+T*M*E)*Math.sinh(F)+I*E*Math.cosh(F))/I}}const L={calculatedDuration:x&&g||null,next:I=>{const z=D(I);if(x)c.done=I>=g;else{let k=I===0?b:0;T<1&&(k=I===0?Au(b):OB(D,I,z));const F=Math.abs(k)<=n,O=Math.abs(o-z)<=r;c.done=F&&O}return c.value=c.done?o:z,c},toString:()=>{const I=Math.min(n3(L),iM),z=IB(k=>L.next(I*k).value,I,30);return I+"ms "+z},toTransition:()=>{}};return L}rM.applyToOptions=i=>{const e=HZ(i,100,rM);return i.ease=e.ease,i.duration=Au(e.duration),i.type="keyframes",i};function qA({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:c,max:h,restDelta:p=.5,restSpeed:m}){const g=i[0],_={done:!1,value:g},x=F=>c!==void 0&&F<c||h!==void 0&&F>h,b=F=>c===void 0?h:h===void 0||Math.abs(c-F)<Math.abs(h-F)?c:h;let T=t*e;const E=g+T,M=o===void 0?E:o(E);M!==E&&(T=M-g);const R=F=>-T*Math.exp(-F/n),D=F=>M+R(F),L=F=>{const O=R(F),U=D(F);_.done=Math.abs(O)<=p,_.value=_.done?M:U};let I,z;const k=F=>{x(_.value)&&(I=F,z=rM({keyframes:[_.value,b(_.value)],velocity:OB(D,F,_.value),damping:r,stiffness:s,restDelta:p,restSpeed:m}))};return k(0),{calculatedDuration:null,next:F=>{let O=!1;return!z&&I===void 0&&(O=!0,L(F),k(F)),I!==void 0&&F>=I?z.next(F-I):(!O&&L(F),_)}}}function $Z(i,e,t){const n=[],r=t||zu.mix||PB,s=i.length-1;for(let o=0;o<s;o++){let c=r(i[o],i[o+1]);if(e){const h=Array.isArray(e)?e[o]||Wa:e;c=y_(h,c)}n.push(c)}return n}function i3(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;if(Ky(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=i[0]===i[1];i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const c=$Z(e,n,r),h=c.length,p=m=>{if(o&&m<i[0])return e[0];let g=0;if(h>1)for(;g<i.length-2&&!(m<i[g+1]);g++);const _=Mg(i[g],i[g+1],m);return c[g](_)};return t?m=>p(zl(i[0],i[s-1],m)):p}function KZ(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=Mg(0,e,n);i.push(Ji(t,1,r))}}function UB(i){const e=[0];return KZ(e,i.length-1),e}function QZ(i,e){return i.map(t=>t*e)}function JZ(i,e){return i.map(()=>e||SB).splice(0,i.length-1)}function gy({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=hZ(n)?n.map(sP):sP(n),s={done:!1,value:e[0]},o=QZ(t&&t.length===e.length?t:UB(e),i),c=i3(o,e,{ease:Array.isArray(r)?r:JZ(e,r)});return{calculatedDuration:i,next:h=>(s.value=c(h),s.done=h>=i,s)}}const e$=i=>i!==null;function r3(i,{repeat:e,repeatType:t="loop"},n,r=1){const s=i.filter(e$),c=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!c||n===void 0?s[c]:n}const t$={decay:qA,inertia:qA,tween:gy,keyframes:gy,spring:rM};function zB(i){typeof i.type=="string"&&(i.type=t$[i.type])}class s3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const n$=i=>i/100;class a3 extends s3{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==ua.now()&&this.tick(ua.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zB(e);const{type:t=gy,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:c}=e;const h=t||gy;h!==gy&&typeof c[0]!="number"&&(this.mixKeyframes=y_(n$,PB(c[0],c[1])),c=[0,100]);const p=h({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=n3(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:p=0,keyframes:m,repeat:g,repeatType:_,repeatDelay:x,type:b,onUpdate:T,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?M<0:M>r;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let D=this.currentTime,L=n;if(g){const F=Math.min(this.currentTime,r)/c;let O=Math.floor(F),U=F%1;!U&&F>=1&&(U=1),U===1&&O--,O=Math.min(O,g+1),O%2&&(_==="reverse"?(U=1-U,x&&(U-=x/c)):_==="mirror"&&(L=o)),D=zl(0,1,U)*c}const I=R?{done:!1,value:m[0]}:L.next(D);s&&(I.value=s(I.value));let{done:z}=I;!R&&h!==null&&(z=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return k&&b!==qA&&(I.value=r3(m,this.options,E,this.speed)),T&&T(I.value),k&&this.finish(),I}then(e,t){return this.finished.then(e,t)}get duration(){return Qo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qo(e)}get time(){return Qo(this.currentTime)}set time(e){e=Au(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ua.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Qo(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=VZ,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ua.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function i$(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const Nd=i=>i*180/Math.PI,YA=i=>{const e=Nd(Math.atan2(i[1],i[0]));return ZA(e)},r$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:YA,rotateZ:YA,skewX:i=>Nd(Math.atan(i[1])),skewY:i=>Nd(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},ZA=i=>(i=i%360,i<0&&(i+=360),i),hP=YA,dP=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),pP=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),s$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dP,scaleY:pP,scale:i=>(dP(i)+pP(i))/2,rotateX:i=>ZA(Nd(Math.atan2(i[6],i[5]))),rotateY:i=>ZA(Nd(Math.atan2(-i[2],i[0]))),rotateZ:hP,rotate:hP,skewX:i=>Nd(Math.atan(i[4])),skewY:i=>Nd(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function $A(i){return i.includes("scale")?1:0}function KA(i,e){if(!i||i==="none")return $A(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(t)n=s$,r=t;else{const c=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=r$,r=c}if(!r)return $A(e);const s=n[e],o=r[1].split(",").map(o$);return typeof s=="function"?s(o):o[s]}const a$=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return KA(t,e)};function o$(i){return parseFloat(i.trim())}const Og=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ug=new Set(Og),mP=i=>i===Ig||i===Lt,l$=new Set(["x","y","z"]),c$=Og.filter(i=>!l$.has(i));function u$(i){const e=[];return c$.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Zf={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>KA(e,"x"),y:(i,{transform:e})=>KA(e,"y")};Zf.translateX=Zf.x;Zf.translateY=Zf.y;const Vd=new Set;let QA=!1,JA=!1,eC=!1;function kB(){if(JA){const i=Array.from(Vd).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const r=u$(n);r.length&&(t.set(n,r),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=t.get(n);r&&r.forEach(([s,o])=>{n.getValue(s)?.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}JA=!1,QA=!1,Vd.forEach(i=>i.complete(eC)),Vd.clear()}function BB(){Vd.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(JA=!0)})}function f$(){eC=!0,BB(),kB(),eC=!1}class o3{constructor(e,t,n,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Vd.add(this),QA||(QA=!0,ci.read(BB),ci.resolveKeyframes(kB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){const s=r?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&t){const c=n.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}i$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vd.delete(this)}cancel(){this.state==="scheduled"&&(Vd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const h$=i=>i.startsWith("--");function d$(i,e,t){h$(e)?i.style.setProperty(e,t):i.style[e]=t}const FB=qR(()=>window.ScrollTimeline!==void 0),p$={};function m$(i,e){const t=qR(i);return()=>p$[e]??t()}const VB=m$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gv=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,gP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gv([0,.65,.55,1]),circOut:Gv([.55,0,1,.45]),backIn:Gv([.31,.01,.66,-.59]),backOut:Gv([.33,1.53,.69,.99])};function HB(i,e){if(i)return typeof i=="function"?VB()?IB(i,e):"ease-out":MB(i)?Gv(i):Array.isArray(i)?i.map(t=>HB(t,e)||gP.easeOut):gP[i]}function g$(i,e,t,{delay:n=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:c="easeOut",times:h}={},p=void 0){const m={[e]:t};h&&(m.offset=h);const g=HB(c,r);Array.isArray(g)&&(m.easing=g);const _={delay:n,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),i.animate(m,_)}function jB(i){return typeof i=="function"&&"applyToOptions"in i}function v$({type:i,...e}){return jB(i)&&VB()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class y$ extends s3{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Ky(typeof e.type!="string");const p=v$(e);this.animation=g$(t,n,r,p,s),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=r3(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):d$(t,n,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Qo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qo(e)}get time(){return Qo(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Au(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&FB()?(this.animation.timeline=e,Wa):t(this)}}const GB={anticipate:_B,backInOut:yB,circInOut:bB};function _$(i){return i in GB}function x$(i){typeof i.ease=="string"&&_$(i.ease)&&(i.ease=GB[i.ease])}const wT=10;class b$ extends y${constructor(e){x$(e),zB(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new a3({...o,autoplay:!1}),h=Math.max(wT,ua.now()-this.startTime),p=zl(0,wT,h-wT);t.setWithVelocity(c.sample(Math.max(0,h-p)).value,c.sample(h).value,p),c.stop()}}const vP=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(oh.test(i)||i==="0")&&!i.startsWith("url("));function S$(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function M$(i,e,t,n){const r=i[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=i[i.length-1],o=vP(r,e),c=vP(s,e);return!o||!c?!1:S$(i)||(t==="spring"||jB(t))&&n}function tC(i){i.duration=0,i.type="keyframes"}const w$=new Set(["opacity","clipPath","filter","transform"]),E$=qR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T$(i){const{motionValue:e,name:t,repeatDelay:n,repeatType:r,damping:s,type:o}=i;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return E$()&&t&&w$.has(t)&&(t!=="transform"||!p)&&!h&&!n&&r!=="mirror"&&s!==0&&o!=="inertia"}const A$=40;class C$ extends s3{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:c,name:h,motionValue:p,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ua.now();const _={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:o,name:h,motionValue:p,element:m,...g},x=m?.KeyframeResolver||o3;this.keyframeResolver=new x(c,(b,T,E)=>this.onKeyframesResolved(b,T,_,!E),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:c,delay:h,isHandoff:p,onUpdate:m}=n;this.resolvedAt=ua.now(),M$(e,s,o,c)||((zu.instantAnimations||!h)&&m?.(r3(e,n,t)),e[0]=e[e.length-1],tC(n),n.repeat=0);const _={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>A$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},x=!p&&T$(_),b=_.motionValue?.owner?.current,T=x?new b$({..._,element:b}):new a3(_);T.finished.then(()=>{this.notifyFinished()}).catch(Wa),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),f$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function WB(i,e,t,n=0,r=1){const s=Array.from(i).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),o=i.size,c=(o-1)*n;return typeof t=="function"?t(s,o):r===1?s*n:c-s*n}const R$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N$(i){const e=R$.exec(i);if(!e)return[,];const[,t,n,r]=e;return[`--${t??n}`,r]}function XB(i,e,t=1){const[n,r]=N$(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return fB(o)?parseFloat(o):o}return QR(r)?XB(r,e,t+1):r}const D$={type:"spring",stiffness:500,damping:25,restSpeed:10},L$=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),P$={type:"keyframes",duration:.8},I$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O$=(i,{keyframes:e})=>e.length>2?P$:Ug.has(i)?i.startsWith("scale")?L$(e[1]):D$:I$,U$=i=>i!==null;function z$(i,{repeat:e,repeatType:t="loop"},n){const r=i.filter(U$),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[s]}function l3(i,e){return i?.[e]??i?.default??i}function k$({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:c,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const c3=(i,e,t,n={},r,s)=>o=>{const c=l3(n,i)||{},h=c.delay||n.delay||0;let{elapsed:p=0}=n;p=p-Au(h);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:i,motionValue:e,element:s?void 0:r};k$(c)||Object.assign(m,O$(i,m)),m.duration&&(m.duration=Au(m.duration)),m.repeatDelay&&(m.repeatDelay=Au(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(tC(m),m.delay===0&&(g=!0)),(zu.instantAnimations||zu.skipAnimations)&&(g=!0,tC(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!s&&e.get()!==void 0){const _=z$(m.keyframes,c);if(_!==void 0){ci.update(()=>{m.onUpdate(_),m.onComplete()});return}}return c.isSync?new a3(m):new C$(m)};function yP(i){const e=[{},{}];return i?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function u3(i,e,t,n){if(typeof e=="function"){const[r,s]=yP(n);e=e(t!==void 0?t:i.custom,r,s)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[r,s]=yP(n);e=e(t!==void 0?t:i.custom,r,s)}return e}function rg(i,e,t){const n=i.getProps();return u3(n,e,t!==void 0?t:n.custom,i)}const qB=new Set(["width","height","top","left","right","bottom",...Og]),_P=30,B$=i=>!isNaN(parseFloat(i)),vy={current:void 0};class F${constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=ua.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ua.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=B$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new YR);const n=this.events[e].add(t);return e==="change"?()=>{n(),ci.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return vy.current&&vy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ua.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_P)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,_P);return ZR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ll(i,e){return new F$(i,e)}const nC=i=>Array.isArray(i);function V$(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,Ll(t))}function H$(i){return nC(i)?i[i.length-1]||0:i}function j$(i,e){const t=rg(i,e);let{transitionEnd:n={},transition:r={},...s}=t||{};s={...s,...n};for(const o in s){const c=H$(s[o]);V$(i,o,c)}}const zs=i=>!!(i&&i.getVelocity);function G$(i){return!!(zs(i)&&i.add)}function iC(i,e){const t=i.getValue("willChange");if(G$(t))return t.add(e);if(!t&&zu.WillChange){const n=new zu.WillChange("auto");i.addValue("willChange",n),n.add(e)}}function f3(i){return i.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const W$="framerAppearId",YB="data-"+f3(W$);function ZB(i){return i.props[YB]}function X$({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function $B(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:s=i.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(s=n);const h=[],p=r&&i.animationState&&i.animationState.getState()[r];for(const m in c){const g=i.getValue(m,i.latestValues[m]??null),_=c[m];if(_===void 0||p&&X$(p,m))continue;const x={delay:t,...l3(s||{},m)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(_)&&_===b&&!x.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const M=ZB(i);if(M){const R=window.MotionHandoffAnimation(M,m,ci);R!==null&&(x.startTime=R,T=!0)}}iC(i,m),g.start(c3(m,g,_,i.shouldReduceMotion&&qB.has(m)?{type:!1}:x,i,T));const E=g.animation;E&&h.push(E)}return o&&Promise.all(h).then(()=>{ci.update(()=>{o&&j$(i,o)})}),h}function rC(i,e,t={}){const n=rg(i,e,t.type==="exit"?i.presenceContext?.custom:void 0);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const s=n?()=>Promise.all($B(i,n,t)):()=>Promise.resolve(),o=i.variantChildren&&i.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:g}=r;return q$(i,e,h,p,m,g,t)}:()=>Promise.resolve(),{when:c}=r;if(c){const[h,p]=c==="beforeChildren"?[s,o]:[o,s];return h().then(()=>p())}else return Promise.all([s(),o(t.delay)])}function q$(i,e,t=0,n=0,r=0,s=1,o){const c=[];for(const h of i.variantChildren)h.notify("AnimationStart",e),c.push(rC(h,e,{...o,delay:t+(typeof n=="function"?0:n)+WB(i.variantChildren,h,n,r,s)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function Y$(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>rC(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=rC(i,e,t);else{const r=typeof e=="function"?rg(i,e,t.custom):e;n=Promise.all($B(i,r,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}const Z$={test:i=>i==="auto",parse:i=>i},KB=i=>e=>e.test(i),QB=[Ig,Lt,Cc,zf,EZ,wZ,Z$],xP=i=>QB.find(KB(i));function $$(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||dB(i):!0}const K$=new Set(["brightness","contrast","saturate","opacity"]);function Q$(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(JR)||[];if(!n)return i;const r=t.replace(n,"");let s=K$.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const J$=/\b([a-z-]*)\(.*?\)/gu,sC={...oh,getAnimatableNone:i=>{const e=i.match(J$);return e?e.map(Q$).join(" "):i}},bP={...Ig,transform:Math.round},eK={rotate:zf,rotateX:zf,rotateY:zf,rotateZ:zf,scale:gS,scaleX:gS,scaleY:gS,scaleZ:gS,skew:zf,skewX:zf,skewY:zf,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Qy,originX:oP,originY:oP,originZ:Lt},h3={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,inset:Lt,insetBlock:Lt,insetBlockStart:Lt,insetBlockEnd:Lt,insetInline:Lt,insetInlineStart:Lt,insetInlineEnd:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,paddingBlock:Lt,paddingBlockStart:Lt,paddingBlockEnd:Lt,paddingInline:Lt,paddingInlineStart:Lt,paddingInlineEnd:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,marginBlock:Lt,marginBlockStart:Lt,marginBlockEnd:Lt,marginInline:Lt,marginInlineStart:Lt,marginInlineEnd:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt,...eK,zIndex:bP,fillOpacity:Qy,strokeOpacity:Qy,numOctaves:bP},tK={...h3,color:Ar,backgroundColor:Ar,outlineColor:Ar,fill:Ar,stroke:Ar,borderColor:Ar,borderTopColor:Ar,borderRightColor:Ar,borderBottomColor:Ar,borderLeftColor:Ar,filter:sC,WebkitFilter:sC},JB=i=>tK[i];function e4(i,e){let t=JB(i);return t!==sC&&(t=oh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const nK=new Set(["auto","none","0"]);function iK(i,e,t){let n=0,r;for(;n<i.length&&!r;){const s=i[n];typeof s=="string"&&!nK.has(s)&&Jy(s).values.length&&(r=i[n]),n++}if(r&&t)for(const s of e)i[s]=e4(t,r)}class rK extends o3{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),QR(g))){const _=XB(g,t.current);_!==void 0&&(e[m]=_),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!qB.has(n)||e.length!==2)return;const[r,s]=e,o=xP(r),c=xP(s),h=aP(r),p=aP(s);if(h!==p&&Zf[n]){this.needsMeasurement=!0;return}if(o!==c)if(mP(o)&&mP(c))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Zf[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||$$(e[r]))&&n.push(r);n.length&&iK(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zf[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Zf[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function t4(i,e,t){if(i==null)return[];if(i instanceof EventTarget)return[i];if(typeof i=="string"){const r=document.querySelectorAll(i);return r?Array.from(r):[]}return Array.from(i).filter(n=>n!=null)}const n4=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function sM(i){return hB(i)&&"offsetHeight"in i}const{schedule:d3}=wB(queueMicrotask,!1),Al={x:!1,y:!1};function i4(){return Al.x||Al.y}function sK(i){return i==="x"||i==="y"?Al[i]?null:(Al[i]=!0,()=>{Al[i]=!1}):Al.x||Al.y?null:(Al.x=Al.y=!0,()=>{Al.x=Al.y=!1})}function r4(i,e){const t=t4(i),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[t,r,()=>n.abort()]}function SP(i){return!(i.pointerType==="touch"||i4())}function aK(i,e,t={}){const[n,r,s]=r4(i,t),o=c=>{if(!SP(c))return;const{target:h}=c,p=e(h,c);if(typeof p!="function"||!h)return;const m=g=>{SP(g)&&(p(g),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,r)};return n.forEach(c=>{c.addEventListener("pointerenter",o,r)}),s}const s4=(i,e)=>e?i===e?!0:s4(i,e.parentElement):!1,p3=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,oK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a4(i){return oK.has(i.tagName)||i.isContentEditable===!0}const VS=new WeakSet;function MP(i){return e=>{e.key==="Enter"&&i(e)}}function ET(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lK=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=MP(()=>{if(VS.has(t))return;ET(t,"down");const r=MP(()=>{ET(t,"up")}),s=()=>ET(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function wP(i){return p3(i)&&!i4()}function cK(i,e,t={}){const[n,r,s]=r4(i,t),o=c=>{const h=c.currentTarget;if(!wP(c))return;VS.add(h);const p=e(h,c),m=(x,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",_),VS.has(h)&&VS.delete(h),wP(x)&&typeof p=="function"&&p(x,{success:b})},g=x=>{m(x,h===window||h===document||t.useGlobalTarget||s4(h,x.target))},_=x=>{m(x,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",_,r)};return n.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,r),sM(c)&&(c.addEventListener("focus",p=>lK(p,r)),!a4(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function m3(i){return hB(i)&&"ownerSVGElement"in i}const HS=new WeakMap;let jS;const o4=(i,e,t)=>(n,r)=>r&&r[0]?r[0][i+"Size"]:m3(n)&&"getBBox"in n?n.getBBox()[e]:n[t],uK=o4("inline","width","offsetWidth"),fK=o4("block","height","offsetHeight");function hK({target:i,borderBoxSize:e}){HS.get(i)?.forEach(t=>{t(i,{get width(){return uK(i,e)},get height(){return fK(i,e)}})})}function dK(i){i.forEach(hK)}function pK(){typeof ResizeObserver>"u"||(jS=new ResizeObserver(dK))}function mK(i,e){jS||pK();const t=t4(i);return t.forEach(n=>{let r=HS.get(n);r||(r=new Set,HS.set(n,r)),r.add(e),jS?.observe(n)}),()=>{t.forEach(n=>{const r=HS.get(n);r?.delete(e),r?.size||jS?.unobserve(n)})}}const GS=new Set;let qm;function gK(){qm=()=>{const i={get width(){return window.innerWidth},get height(){return window.innerHeight}};GS.forEach(e=>e(i))},window.addEventListener("resize",qm)}function vK(i){return GS.add(i),qm||gK(),()=>{GS.delete(i),!GS.size&&typeof qm=="function"&&(window.removeEventListener("resize",qm),qm=void 0)}}function yK(i,e){return typeof i=="function"?vK(i):mK(i,e)}function l4(i,e){let t;const n=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;t!==o&&i(o),t=o};return ci.preUpdate(n,!0),()=>kl(n)}function _K(i){return m3(i)&&i.tagName==="svg"}function xK(...i){const e=!Array.isArray(i[0]),t=e?0:-1,n=i[0+t],r=i[1+t],s=i[2+t],o=i[3+t],c=i3(r,s,o);return e?c(n):c}const bK=[...QB,Ar,oh],SK=i=>bK.find(KB(i)),EP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ym=()=>({x:EP(),y:EP()}),TP=()=>({min:0,max:0}),kr=()=>({x:TP(),y:TP()}),aC={current:null},c4={current:!1},MK=typeof window<"u";function wK(){if(c4.current=!0,!!MK)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>aC.current=i.matches;i.addEventListener("change",e),e()}else aC.current=!1}const EK=new WeakMap;function hw(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function e_(i){return typeof i=="string"||Array.isArray(i)}const g3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v3=["initial",...g3];function dw(i){return hw(i.animate)||v3.some(e=>e_(i[e]))}function u4(i){return!!(dw(i)||i.variants)}function TK(i,e,t){for(const n in e){const r=e[n],s=t[n];if(zs(r))i.addValue(n,r);else if(zs(s))i.addValue(n,Ll(r,{owner:i}));else if(s!==r)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=i.getStaticValue(n);i.addValue(n,Ll(o!==void 0?o:r,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const AP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let aM={};function f4(i){aM=i}function AK(){return aM}class CK{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=ua.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ci.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=dw(t),this.isVariantNode=u4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const _ in g){const x=g[_];h[_]!==void 0&&zs(x)&&x.set(h[_])}}mount(e){this.current=e,EK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(c4.current||wK(),this.shouldReduceMotion=aC.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),kl(this.notifyUpdate),kl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ug.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ci.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in aM){const t=aM[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<AP.length;n++){const r=AP[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=TK(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Ll(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(fB(n)||dB(n))?n=parseFloat(n):!SK(n)&&oh.test(t)&&(n=e4(e,t)),this.setBaseTarget(e,zs(n)?n.get():n)),zs(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const s=u3(this.props,t,this.presenceContext?.custom);s&&(n=s[e])}if(t&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!zs(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new YR),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){d3.render(this.render)}}class h4 extends CK{constructor(){super(...arguments),this.KeyframeResolver=rK}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class ph{constructor(e){this.isMounted=!1,this.node=e}update(){}}function d4({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function RK({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function NK(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function TT(i){return i===void 0||i===1}function oC({scale:i,scaleX:e,scaleY:t}){return!TT(i)||!TT(e)||!TT(t)}function Sd(i){return oC(i)||p4(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function p4(i){return CP(i.x)||CP(i.y)}function CP(i){return i&&i!=="0%"}function oM(i,e,t){const n=i-t,r=e*n;return t+r}function RP(i,e,t,n,r){return r!==void 0&&(i=oM(i,r,n)),oM(i,t,n)+e}function lC(i,e=0,t=1,n,r){i.min=RP(i.min,e,t,n,r),i.max=RP(i.max,e,t,n,r)}function m4(i,{x:e,y:t}){lC(i.x,e.translate,e.scale,e.originPoint),lC(i.y,t.translate,t.scale,t.originPoint)}const NP=.999999999999,DP=1.0000000000001;function DK(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let c=0;c<r;c++){s=t[c],o=s.projectionDelta;const{visualElement:h}=s.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$m(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,m4(i,o)),n&&Sd(s.latestValues)&&$m(i,s.latestValues))}e.x<DP&&e.x>NP&&(e.x=1),e.y<DP&&e.y>NP&&(e.y=1)}function Zm(i,e){i.min=i.min+e,i.max=i.max+e}function LP(i,e,t,n,r=.5){const s=Ji(i.min,i.max,r);lC(i,e,t,s,n)}function $m(i,e){LP(i.x,e.x,e.scaleX,e.scale,e.originX),LP(i.y,e.y,e.scaleY,e.scale,e.originY)}function g4(i,e){return d4(NK(i.getBoundingClientRect(),e))}function LK(i,e,t){const n=g4(i,t),{scroll:r}=e;return r&&(Zm(n.x,r.offset.x),Zm(n.y,r.offset.y)),n}const PK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IK=Og.length;function OK(i,e,t){let n="",r=!0;for(let s=0;s<IK;s++){const o=Og[s],c=i[o];if(c===void 0)continue;let h=!0;if(typeof c=="number")h=c===(o.startsWith("scale")?1:0);else{const p=parseFloat(c);h=o.startsWith("scale")?p===1:p===0}if(!h||t){const p=n4(c,h3[o]);if(!h){r=!1;const m=PK[o]||o;n+=`${m}(${p}) `}t&&(e[o]=p)}}return n=n.trim(),t?n=t(e,r?"":n):r&&(n="none"),n}function y3(i,e,t){const{style:n,vars:r,transformOrigin:s}=i;let o=!1,c=!1;for(const h in e){const p=e[h];if(Ug.has(h)){o=!0;continue}else if(TB(h)){r[h]=p;continue}else{const m=n4(p,h3[h]);h.startsWith("origin")?(c=!0,s[h]=m):n[h]=m}}if(e.transform||(o||t?n.transform=OK(e,i.transform,t):n.transform&&(n.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=s;n.transformOrigin=`${h} ${p} ${m}`}}function v4(i,{style:e,vars:t},n,r){const s=i.style;let o;for(o in e)s[o]=e[o];r?.applyProjectionStyles(s,n);for(o in t)s.setProperty(o,t[o])}function PP(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Nv={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Lt.test(i))i=parseFloat(i);else return i;const t=PP(i,e.target.x),n=PP(i,e.target.y);return`${t}% ${n}%`}},UK={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=oh.parse(i);if(r.length>5)return n;const s=oh.createTransformer(i),o=typeof r[0]!="number"?1:0,c=t.x.scale*e.x,h=t.y.scale*e.y;r[0+o]/=c,r[1+o]/=h;const p=Ji(c,h,.5);return typeof r[2+o]=="number"&&(r[2+o]/=p),typeof r[3+o]=="number"&&(r[3+o]/=p),s(r)}},cC={borderRadius:{...Nv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nv,borderTopRightRadius:Nv,borderBottomLeftRadius:Nv,borderBottomRightRadius:Nv,boxShadow:UK};function y4(i,{layout:e,layoutId:t}){return Ug.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!cC[i]||i==="opacity")}function _3(i,e,t){const n=i.style,r=e?.style,s={};if(!n)return s;for(const o in n)(zs(n[o])||r&&zs(r[o])||y4(o,i)||t?.getValue(o)?.liveStyle!==void 0)&&(s[o]=n[o]);return s}function zK(i){return window.getComputedStyle(i)}class kK extends h4{constructor(){super(...arguments),this.type="html",this.renderInstance=v4}readValueFromInstance(e,t){if(Ug.has(t))return this.projection?.isProjecting?$A(t):a$(e,t);{const n=zK(e),r=(TB(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return g4(e,t)}build(e,t,n){y3(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return _3(e,t,n)}}const BK={offset:"stroke-dashoffset",array:"stroke-dasharray"},FK={offset:"strokeDashoffset",array:"strokeDasharray"};function VK(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?BK:FK;i[s.offset]=`${-n}`,i[s.array]=`${e} ${t}`}const HK=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _4(i,{attrX:e,attrY:t,attrScale:n,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...c},h,p,m){if(y3(i,c,p),h){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:g,style:_}=i;g.transform&&(_.transform=g.transform,delete g.transform),(_.transform||g.transformOrigin)&&(_.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),_.transform&&(_.transformBox=m?.transformBox??"fill-box",delete g.transformBox);for(const x of HK)g[x]!==void 0&&(_[x]=g[x],delete g[x]);e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),n!==void 0&&(g.scale=n),r!==void 0&&VK(g,r,s,o,!1)}const x4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),b4=i=>typeof i=="string"&&i.toLowerCase()==="svg";function jK(i,e,t,n){v4(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(x4.has(r)?r:f3(r),e.attrs[r])}function S4(i,e,t){const n=_3(i,e,t);for(const r in i)if(zs(i[r])||zs(e[r])){const s=Og.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=i[r]}return n}class GK extends h4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ug.has(t)){const n=JB(t);return n&&n.default||0}return t=x4.has(t)?t:f3(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return S4(e,t,n)}build(e,t,n){_4(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){jK(e,t,n,r)}mount(e){this.isSVGTag=b4(e.tagName),super.mount(e)}}const WK=v3.length;function M4(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?M4(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<WK;t++){const n=v3[t],r=i.props[n];(e_(r)||r===!1)&&(e[n]=r)}return e}function w4(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const XK=[...g3].reverse(),qK=g3.length;function YK(i){return e=>Promise.all(e.map(({animation:t,options:n})=>Y$(i,t,n)))}function ZK(i){let e=YK(i),t=IP(),n=!0;const r=h=>(p,m)=>{const g=rg(i,m,h==="exit"?i.presenceContext?.custom:void 0);if(g){const{transition:_,transitionEnd:x,...b}=g;p={...p,...b,...x}}return p};function s(h){e=h(i)}function o(h){const{props:p}=i,m=M4(i.parent)||{},g=[],_=new Set;let x={},b=1/0;for(let E=0;E<qK;E++){const M=XK[E],R=t[M],D=p[M]!==void 0?p[M]:m[M],L=e_(D),I=M===h?R.isActive:null;I===!1&&(b=E);let z=D===m[M]&&D!==p[M]&&L;if(z&&n&&i.manuallyAnimateOnMount&&(z=!1),R.protectedKeys={...x},!R.isActive&&I===null||!D&&!R.prevProp||hw(D)||typeof D=="boolean")continue;const k=$K(R.prevProp,D);let F=k||M===h&&R.isActive&&!z&&L||E>b&&L,O=!1;const U=Array.isArray(D)?D:[D];let X=U.reduce(r(M),{});I===!1&&(X={});const{prevResolvedValues:K={}}=R,ne={...K,...X},oe=J=>{F=!0,_.has(J)&&(O=!0,_.delete(J)),R.needsAnimating[J]=!0;const ie=i.getValue(J);ie&&(ie.liveStyle=!1)};for(const J in ne){const ie=X[J],pe=K[J];if(x.hasOwnProperty(J))continue;let $=!1;nC(ie)&&nC(pe)?$=!w4(ie,pe):$=ie!==pe,$?ie!=null?oe(J):_.add(J):ie!==void 0&&_.has(J)?oe(J):R.protectedKeys[J]=!0}R.prevProp=D,R.prevResolvedValues=X,R.isActive&&(x={...x,...X}),n&&i.blockInitialAnimation&&(F=!1);const le=z&&k;F&&(!le||O)&&g.push(...U.map(J=>{const ie={type:M};if(typeof J=="string"&&n&&!le&&i.manuallyAnimateOnMount&&i.parent){const{parent:pe}=i,$=rg(pe,J);if(pe.enteringChildren&&$){const{delayChildren:Y}=$.transition||{};ie.delay=WB(pe.enteringChildren,i,Y)}}return{animation:J,options:ie}}))}if(_.size){const E={};if(typeof p.initial!="boolean"){const M=rg(i,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(E.transition=M.transition)}_.forEach(M=>{const R=i.getBaseTarget(M),D=i.getValue(M);D&&(D.liveStyle=!0),E[M]=R??null}),g.push({animation:E})}let T=!!g.length;return n&&(p.initial===!1||p.initial===p.animate)&&!i.manuallyAnimateOnMount&&(T=!1),n=!1,T?e(g):Promise.resolve()}function c(h,p){if(t[h].isActive===p)return Promise.resolve();i.variantChildren?.forEach(g=>g.animationState?.setActive(h,p)),t[h].isActive=p;const m=o(h);for(const g in t)t[g].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:s,getState:()=>t,reset:()=>{t=IP()}}}function $K(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!w4(e,i):!1}function gd(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IP(){return{animate:gd(!0),whileInView:gd(),whileHover:gd(),whileTap:gd(),whileDrag:gd(),whileFocus:gd(),exit:gd()}}function OP(i,e){i.min=e.min,i.max=e.max}function El(i,e){OP(i.x,e.x),OP(i.y,e.y)}function UP(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}const E4=1e-4,KK=1-E4,QK=1+E4,T4=.01,JK=0-T4,eQ=0+T4;function fa(i){return i.max-i.min}function tQ(i,e,t){return Math.abs(i-e)<=t}function zP(i,e,t,n=.5){i.origin=n,i.originPoint=Ji(e.min,e.max,i.origin),i.scale=fa(t)/fa(e),i.translate=Ji(t.min,t.max,i.origin)-i.originPoint,(i.scale>=KK&&i.scale<=QK||isNaN(i.scale))&&(i.scale=1),(i.translate>=JK&&i.translate<=eQ||isNaN(i.translate))&&(i.translate=0)}function yy(i,e,t,n){zP(i.x,e.x,t.x,n?n.originX:void 0),zP(i.y,e.y,t.y,n?n.originY:void 0)}function kP(i,e,t){i.min=t.min+e.min,i.max=i.min+fa(e)}function nQ(i,e,t){kP(i.x,e.x,t.x),kP(i.y,e.y,t.y)}function BP(i,e,t){i.min=e.min-t.min,i.max=i.min+fa(e)}function lM(i,e,t){BP(i.x,e.x,t.x),BP(i.y,e.y,t.y)}function FP(i,e,t,n,r){return i-=e,i=oM(i,1/t,n),r!==void 0&&(i=oM(i,1/r,n)),i}function iQ(i,e=0,t=1,n=.5,r,s=i,o=i){if(Cc.test(e)&&(e=parseFloat(e),e=Ji(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Ji(s.min,s.max,n);i===s&&(c-=e),i.min=FP(i.min,e,t,c,r),i.max=FP(i.max,e,t,c,r)}function VP(i,e,[t,n,r],s,o){iQ(i,e[t],e[n],e[r],e.scale,s,o)}const rQ=["x","scaleX","originX"],sQ=["y","scaleY","originY"];function HP(i,e,t,n){VP(i.x,e,rQ,t?t.x:void 0,n?n.x:void 0),VP(i.y,e,sQ,t?t.y:void 0,n?n.y:void 0)}function jP(i){return i.translate===0&&i.scale===1}function A4(i){return jP(i.x)&&jP(i.y)}function GP(i,e){return i.min===e.min&&i.max===e.max}function aQ(i,e){return GP(i.x,e.x)&&GP(i.y,e.y)}function WP(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function C4(i,e){return WP(i.x,e.x)&&WP(i.y,e.y)}function XP(i){return fa(i.x)/fa(i.y)}function qP(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}function Xo(i){return[i("x"),i("y")]}function oQ(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y,o=t?.z||0;if((r||s||o)&&(n=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:g,rotateY:_,skewX:x,skewY:b}=t;p&&(n=`perspective(${p}px) ${n}`),m&&(n+=`rotate(${m}deg) `),g&&(n+=`rotateX(${g}deg) `),_&&(n+=`rotateY(${_}deg) `),x&&(n+=`skewX(${x}deg) `),b&&(n+=`skewY(${b}deg) `)}const c=i.x.scale*e.x,h=i.y.scale*e.y;return(c!==1||h!==1)&&(n+=`scale(${c}, ${h})`),n||"none"}const R4=["TopLeft","TopRight","BottomLeft","BottomRight"],lQ=R4.length,YP=i=>typeof i=="string"?parseFloat(i):i,ZP=i=>typeof i=="number"||Lt.test(i);function cQ(i,e,t,n,r,s){r?(i.opacity=Ji(0,t.opacity??1,uQ(n)),i.opacityExit=Ji(e.opacity??1,0,fQ(n))):s&&(i.opacity=Ji(e.opacity??1,t.opacity??1,n));for(let o=0;o<lQ;o++){const c=`border${R4[o]}Radius`;let h=$P(e,c),p=$P(t,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||ZP(h)===ZP(p)?(i[c]=Math.max(Ji(YP(h),YP(p),n),0),(Cc.test(p)||Cc.test(h))&&(i[c]+="%")):i[c]=p}(e.rotate||t.rotate)&&(i.rotate=Ji(e.rotate||0,t.rotate||0,n))}function $P(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const uQ=N4(0,.5,xB),fQ=N4(.5,.95,Wa);function N4(i,e,t){return n=>n<i?0:n>e?1:t(Mg(i,e,n))}function hQ(i,e,t){const n=zs(i)?i:Ll(i);return n.start(c3("",n,e,t)),n.animation}function t_(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}const dQ=(i,e)=>i.depth-e.depth;class pQ{constructor(){this.children=[],this.isDirty=!1}add(e){WR(this.children,e),this.isDirty=!0}remove(e){XR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dQ),this.isDirty=!1,this.children.forEach(e)}}function mQ(i,e){const t=ua.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(kl(n),i(s-e))};return ci.setup(n,!0),()=>kl(n)}function WS(i){return zs(i)?i.get():i}class gQ{constructor(){this.members=[]}add(e){WR(this.members,e),e.scheduleRender()}remove(e){if(XR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const XS={hasAnimatedSinceResize:!0,hasEverUpdated:!1},AT=["","X","Y","Z"],vQ=1e3;let yQ=0;function CT(i,e,t,n){const{latestValues:r}=e;r[i]&&(t[i]=r[i],e.setStaticValue(i,0),n&&(n[i]=0))}function D4(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=ZB(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",ci,!(r||s))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&D4(n)}function L4({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},c=e?.()){this.id=yQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bQ),this.nodes.forEach(EQ),this.nodes.forEach(TQ),this.nodes.forEach(SQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new pQ)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new YR),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const h=this.eventHandlers.get(o);h&&h.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=m3(o)&&!_K(o),this.instance=o;const{layoutId:c,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),i){let m,g=0;const _=()=>this.root.updateBlockedByResize=!1;ci.read(()=>{g=window.innerWidth}),i(o,()=>{const x=window.innerWidth;x!==g&&(g=x,this.root.updateBlockedByResize=!0,m&&m(),m=mQ(_,250),XS.hasAnimatedSinceResize&&(XS.hasAnimatedSinceResize=!1,this.nodes.forEach(JP)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||p.getDefaultTransition()||DQ,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=p.getProps(),M=!this.targetLayout||!C4(this.targetLayout,x),R=!g&&_;if(this.options.layoutRoot||this.resumeFrom||R||g&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...l3(b,"layout"),onPlay:T,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,R)}else g||JP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wQ),this.nodes.forEach(_Q),this.nodes.forEach(xQ)):this.nodes.forEach(QP),this.clearAllSnapshots();const c=ua.now();Kr.delta=zl(0,1e3/60,c-Kr.timestamp),Kr.timestamp=c,Kr.isProcessing=!0,_T.update.process(Kr),_T.preRender.process(Kr),_T.render.process(Kr),Kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MQ),this.sharedNodes.forEach(CQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ci.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ci.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fa(this.snapshot.measuredBox.x)&&!fa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!A4(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;o&&this.instance&&(c||Sd(this.latestValues)||m)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return o&&(h=this.removeTransform(h)),LQ(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return kr();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(PQ))){const{scroll:p}=this.root;p&&(Zm(c.x,p.offset.x),Zm(c.y,p.offset.y))}return c}removeElementScroll(o){const c=kr();if(El(c,o),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:g}=p;p!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&El(c,o),Zm(c.x,m.offset.x),Zm(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const h=kr();El(h,o);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&$m(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Sd(m.latestValues)&&$m(h,m.latestValues)}return Sd(this.latestValues)&&$m(h,this.latestValues),h}removeTransform(o){const c=kr();El(c,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Sd(p.latestValues))continue;oC(p.latestValues)&&p.updateSnapshot();const m=kr(),g=p.measurePageBox();El(m,g),HP(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Sd(this.latestValues)&&HP(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!this.layout||!(m||g))return;this.resolvedRelativeTargetAt=Kr.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kr(),this.targetWithTransforms=kr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):El(this.target,this.layout.layoutBox),m4(this.target,this.targetDelta)):El(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||oC(this.parent.latestValues)||p4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,h){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kr(),this.relativeTargetOrigin=kr(),lM(this.relativeTargetOrigin,c,h),El(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Kr.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;El(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,_=this.treeScale.y;DK(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=kr());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UP(this.prevProjectionDelta.x,this.projectionDelta.x),UP(this.prevProjectionDelta.y,this.projectionDelta.y)),yy(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==_||!qP(this.projectionDelta.x,this.prevProjectionDelta.x)||!qP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ym(),this.projectionDelta=Ym(),this.projectionDeltaWithTransform=Ym()}setAnimationOrigin(o,c=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},g=Ym();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=kr(),x=h?h.source:void 0,b=this.layout?this.layout.source:void 0,T=x!==b,E=this.getStack(),M=!E||E.members.length<=1,R=!!(T&&!M&&this.options.crossfade===!0&&!this.path.some(NQ));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const I=L/1e3;eI(g.x,o.x,I),eI(g.y,o.y,I),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lM(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RQ(this.relativeTarget,this.relativeTargetOrigin,_,I),D&&aQ(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=kr()),El(D,this.relativeTarget)),T&&(this.animationValues=m,cQ(m,p,this.latestValues,I,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(kl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ci.update(()=>{XS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ll(0)),this.currentAnimation=hQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:m}=o;if(!(!c||!h||!p)){if(this!==o&&this.layout&&p&&P4(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||kr();const g=fa(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+g;const _=fa(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+_}El(c,h),$m(c,m),yy(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gQ),this.sharedNodes.get(o).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&CT("z",o,p,this.animationValues);for(let m=0;m<AT.length;m++)CT(`rotate${AT[m]}`,o,p,this.animationValues),CT(`skew${AT[m]}`,o,p,this.animationValues);o.render();for(const m in p)o.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=WS(c?.pointerEvents)||"",o.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=WS(c?.pointerEvents)||""),this.hasProjected&&!Sd(this.latestValues)&&(o.transform=h?h({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=oQ(this.projectionDeltaWithTransform,this.treeScale,m);h&&(g=h(m,g)),o.transform=g;const{x:_,y:x}=this.projectionDelta;o.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,p.animationValues?o.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in cC){if(m[b]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:M}=cC[b],R=g==="none"?m[b]:T(m[b],p);if(E){const D=E.length;for(let L=0;L<D;L++)o[E[L]]=R}else M?this.options.visualElement.renderState.vars[b]=R:o[b]=R}this.options.layoutId&&(o.pointerEvents=p===this?WS(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(KP),this.root.sharedNodes.clear()}}}function _Q(i){i.updateLayout()}function xQ(i){const e=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=i.layout,{animationType:r}=i.options,s=e.source!==i.layout.source;r==="size"?Xo(m=>{const g=s?e.measuredBox[m]:e.layoutBox[m],_=fa(g);g.min=t[m].min,g.max=g.min+_}):P4(r,e.layoutBox,t)&&Xo(m=>{const g=s?e.measuredBox[m]:e.layoutBox[m],_=fa(t[m]);g.max=g.min+_,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[m].max=i.relativeTarget[m].min+_)});const o=Ym();yy(o,t,e.layoutBox);const c=Ym();s?yy(c,i.applyTransform(n,!0),e.measuredBox):yy(c,t,e.layoutBox);const h=!A4(o);let p=!1;if(!i.resumeFrom){const m=i.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:_}=m;if(g&&_){const x=kr();lM(x,e.layoutBox,g.layoutBox);const b=kr();lM(b,t,_.layoutBox),C4(x,b)||(p=!0),m.options.layoutRoot&&(i.relativeTarget=b,i.relativeTargetOrigin=x,i.relativeParent=m)}}}i.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(i.isLead()){const{onExitComplete:t}=i.options;t&&t()}i.options.transition=void 0}function bQ(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function SQ(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function MQ(i){i.clearSnapshot()}function KP(i){i.clearMeasurements()}function QP(i){i.isLayoutDirty=!1}function wQ(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function JP(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function EQ(i){i.resolveTargetDelta()}function TQ(i){i.calcProjection()}function AQ(i){i.resetSkewAndRotation()}function CQ(i){i.removeLeadSnapshot()}function eI(i,e,t){i.translate=Ji(e.translate,0,t),i.scale=Ji(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function tI(i,e,t,n){i.min=Ji(e.min,t.min,n),i.max=Ji(e.max,t.max,n)}function RQ(i,e,t,n){tI(i.x,e.x,t.x,n),tI(i.y,e.y,t.y,n)}function NQ(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const DQ={duration:.45,ease:[.4,0,.1,1]},nI=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),iI=nI("applewebkit/")&&!nI("chrome/")?Math.round:Wa;function rI(i){i.min=iI(i.min),i.max=iI(i.max)}function LQ(i){rI(i.x),rI(i.y)}function P4(i,e,t){return i==="position"||i==="preserve-aspect"&&!tQ(XP(e),XP(t),.2)}function PQ(i){return i!==i.root&&i.scroll?.wasRoot}const IQ=L4({attachResizeListener:(i,e)=>t_(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),RT={current:void 0},I4=L4({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!RT.current){const i=new IQ({});i.mount(window),i.setOptions({layoutScroll:!0}),RT.current=i}return RT.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),pw=j.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function sI(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function OQ(...i){return e=>{let t=!1;const n=i.map(r=>{const s=sI(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():sI(i[r],null)}}}}function UQ(...i){return j.useCallback(OQ(...i),i)}class zQ extends j.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,r=sM(n)&&n.offsetWidth||0,s=sM(n)&&n.offsetHeight||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=r-o.width-o.left,o.bottom=s-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function kQ({children:i,isPresent:e,anchorX:t,anchorY:n,root:r}){const s=j.useId(),o=j.useRef(null),c=j.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=j.useContext(pw),p=i.props?.ref??i?.ref,m=UQ(o,p);return j.useInsertionEffect(()=>{const{width:g,height:_,top:x,left:b,right:T,bottom:E}=c.current;if(e||!o.current||!g||!_)return;const M=t==="left"?`left: ${b}`:`right: ${T}`,R=n==="bottom"?`bottom: ${E}`:`top: ${x}`;o.current.dataset.motionPopId=s;const D=document.createElement("style");h&&(D.nonce=h);const L=r??document.head;return L.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${_}px !important;
            ${M}px !important;
            ${R}px !important;
          }
        `),()=>{L.contains(D)&&L.removeChild(D)}},[e]),C.jsx(zQ,{isPresent:e,childRef:o,sizeRef:c,children:j.cloneElement(i,{ref:m})})}const BQ=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:r,presenceAffectsLayout:s,mode:o,anchorX:c,anchorY:h,root:p})=>{const m=ah(FQ),g=j.useId();let _=!0,x=j.useMemo(()=>(_=!1,{id:g,initial:e,isPresent:t,custom:r,onExitComplete:b=>{m.set(b,!0);for(const T of m.values())if(!T)return;n&&n()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[t,m,n]);return s&&_&&(x={...x}),j.useMemo(()=>{m.forEach((b,T)=>m.set(T,!1))},[t]),j.useEffect(()=>{!t&&!m.size&&n&&n()},[t]),o==="popLayout"&&(i=C.jsx(kQ,{isPresent:t,anchorX:c,anchorY:h,root:p,children:i})),C.jsx(fw.Provider,{value:x,children:i})};function FQ(){return new Map}function O4(i=!0){const e=j.useContext(fw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=j.useId();j.useEffect(()=>{if(i)return r(s)},[i]);const o=j.useCallback(()=>i&&n&&n(s),[s,n,i]);return!t&&n?[!1,o]:[!0]}const vS=i=>i.key||"";function aI(i){const e=[];return j.Children.forEach(i,t=>{j.isValidElement(t)&&e.push(t)}),e}const U4=({children:i,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:c="left",anchorY:h="top",root:p})=>{const[m,g]=O4(o),_=j.useMemo(()=>aI(i),[i]),x=o&&!m?[]:_.map(vS),b=j.useRef(!0),T=j.useRef(_),E=ah(()=>new Map),M=j.useRef(new Set),[R,D]=j.useState(_),[L,I]=j.useState(_);uw(()=>{b.current=!1,T.current=_;for(let F=0;F<L.length;F++){const O=vS(L[F]);x.includes(O)?(E.delete(O),M.current.delete(O)):E.get(O)!==!0&&E.set(O,!1)}},[L,x.length,x.join("-")]);const z=[];if(_!==R){let F=[..._];for(let O=0;O<L.length;O++){const U=L[O],X=vS(U);x.includes(X)||(F.splice(O,0,U),z.push(U))}return s==="wait"&&z.length&&(F=z),I(aI(F)),D(_),null}const{forceRender:k}=j.useContext(GR);return C.jsx(C.Fragment,{children:L.map(F=>{const O=vS(F),U=o&&!m?!1:_===L||x.includes(O),X=()=>{if(M.current.has(O))return;if(M.current.add(O),E.has(O))E.set(O,!0);else return;let K=!0;E.forEach(ne=>{ne||(K=!1)}),K&&(k?.(),I(T.current),o&&g?.(),n&&n())};return C.jsx(BQ,{isPresent:U,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,root:p,onExitComplete:U?void 0:X,anchorX:c,anchorY:h,children:F},O)})})},z4=j.createContext({strict:!1}),oI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let lI=!1;function VQ(){if(lI)return;const i={};for(const e in oI)i[e]={isEnabled:t=>oI[e].some(n=>!!t[n])};f4(i),lI=!0}function k4(){return VQ(),AK()}function HQ(i){const e=k4();for(const t in i)e[t]={...e[t],...i[t]};f4(e)}const jQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cM(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||jQ.has(i)}let B4=i=>!cM(i);function GQ(i){typeof i=="function"&&(B4=e=>e.startsWith("on")?!cM(e):i(e))}try{GQ(require("@emotion/is-prop-valid").default)}catch{}function WQ(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(B4(r)||t===!0&&cM(r)||!e&&!cM(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}const mw=j.createContext({});function XQ(i,e){if(dw(i)){const{initial:t,animate:n}=i;return{initial:t===!1||e_(t)?t:void 0,animate:e_(n)?n:void 0}}return i.inherit!==!1?e:{}}function qQ(i){const{initial:e,animate:t}=XQ(i,j.useContext(mw));return j.useMemo(()=>({initial:e,animate:t}),[cI(e),cI(t)])}function cI(i){return Array.isArray(i)?i.join(" "):i}const x3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F4(i,e,t){for(const n in e)!zs(e[n])&&!y4(n,t)&&(i[n]=e[n])}function YQ({transformTemplate:i},e){return j.useMemo(()=>{const t=x3();return y3(t,e,i),Object.assign({},t.vars,t.style)},[e])}function ZQ(i,e){const t=i.style||{},n={};return F4(n,t,i),Object.assign(n,YQ(i,e)),n}function $Q(i,e){const t={},n=ZQ(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const V4=()=>({...x3(),attrs:{}});function KQ(i,e,t,n){const r=j.useMemo(()=>{const s=V4();return _4(s,e,b4(n),i.transformTemplate,i.style),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};F4(s,i.style,i),r.style={...s,...r.style}}return r}const QQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b3(i){return typeof i!="string"||i.includes("-")?!1:!!(QQ.indexOf(i)>-1||/[A-Z]/u.test(i))}function JQ(i,e,t,{latestValues:n},r,s=!1,o){const h=(o??b3(i)?KQ:$Q)(e,n,r,i),p=WQ(e,typeof i=="string",s),m=i!==j.Fragment?{...p,...h,ref:t}:{},{children:g}=e,_=j.useMemo(()=>zs(g)?g.get():g,[g]);return j.createElement(i,{...m,children:_})}function eJ({scrapeMotionValuesFromProps:i,createRenderState:e},t,n,r){return{latestValues:tJ(t,n,r,i),renderState:e()}}function tJ(i,e,t,n){const r={},s=n(i,{});for(const _ in s)r[_]=WS(s[_]);let{initial:o,animate:c}=i;const h=dw(i),p=u4(i);e&&p&&!h&&i.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const g=m?c:o;if(g&&typeof g!="boolean"&&!hw(g)){const _=Array.isArray(g)?g:[g];for(let x=0;x<_.length;x++){const b=u3(i,_[x]);if(b){const{transitionEnd:T,transition:E,...M}=b;for(const R in M){let D=M[R];if(Array.isArray(D)){const L=m?D.length-1:0;D=D[L]}D!==null&&(r[R]=D)}for(const R in T)r[R]=T[R]}}}return r}const H4=i=>(e,t)=>{const n=j.useContext(mw),r=j.useContext(fw),s=()=>eJ(i,e,n,r);return t?s():ah(s)},nJ=H4({scrapeMotionValuesFromProps:_3,createRenderState:x3}),iJ=H4({scrapeMotionValuesFromProps:S4,createRenderState:V4}),rJ=Symbol.for("motionComponentSymbol");function sJ(i,e,t){const n=j.useRef(t);j.useInsertionEffect(()=>{n.current=t});const r=j.useRef(null);return j.useCallback(s=>{s&&i.onMount?.(s),e&&(s?e.mount(s):e.unmount());const o=n.current;if(typeof o=="function")if(s){const c=o(s);typeof c=="function"&&(r.current=c)}else r.current?(r.current(),r.current=null):o(s);else o&&(o.current=s)},[e])}const j4=j.createContext({});function Wv(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function aJ(i,e,t,n,r,s){const{visualElement:o}=j.useContext(mw),c=j.useContext(z4),h=j.useContext(fw),p=j.useContext(pw).reducedMotion,m=j.useRef(null);n=n||c.renderer,!m.current&&n&&(m.current=n(i,{visualState:e,parent:o,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:s}));const g=m.current,_=j.useContext(j4);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&oJ(m.current,t,r,_);const x=j.useRef(!1);j.useInsertionEffect(()=>{g&&x.current&&g.update(t,h)});const b=t[YB],T=j.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return uw(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),T.current&&g.animationState&&g.animationState.animateChanges())}),j.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),T.current=!1),g.enteringChildren=void 0)}),g}function oJ(i,e,t,n){const{layoutId:r,layout:s,drag:o,dragConstraints:c,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:G4(i.parent)),i.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||c&&Wv(c),visualElement:i,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:h,layoutRoot:p})}function G4(i){if(i)return i.options.allowProjection!==!1?i.projection:G4(i.parent)}function NT(i,{forwardMotionProps:e=!1,type:t}={},n,r){n&&HQ(n);const s=t?t==="svg":b3(i),o=s?iJ:nJ;function c(p,m){let g;const _={...j.useContext(pw),...p,layoutId:lJ(p)},{isStatic:x}=_,b=qQ(p),T=o(p,x);if(!x&&uB){cJ();const E=uJ(_);g=E.MeasureLayout,b.visualElement=aJ(i,T,_,r,E.ProjectionNode,s)}return C.jsxs(mw.Provider,{value:b,children:[g&&b.visualElement?C.jsx(g,{visualElement:b.visualElement,..._}):null,JQ(i,p,sJ(T,b.visualElement,m),T,x,e,s)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const h=j.forwardRef(c);return h[rJ]=i,h}function lJ({layoutId:i}){const e=j.useContext(GR).id;return e&&i!==void 0?e+"-"+i:i}function cJ(i,e){j.useContext(z4).strict}function uJ(i){const e=k4(),{drag:t,layout:n}=e;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(i)||n?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function fJ(i,e){if(typeof Proxy>"u")return NT;const t=new Map,n=(s,o)=>NT(s,o,i,e),r=(s,o)=>n(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?n:(t.has(o)||t.set(o,NT(o,void 0,i,e)),t.get(o))})}const hJ=(i,e)=>e.isSVG??b3(i)?new GK(e):new kK(e,{allowProjection:i!==j.Fragment});class dJ extends ph{constructor(e){super(e),e.animationState||(e.animationState=ZK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pJ=0;class mJ extends ph{constructor(){super(...arguments),this.id=pJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gJ={animation:{Feature:dJ},exit:{Feature:mJ}};function b_(i){return{point:{x:i.pageX,y:i.pageY}}}const vJ=i=>e=>p3(e)&&i(e,b_(e));function _y(i,e,t,n){return t_(i,e,vJ(t),n)}const W4=({current:i})=>i?i.ownerDocument.defaultView:null,uI=(i,e)=>Math.abs(i-e);function yJ(i,e){const t=uI(i.x,e.x),n=uI(i.y,e.y);return Math.sqrt(t**2+n**2)}const fI=new Set(["auto","scroll"]);class X4{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=LT(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,T=yJ(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!T)return;const{point:E}=x,{timestamp:M}=Kr;this.history.push({...E,timestamp:M});const{onStart:R,onMove:D}=this.handlers;b||(R&&R(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=DT(b,this.transformPagePoint),ci.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:T,onSessionEnd:E,resumeAnimation:M}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=LT(x.type==="pointercancel"?this.lastMoveEventInfo:DT(b,this.transformPagePoint),this.history);this.startEvent&&T&&T(x,R),E&&E(x,R)},!p3(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=r||window;const h=b_(e),p=DT(h,this.transformPagePoint),{point:m}=p,{timestamp:g}=Kr;this.history=[{...m,timestamp:g}];const{onSessionStart:_}=t;_&&_(e,LT(p,this.history)),this.removeListeners=y_(_y(this.contextWindow,"pointermove",this.handlePointerMove),_y(this.contextWindow,"pointerup",this.handlePointerUp),_y(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let t=e.parentElement;for(;t;){const n=getComputedStyle(t);(fI.has(n.overflowX)||fI.has(n.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:r.x-t.x,y:r.y-t.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,r),ci.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),kl(this.updatePoint)}}function DT(i,e){return e?{point:e(i.point)}:i}function hI(i,e){return{x:i.x-e.x,y:i.y-e.y}}function LT({point:i},e){return{point:i,delta:hI(i,q4(e)),offset:hI(i,_J(e)),velocity:xJ(e,.1)}}function _J(i){return i[0]}function q4(i){return i[i.length-1]}function xJ(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=q4(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>Au(e)));)t--;if(!n)return{x:0,y:0};const s=Qo(r.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bJ(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?Ji(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?Ji(t,i,n.max):Math.min(i,t)),i}function dI(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function SJ(i,{top:e,left:t,bottom:n,right:r}){return{x:dI(i.x,t,r),y:dI(i.y,e,n)}}function pI(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function MJ(i,e){return{x:pI(i.x,e.x),y:pI(i.y,e.y)}}function wJ(i,e){let t=.5;const n=fa(i),r=fa(e);return r>n?t=Mg(e.min,e.max-n,i.min):n>r&&(t=Mg(i.min,i.max-r,e.min)),zl(0,1,t)}function EJ(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const uC=.35;function TJ(i=uC){return i===!1?i=0:i===!0&&(i=uC),{x:mI(i,"left","right"),y:mI(i,"top","bottom")}}function mI(i,e,t){return{min:gI(i,e),max:gI(i,t)}}function gI(i,e){return typeof i=="number"?i:i[e]||0}const AJ=new WeakMap;class CJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{t?(this.stopAnimation(),this.snapToCursor(b_(g).point)):this.pauseAnimation()},o=(g,_)=>{this.stopAnimation();const{drag:x,dragPropagation:b,onDragStart:T}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sK(x),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xo(M=>{let R=this.getAxisMotionValue(M).get()||0;if(Cc.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const L=D.layout.layoutBox[M];L&&(R=fa(L)*(parseFloat(R)/100))}}this.originPoint[M]=R}),T&&ci.postRender(()=>T(g,_)),iC(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(g,_)=>{this.latestPointerEvent=g,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:T,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:M}=_;if(b&&this.currentDirection===null){this.currentDirection=RJ(M),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",_.point,M),this.updateAxis("y",_.point,M),this.visualElement.render(),E&&E(g,_)},h=(g,_)=>{this.latestPointerEvent=g,this.latestPanInfo=_,this.stop(g,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Xo(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new X4(e,{onSessionStart:s,onStart:o,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:W4(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&ci.postRender(()=>c(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!yS(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=bJ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Wv(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=SJ(n.layoutBox,e):this.constraints=!1,this.elastic=TJ(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Xo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=EJ(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wv(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=LK(n,r.root,this.visualElement.getTransformPagePoint());let o=MJ(r.layout.layoutBox,s);if(t){const c=t(RK(o));this.hasMutatedConstraints=!!c,c&&(o=d4(c))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Xo(m=>{if(!yS(m,t,this.currentDirection))return;let g=h&&h[m]||{};o&&(g={min:0,max:0});const _=r?200:1e6,x=r?40:1e7,b={type:"inertia",velocity:n?e[m]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(m,b)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return iC(this.visualElement,e),n.start(c3(e,n,0,t,this.visualElement,!1))}stopAnimation(){Xo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Xo(t=>{const{drag:n}=this.getProps();if(!yS(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:c}=r.layout.layoutBox[t],h=s.get()||0;s.set(e[t]-Ji(o,c,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Wv(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Xo(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const h=c.get();r[o]=wJ({min:h,max:h},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xo(o=>{if(!yS(o,e,null))return;const c=this.getAxisMotionValue(o),{min:h,max:p}=this.constraints[o];c.set(Ji(h,p,r[o]))})}addListeners(){if(!this.visualElement.current)return;AJ.set(this.visualElement,this);const e=this.visualElement.current,t=_y(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps(),g=h.target,_=g!==e&&a4(g);p&&m&&!_&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();Wv(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ci.read(n);const o=t_(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xo(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{o(),t(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=uC,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:c}}}function yS(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function RJ(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class NJ extends ph{constructor(e){super(e),this.removeGroupControls=Wa,this.removeListeners=Wa,this.controls=new CJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wa}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const vI=i=>(e,t)=>{i&&ci.postRender(()=>i(e,t))};class DJ extends ph{constructor(){super(...arguments),this.removePointerDownListener=Wa}onPointerDown(e){this.session=new X4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:vI(e),onStart:vI(t),onMove:n,onEnd:(s,o)=>{delete this.session,r&&ci.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=_y(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let PT=!1;class LJ extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),PT&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),XS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,PT=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ci.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;PT=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y4(i){const[e,t]=O4(),n=j.useContext(GR);return C.jsx(LJ,{...i,layoutGroup:n,switchLayoutGroup:j.useContext(j4),isPresent:e,safeToRemove:t})}const PJ={pan:{Feature:DJ},drag:{Feature:NJ,ProjectionNode:I4,MeasureLayout:Y4}};function yI(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=n[r];s&&ci.postRender(()=>s(e,b_(e)))}class IJ extends ph{mount(){const{current:e}=this.node;e&&(this.unmount=aK(e,(t,n)=>(yI(this.node,n,"Start"),r=>yI(this.node,r,"End"))))}unmount(){}}class OJ extends ph{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=y_(t_(this.node.current,"focus",()=>this.onFocus()),t_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _I(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=n[r];s&&ci.postRender(()=>s(e,b_(e)))}class UJ extends ph{mount(){const{current:e}=this.node;e&&(this.unmount=cK(e,(t,n)=>(_I(this.node,n,"Start"),(r,{success:s})=>_I(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fC=new WeakMap,IT=new WeakMap,zJ=i=>{const e=fC.get(i.target);e&&e(i)},kJ=i=>{i.forEach(zJ)};function BJ({root:i,...e}){const t=i||document;IT.has(t)||IT.set(t,{});const n=IT.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(kJ,{root:i,...e})),n[r]}function FJ(i,e,t){const n=BJ(e);return fC.set(i,t),n.observe(i),()=>{fC.delete(i),n.unobserve(i)}}const VJ={some:0,all:1};class HJ extends ph{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:VJ[r]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,s&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),_=p?m:g;_&&_(h)};return FJ(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(jJ(e,t))&&this.startObserver()}unmount(){}}function jJ({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const GJ={inView:{Feature:HJ},tap:{Feature:UJ},focus:{Feature:OJ},hover:{Feature:IJ}},WJ={layout:{ProjectionNode:I4,MeasureLayout:Y4}},XJ={...gJ,...GJ,...PJ,...WJ},po=fJ(XJ,hJ),qJ=50,xI=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),YJ=()=>({time:0,x:xI(),y:xI()}),ZJ={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function bI(i,e,t,n){const r=t[e],{length:s,position:o}=ZJ[e],c=r.current,h=t.time;r.current=i[`scroll${o}`],r.scrollLength=i[`scroll${s}`]-i[`client${s}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Mg(0,r.scrollLength,r.current);const p=n-h;r.velocity=p>qJ?0:ZR(r.current-c,p)}function $J(i,e,t){bI(i,"x",e,t),bI(i,"y",e,t),e.time=t}function KJ(i,e){const t={x:0,y:0};let n=i;for(;n&&n!==e;)if(sM(n))t.x+=n.offsetLeft,t.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();t.x+=r.left-s.left,t.y+=r.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:s}=n.getBBox();t.x+=r,t.y+=s;let o=null,c=n.parentNode;for(;!o;)c.tagName==="svg"&&(o=c),c=n.parentNode;n=o}else break;return t}const hC={start:0,center:.5,end:1};function SI(i,e,t=0){let n=0;if(i in hC&&(i=hC[i]),typeof i=="string"){const r=parseFloat(i);i.endsWith("px")?n=r:i.endsWith("%")?i=r/100:i.endsWith("vw")?n=r/100*document.documentElement.clientWidth:i.endsWith("vh")?n=r/100*document.documentElement.clientHeight:i=r}return typeof i=="number"&&(n=e*i),t+n}const QJ=[0,0];function JJ(i,e,t,n){let r=Array.isArray(i)?i:QJ,s=0,o=0;return typeof i=="number"?r=[i,i]:typeof i=="string"&&(i=i.trim(),i.includes(" ")?r=i.split(" "):r=[i,hC[i]?i:"0"]),s=SI(r[0],t,n),o=SI(r[1],e),s-o}const eee={All:[[0,0],[1,1]]},tee={x:0,y:0};function nee(i){return"getBBox"in i&&i.tagName!=="svg"?i.getBBox():{width:i.clientWidth,height:i.clientHeight}}function iee(i,e,t){const{offset:n=eee.All}=t,{target:r=i,axis:s="y"}=t,o=s==="y"?"height":"width",c=r!==i?KJ(r,i):tee,h=r===i?{width:i.scrollWidth,height:i.scrollHeight}:nee(r),p={width:i.clientWidth,height:i.clientHeight};e[s].offset.length=0;let m=!e[s].interpolate;const g=n.length;for(let _=0;_<g;_++){const x=JJ(n[_],p[o],h[o],c[s]);!m&&x!==e[s].interpolatorOffsets[_]&&(m=!0),e[s].offset[_]=x}m&&(e[s].interpolate=i3(e[s].offset,UB(n),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=zl(0,1,e[s].interpolate(e[s].current))}function ree(i,e=i,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==i){let n=e;for(;n&&n!==i;)t.x.targetOffset+=n.offsetLeft,t.y.targetOffset+=n.offsetTop,n=n.offsetParent}t.x.targetLength=e===i?e.scrollWidth:e.clientWidth,t.y.targetLength=e===i?e.scrollHeight:e.clientHeight,t.x.containerLength=i.clientWidth,t.y.containerLength=i.clientHeight}function see(i,e,t,n={}){return{measure:r=>{ree(i,n.target,t),$J(i,t,r),(n.offset||n.target)&&iee(i,t,n)},notify:()=>e(t)}}const Dv=new WeakMap,MI=new WeakMap,OT=new WeakMap,wI=i=>i===document.scrollingElement?window:i;function Z4(i,{container:e=document.scrollingElement,...t}={}){if(!e)return Wa;let n=OT.get(e);n||(n=new Set,OT.set(e,n));const r=YJ(),s=see(e,i,r,t);if(n.add(s),!Dv.has(e)){const c=()=>{for(const g of n)g.measure(Kr.timestamp);ci.preUpdate(h)},h=()=>{for(const g of n)g.notify()},p=()=>ci.read(c);Dv.set(e,p);const m=wI(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&MI.set(e,yK(e,p)),m.addEventListener("scroll",p,{passive:!0}),p()}const o=Dv.get(e);return ci.read(o,!1,!0),()=>{kl(o);const c=OT.get(e);if(!c||(c.delete(s),c.size))return;const h=Dv.get(e);Dv.delete(e),h&&(wI(e).removeEventListener("scroll",h),MI.get(e)?.(),window.removeEventListener("resize",h))}}const EI=new Map;function aee(i){const e={value:0},t=Z4(n=>{e.value=n[i.axis].progress*100},i);return{currentTime:e,cancel:t}}function $4({source:i,container:e,...t}){const{axis:n}=t;i&&(e=i);const r=EI.get(e)??new Map;EI.set(e,r);const s=t.target??"self",o=r.get(s)??{},c=n+(t.offset??[]).join(",");return o[c]||(o[c]=!t.target&&FB()?new ScrollTimeline({source:e,axis:n}):aee({container:e,...t})),o[c]}function oee(i,e){const t=$4(e);return i.attachTimeline({timeline:e.target?void 0:t,observe:n=>(n.pause(),l4(r=>{n.time=n.iterationDuration*r},t))})}function lee(i){return i.length===2}function cee(i,e){return lee(i)?Z4(t=>{i(t[e.axis].progress,t)},e):l4(i,$4(e))}function uee(i,{axis:e="y",container:t=document.scrollingElement,...n}={}){if(!t)return Wa;const r={axis:e,container:t,...n};return typeof i=="function"?cee(i,r):oee(i,r)}const fee=()=>({scrollX:Ll(0),scrollY:Ll(0),scrollXProgress:Ll(0),scrollYProgress:Ll(0)}),_S=i=>i?!i.current:!1;function gw({container:i,target:e,...t}={}){const n=ah(fee),r=j.useRef(null),s=j.useRef(!1),o=j.useCallback(()=>(r.current=uee((c,{x:h,y:p})=>{n.scrollX.set(h.current),n.scrollXProgress.set(h.progress),n.scrollY.set(p.current),n.scrollYProgress.set(p.progress)},{...t,container:i?.current||void 0,target:e?.current||void 0}),()=>{r.current?.()}),[i,e,JSON.stringify(t.offset)]);return uw(()=>{if(s.current=!1,_S(i)||_S(e)){s.current=!0;return}else return o()},[o]),j.useEffect(()=>{if(s.current)return Ky(!_S(i)),Ky(!_S(e)),o()},[o]),n}function hee(i){const e=ah(()=>Ll(i)),{isStatic:t}=j.useContext(pw);if(t){const[,n]=j.useState(i);j.useEffect(()=>e.on("change",n),[])}return e}function K4(i,e){const t=hee(e()),n=()=>t.set(e());return n(),uw(()=>{const r=()=>ci.preRender(n,!1,!0),s=i.map(o=>o.on("change",r));return()=>{s.forEach(o=>o()),kl(n)}}),t}function dee(i){vy.current=[],i();const e=K4(vy.current,i);return vy.current=void 0,e}function fs(i,e,t,n){if(typeof i=="function")return dee(i);if(t!==void 0&&!Array.isArray(t)&&typeof e!="function")return pee(i,e,t,n);const o=typeof e=="function"?e:xK(e,t,n);return Array.isArray(i)?TI(i,o):TI([i],([c])=>o(c))}function TI(i,e){const t=ah(()=>[]);return K4(i,()=>{t.length=0;const n=i.length;for(let r=0;r<n;r++)t[r]=i[r].get();return e(t)})}function pee(i,e,t,n){const r=ah(()=>Object.keys(t)),s=ah(()=>({}));for(const o of r)s[o]=fs(i,e,t[o],n);return s}const mee=sZ("inline-flex items-center justify-center font-base transition-colors duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-border-interactive focus-visible:ring-offset-2 focus-visible:ring-offset-background-primary disabled:pointer-events-none relative overflow-hidden",{variants:{variant:{"filled-dark":"bg-background-interactive text-text-primary rounded-md disabled:bg-background-disabled py-2 px-3","outlined-dark":"bg-transparent text-text-primary border border-border-subtle-selected rounded-md hover:bg-background-inverse hover:text-text-on-white-primary disabled:text-text-disabled disabled:border-border-disabled py-2 px-3","text-dark":"bg-transparent text-text-primary relative hover:after:absolute hover:after:bottom-0 hover:after:left-0 hover:after:w-full hover:after:h-0.5 hover:after:bg-border-interactive disabled:text-text-disabled py-2 px-3","carruselLeft-dark":"bg-assistant-hover text-background-white rounded-l-md rounded-r-none border-r-0 hover:bg-assistant-prompt hover:text-background-inverse disabled:bg-assistant-background disabled:text-background-disabled py-2 px-3","carruselRight-dark":"bg-assistant-hover text-background-white rounded-r-md rounded-l-none border-l-0 hover:bg-assistant-prompt hover:text-background-inverse disabled:bg-assistant-background disabled:text-background-disabled py-2 px-3","filled-light":"bg-background-interactive text-text-primary rounded-md disabled:bg-background-inverse-disabled disabled:text-text-on-white-disabled py-2 px-3","outlined-light":"bg-transparent text-text-on-white-primary border border-border-inverse rounded-md hover:bg-background-inverse-hover hover:text-text-on-white-primary disabled:text-text-disabled disabled:border-border-disabled py-2 px-3","text-light":"bg-transparent text-text-on-white-primary rounded-md relative hover:after:absolute hover:after:bottom-0 hover:after:left-0 hover:after:w-full hover:after:h-0.5 hover:after:bg-border-interactive hover:after:rounded-full disabled:text-text-on-white-disabled py-2 px-3","carruselLeft-light":"bg-assistant-hover text-background-white rounded-l-md rounded-r-none border-r-0 hover:bg-assistant-prompt hover:text-background-inverse disabled:bg-assistant-background disabled:text-background-disabled py-2 px-3","carruselRight-light":"bg-assistant-hover text-background-white rounded-r-md rounded-l-none border-l-0 hover:bg-assistant-prompt hover:text-background-inverse disabled:bg-assistant-background disabled:text-background-disabled py-2 px-3"},size:{default:"",sm:"py-1 px-2 text-body-sm",lg:"py-3 px-4 text-body-lg"}},defaultVariants:{variant:"filled-dark",size:"default"}}),gee={"filled-dark":"bg-background-hover","filled-light":"bg-background-hover"},Fs=j.forwardRef(({className:i,variant:e="filled-dark",size:t="default",mode:n,asChild:r=!1,children:s,...o},c)=>{let h=e;n&&!e.includes("-")&&(h=`${e}-${n}`);const[p,m]=j.useState(!1),[g,_]=j.useState(!1),x=()=>{m(!0),setTimeout(()=>_(!0),100)},b=()=>{m(!1),_(!1)},T=r?Slot:"button",E=h==="filled-dark"||h==="filled-light",M=gee[h];return C.jsxs(T,{className:Bf("w-fit",mee({variant:h,size:t,className:i})),ref:c,onMouseEnter:x,onMouseLeave:b,...o,children:[E&&C.jsx(po.div,{className:`absolute inset-0 ${M} rounded-full`,initial:{scale:0,borderRadius:"9999px",y:"100%"},animate:{scale:p?2:0,y:p?"0%":"100%"},transition:{duration:.5,ease:"easeOut"},style:{transformOrigin:"center bottom"}}),C.jsx("div",{className:"relative z-10 overflow-hidden h-full flex items-center justify-center",children:C.jsxs(U4,{mode:"wait",children:[!g&&C.jsx(po.span,{initial:{opacity:1,y:0},exit:{opacity:0,y:-15,transition:{duration:.3,ease:"easeOut"}},className:"inline-block",children:s},"original-text"),g&&C.jsx(po.span,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,y:-15,transition:{duration:.2,delay:.1}},className:"inline-block",children:s},"hover-text")]})})]})});Fs.displayName="Button";function vee({label:i,href:e,onClick:t,variant:n="filled-dark",download:r}){const s=vM();return e?C.jsx(Fs,{variant:n,onClick:()=>{e.startsWith("http")?window.open(e,"_blank"):s(e)},download:r,className:"w-fit",children:i}):C.jsx(Fs,{onClick:t,variant:n,className:"w-fit",children:i})}function ep({variant:i="image",backgroundImage:e,titleDesktop:t,titleMobile:n,bodyDesktop:r,bodyMobile:s,buttons:o=[],start:c="top 85%",variantDesktop:h="headline-medium",variantMobile:p="headline-small",bodyClassName:m="body-lg",bodyMobileClassName:g="body-lg",actionsDirection:_="row",overlay:x=0}){return C.jsxs("section",{className:"relative min-h-[600px]",children:[C.jsxs("div",{className:"absolute inset-0 z-0",children:[e&&C.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"top center",backgroundRepeat:"no-repeat"},"aria-hidden":"true"}),!!x&&C.jsx("div",{className:"absolute inset-0 bg-background-primary",style:{opacity:x/100,zIndex:1}})]}),C.jsx("div",{className:"relative z-10 min-h-[600px] flex flex-col items-center justify-center",children:C.jsxs("div",{className:"py-9 px-3 md:px-7 flex flex-col gap-6 ",children:[C.jsxs("h2",{className:"text-center text-text-primary",children:[C.jsx("span",{className:"hidden md:block",children:C.jsx(Fe,{variant:h,children:t})}),C.jsx("span",{className:"block md:hidden",children:C.jsx(Fe,{variant:p,children:n})})]}),r&&C.jsx(Fe,{children:r,className:"hidden md:block"}),(s||r)&&C.jsx(Fe,{children:s??r,className:"block md:hidden"}),o?.length>0&&C.jsx("div",{className:"flex flex-col gap-3 items-center",children:o.map((b,T)=>C.jsx(vee,{...b},T))})]})})]})}const S3="/rts-clone/assets/moon_20-BQlQsLY2.png";function zg({content:i}){const e=j.useRef(null),{setTheme:t}=lh(),[n,r]=j.useState(null),[s,o]=j.useState({}),[c,h]=j.useState(null),[p,m]=j.useState(null);return j.useEffect(()=>{i?.hero.img().then(g=>r(g.default))},[i?.hero.img]),j.useEffect(()=>{i?.projectSection?.img().then(g=>h(g.default))},[i?.projectSection?.img]),j.useEffect(()=>{i?.projectSection?.companyLogo().then(g=>m(g.default))},[i?.projectSection?.companyLogo]),j.useEffect(()=>{(async()=>{if(!i?.clientsSection?.clientsLogos)return;const _=Object.entries(i?.clientsSection.clientsLogos).map(async([T,E])=>{try{const M=await E();return{key:T,logo:M.default}}catch(M){return console.error(`Error loading logo ${T}:`,M),{key:T,logo:null}}}),x=await Promise.all(_),b={};x.forEach(({key:T,logo:E})=>{b[T]=E}),o(b)})()},[i?.clientsSection?.clientsLogos]),j.useEffect(()=>{if(!e.current){console.log(" whiteBlockRef.current an no existe");return}const g=new IntersectionObserver(_=>{_.forEach(x=>{x.isIntersecting?(t("light"),window.dispatchEvent(new Event("navLight"))):(t("dark"),window.dispatchEvent(new Event("navDark")))})},{threshold:.1,rootMargin:"0px"});return g.observe(e.current),()=>{console.log(" Limpiando observer"),g.disconnect()}},[t]),C.jsxs("section",{id:"industry",children:[C.jsxs("section",{id:"hero-industries",className:"relative w-full h-[450px] ",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},children:[C.jsx("div",{className:"absolute inset-0 bg-black/60"}),C.jsx("div",{className:"relative z-10 w-full h-full md:px-7 py-9 px-3",children:C.jsx("div",{className:"pt-9 flex flex-col gap-6 md:gap-4",children:C.jsx(Fe,{variant:"headline-large",className:"md:text-display-lg ",children:i?.hero.title})})})]}),C.jsx("section",{id:"industry-clients",children:C.jsxs("div",{className:"flex flex-col md:flex-row gap-7 md:gap-9 py-9 px-3 md:px-7 bg-background-primary text-text-secondary",children:[C.jsxs("div",{className:"w-full md:w-2/5 flex flex-col md:gap-7 gap-5 ",children:[C.jsx(Fe,{variant:"title-body",children:i?.clientsSection?.title}),C.jsx(Fs,{variant:"filled-dark",children:"Book a meeting now"})]}),C.jsxs("div",{className:"w-full md:w-3/5 flex flex-col gap-7 md:gap-6.5 ",children:[C.jsx(Fe,{children:i?.clientsSection?.info}),C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx(Fe,{variant:"subtitle-lg",className:"text-center",children:"OUR CLIENTS"}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(i?.clientsSection.clientsLogos||{}).map(([g,_])=>C.jsx(yee,{logoImport:_,alt:`${g.replace("Logo","")} logo`,className:"h-[85px] md:py-2 hover:shadow-md"},g))})]})]})]})}),C.jsx("section",{ref:e,children:C.jsxs("section",{id:"industry-project",className:"relative overflow-hidden ",children:[C.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none -z-10",children:[C.jsx("div",{className:"absolute hidden md:block",style:{background:"radial-gradient(145.3% 70.02% at 45.94% 35.79%, rgba(255, 168, 0, 1) 24.04%, rgba(255, 0, 0, 1) 60.58%, rgba(255, 71, 214, 1) 100%)",transform:"rotate(-112deg)",width:"50vw",height:"50vh",top:"-20%",left:"30%",filter:"blur(400px)",mixBlendMode:"screen"}}),C.jsx("div",{className:"absolute md:hidden",style:{background:"radial-gradient(111.63% 111.63% at 42.64% -5.82%, rgba(255, 168, 0, 1) 33.65%, rgba(255, 0, 0, 1) 44.58%, transparent 100%)",transform:"rotate(-112deg)",width:"150vw",height:"120vh",top:"-60%",right:"-100%",filter:"blur(400px)",mixBlendMode:"screen"}})]}),C.jsxs("div",{className:"relative z-10 flex flex-col gap-6 py-9 px-3 md:px-7",children:[C.jsx(Fe,{variant:"headline-medium",className:"md:text-display-sm",children:"Recent project"}),C.jsxs("div",{className:"relative overflow-hidden rounded-md flex justify-center w-full",children:[C.jsx("img",{src:c,alt:"Project Image",className:"w-full  h-[400px] rounded-md  object-cover"}),C.jsx("div",{className:"absolute inset-0 rounded-md",style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 81.81%), rgba(0, 0, 0, 0)",opacity:"0.8",transition:"opacity 0.3s ease"}}),C.jsx("div",{className:"absolute bottom-0 left-0 right-0 md:right-auto md:bottom-4 md:left-4 p-4 md:p-0",children:C.jsx("div",{className:"flex justify-center md:justify-start ",children:C.jsx("div",{className:"relative w-full",children:C.jsx("div",{className:`\r
                                                         bg-white/20 \r
                                                            backdrop-blur-sm\r
                                                            rounded-lg\r
                                                            p-5\r
                                                            shadow-lg\r
                                                            flex justify-center\r
                                                            \r
                                                        `,children:p?C.jsx("img",{src:p,alt:`${i?.projectSection?.location} logo`,className:" 0 w-auto object-contain max-w-[120px] md:max-w-[150px]"}):C.jsx("div",{className:"h-8 md:h-10 w-24 md:w-32 bg-gray-400/30 rounded animate-pulse"})})})})})]}),C.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-6 text-text-on-white-secondary",children:[C.jsxs("div",{className:"flex flex-col gap-3 w-full md:w-2/5",children:[C.jsxs(Fe,{variant:"title-body",className:"md:text-text-on-white-primary flex flex-row gap-2",children:[C.jsx(OY,{})," ",i?.projectSection?.location]}),C.jsx(Fe,{variant:"headline-small",children:i?.projectSection?.sumary})]}),C.jsxs("div",{className:"flex flex-col gap-6 w-full md:w-3/5",children:[C.jsx(Fe,{variant:"title-body",children:i?.projectSection?.info}),i?.projectSection?.technicalItems?.length>0&&C.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[C.jsx(Fe,{variant:"body-lg",children:"Key Technical Items"}),C.jsx("div",{className:"flex flex-col gap-2",children:i?.projectSection?.technicalItems?.map((g,_)=>C.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[C.jsx(BS,{className:"text-core-violet h-icon-sm w-icon-sm flex-shrink-0"}),C.jsx(Fe,{variant:"body-md",children:g})]},_+"item-info-industries"))})]})]})]})]})]})}),C.jsx(ep,{variant:"image",backgroundImage:S3,overlay:50,variantMobile:"headline-small",variantDesktop:"headline-medium",titleDesktop:`WOULD YOU LIKE TO KNOW 
MORE ABOUT OUR EXPERIENCE?`,titleMobile:"WOULD YOU LIKE TO KNOW MORE ABOUT OUR EXPERIENCE?",buttons:[{label:"Book a meeting now",href:"#book",variant:"filled-dark"}],start:"top top"})]})}function yee({logoImport:i,alt:e="Client logo",className:t="",variant:n="default",blurAmount:r=20,containerClass:s="",logoClass:o="",size:c="medium"}){const[h,p]=j.useState(null);j.useEffect(()=>{i().then(x=>{p(x.default)}).catch(x=>{console.error("Error loading logo:",x)})},[i]);const m={small:"py-3",medium:"py-4",large:"py-5",xlarge:"py-6"},g={small:"max-h-6",medium:"max-h-8",large:"max-h-10",xlarge:"max-h-12"},_={default:"bg-background-soft",blurred:`backdrop-blur-[${r}px] bg-white/10`,transparent:"bg-transparent",glass:`
     backdrop-blur-[${r}px]
      bg-white/15 
      shadow-lg
    `};return h?C.jsx("div",{className:`${_[n]} rounded-xs ${m[c]} flex items-center justify-center ${s} ${t}`,children:C.jsx("img",{src:h,alt:e,className:`${g[c]} max-w-[80%] object-contain ${o}`,loading:"lazy"})}):C.jsx("div",{className:`${_[n]} rounded-xs ${m[c]} animate-pulse ${s} ${t}`,children:C.jsx("div",{className:`h-10 ${g[c]} bg-gray-300 rounded mx-4 ${o}`})})}function _ee(){const{go:i}=JY(),e=nl(),t=vM(),{theme:n}=lh(),r="/rts-clone/",s=j.useRef(null),o=j.useRef(null),c=j.useRef(null),h=j.useRef(null),p=j.useRef(null),m=j.useRef(null),g=j.useRef(null),_=j.useRef(null),x=j.useRef(null),b=j.useRef(null),T=j.useRef({what:null,industries:null}),[E,M]=j.useState(!1),[R,D]=j.useState(null),[L,I]=j.useState(null),z=[{label:"Automation & Controls",to:"automation-controls"},{label:"Digitalization",href:"digital"},{label:"Energy & Infrastructure",href:"energy"}],k=[{label:"Oil & Gas",href:"industries/oil-and-gas"},{label:"Power Generation",href:"industries/power-generation"},{label:"Mining",href:"industries/mining"},{label:"Pharma",href:"industries/pharma"},{label:"Chemicals",href:"industries/chemicals"},{label:"Pulp & Paper",href:"industries/pulp-and-paper"}];j.useEffect(()=>{const q=Qn.context(()=>{Qn.fromTo(s.current,{y:-60,autoAlpha:0,filter:"blur(10px)"},{y:0,autoAlpha:1,filter:"blur(0px)",duration:1.2,ease:"power4.out",delay:.2}),p.current=Qn.timeline({paused:!0,onReverseComplete:()=>{o.current&&(o.current.style.display="none")}}),p.current.set(o.current,{display:"flex"}).fromTo(o.current,{autoAlpha:0,y:-20,scale:.98,filter:"blur(10px)"},{autoAlpha:1,y:0,scale:1,filter:"blur(0px)",duration:.45,ease:"power3.out"}),Qn.set(h.current,{autoAlpha:0}),m.current=Qn.timeline({paused:!0}),m.current.to(c.current,{autoAlpha:0,scale:.4,rotate:90,duration:.22,ease:"power2.inOut"}).to(h.current,{autoAlpha:1,scale:1,rotate:0,duration:.25,ease:"power2.out"},"-=0.15");const ie=pe=>{const $=Qn.timeline({paused:!0,onReverseComplete:()=>{pe&&(pe.style.display="none")}});return $.set(pe,{display:"block"}).fromTo(pe,{autoAlpha:0,y:-10,filter:"blur(10px)"},{autoAlpha:1,y:0,filter:"blur(0px)",duration:.28,ease:"power3.out"}).fromTo(pe.querySelectorAll(".nav-dd-item"),{y:-6,autoAlpha:0},{y:0,autoAlpha:1,duration:.22,ease:"power2.out",stagger:.03},"-=0.18"),$};T.current.what=ie(g.current),T.current.industries=ie(_.current)},s),J=ie=>{s.current?.contains(ie.target)||U()};return window.addEventListener("mousedown",J),()=>{window.removeEventListener("mousedown",J),q.revert()}},[]),j.useEffect(()=>{U(),I(null),E&&(p.current?.reverse(),m.current?.reverse(),M(!1))},[e.pathname]);const F=()=>{E?(p.current?.reverse(),m.current?.reverse(),M(!1)):(p.current?.play(0),m.current?.play(0),M(!0))},O=(q,J)=>{q&&Qn.to(q,{rotate:J?180:0,y:J?1:0,duration:.28,ease:"power2.out",overwrite:!0})},U=()=>{T.current.what?.reverse(),T.current.industries?.reverse(),O(x.current,!1),O(b.current,!1),D(null)},X=q=>{const J=q==="what"?"industries":"what";if(R===q){T.current[q]?.reverse(),O(q==="what"?x.current:b.current,!1),D(null);return}R===J&&(T.current[J]?.reverse(),O(J==="what"?x.current:b.current,!1)),T.current[q]?.play(0),O(q==="what"?x.current:b.current,!0),D(q)},K=q=>{I(J=>J===q?null:q)},ne=()=>{I(null),U(),E&&(p.current?.reverse(),m.current?.reverse(),M(!1))},oe=q=>C.jsxs("a",{className:"nav-dd-item dd-titlebody",onClick:J=>{J.preventDefault(),t(q.href),U()},children:[C.jsx("i",{className:"ri-corner-down-right-line dd-corner-icon"}),C.jsx("span",{className:"dd-label",children:q.label})]},q.label),le=q=>C.jsxs("a",{className:"m-dd-item dd-titlebody",onClick:J=>{J.preventDefault(),t(q.href),ne()},children:[C.jsx("i",{className:"ri-corner-down-right-line dd-corner-icon"}),C.jsx("span",{className:"dd-label",children:q.label})]},q.label);return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"navbar-wrapper",children:C.jsxs("nav",{className:`navbar ${n==="light"?"light":"dark"}`,ref:s,children:[C.jsxs("div",{className:"navbar-left",children:[C.jsx("a",{className:"logo-link",onClick:q=>{q.preventDefault(),console.log("BASE_URL:","/rts-clone/"),console.log("Current location:",e.pathname),console.log("Navigating to /"),t("/")},children:C.jsx("img",{src:tZ,className:"logo",alt:"RTS"})}),C.jsxs("ul",{className:"nav-links desktop-only",children:[C.jsxs("li",{className:`nav-item has-dd ${R==="what"?"selected":""}`,children:[C.jsxs("button",{type:"button",className:"nav-link",onClick:()=>X("what"),children:[C.jsx("span",{children:"What we do"}),C.jsx("i",{ref:x,className:"ri-arrow-down-s-line nav-dd-icon"})]}),C.jsx("div",{ref:g,className:"nav-dropdown",children:z.map(oe)})]}),C.jsxs("li",{className:`nav-item has-dd ${R==="industries"?"selected":""}`,children:[C.jsxs("button",{type:"button",className:"nav-link",onClick:()=>X("industries"),children:[C.jsx("span",{children:"Industries"}),C.jsx("i",{ref:b,className:"ri-arrow-down-s-line nav-dd-icon"})]}),C.jsx("div",{ref:_,className:"nav-dropdown",children:k.map(oe)})]}),C.jsx("li",{className:"nav-item",children:C.jsx("a",{className:"nav-link plain",onClick:q=>{t("/hub"),U()},children:"HUB"})}),C.jsx("li",{className:"nav-item",children:C.jsx("a",{className:"nav-link plain",onClick:q=>{if(e.pathname!=="/"){q.preventDefault(),t("/culture");return}U()},children:"Culture"})})]})]}),C.jsx(Fs,{size:"sm",onClick:ne,children:"Book a meeting"}),C.jsxs("button",{className:"hamburger-btn",onClick:F,children:[C.jsx(zY,{ref:c,size:20,color:n==="light"?"black":"white",style:{position:"absolute",backgroundColor:"transparent"}}),C.jsx(QY,{ref:h,size:20,color:n==="light"?"black":"white"})]})]})}),C.jsxs("div",{className:"mobile-menu",ref:o,children:[C.jsxs("ul",{className:"mobile-list",children:[C.jsxs("li",{className:`m-item ${L==="what"?"selected":""}`,children:[C.jsxs("button",{type:"button",className:"m-link",onClick:()=>K("what"),children:[C.jsx("span",{children:"What we do"}),C.jsx("i",{className:`ri-arrow-down-s-line m-dd-icon ${L==="what"?"open":""}`})]}),C.jsx("div",{className:`m-dd ${L==="what"?"open":""}`,children:z.map(le)})]}),C.jsxs("li",{className:`m-item ${L==="industries"?"selected":""}`,children:[C.jsxs("button",{type:"button",className:"m-link",onClick:()=>K("industries"),children:[C.jsx("span",{children:"Industries"}),C.jsx("i",{className:`ri-arrow-down-s-line m-dd-icon ${L==="industries"?"open":""}`})]}),C.jsx("div",{className:`m-dd ${L==="industries"?"open":""}`,children:k.map(le)})]}),C.jsx("li",{className:"m-item",children:C.jsx("a",{className:"m-link plain",href:`${r}hub`,onClick:q=>{t(`${r}hub`),ne()},children:"HUB"})}),C.jsx("li",{className:"m-item",children:C.jsx("a",{className:"m-link plain",href:`${r}culture`,onClick:q=>{t(`${r}culture`),ne()},children:"Culture"})})]}),C.jsx(Fs,{onClick:ne,children:"Book a meeting"})]})]})}function xee(){const i=j.useRef(null);return j.useEffect(()=>{const e=i.current;if(!e)return;const t=window.innerWidth>820;e.classList.add("collapsed"),e.classList.remove("expanded"),Qn.set(e,{autoAlpha:0,y:40,filter:"blur(14px)",height:60,bottom:32,right:32,xPercent:0,pointerEvents:"none"});let n=!1;const r=()=>{n||(n=!0,window.__nodeReady=!0,Qn.fromTo(e,{y:40,autoAlpha:0,filter:"blur(14px)"},{y:0,autoAlpha:1,filter:"blur(0px)",duration:1.15,ease:"power3.out",onComplete:()=>{Qn.set(e,{pointerEvents:"auto"})}}))};window.__heroEnter&&requestAnimationFrame(r);const s=()=>r();window.addEventListener("hero:enter",s);let o,c;return t&&(o=()=>{Qn.to(e,{y:-6,duration:.95,ease:"power3.out",overwrite:"auto"})},c=()=>{Qn.to(e,{y:0,duration:.95,ease:"power3.inOut",overwrite:"auto"})},e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",c)),()=>{window.removeEventListener("hero:enter",s),t&&(e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",c))}},[]),C.jsxs("button",{className:"floating-node collapsed",type:"button",ref:i,children:[C.jsx("div",{className:"fn-outer-circle",children:C.jsx("div",{className:"fn-ring"})}),C.jsx("div",{className:"fn-text body-sm",children:"What technical challenge are you facing today?"})]})}function UT({label:i="Our Approach",href:e="#"}){return C.jsx("a",{href:e,className:"approach-btn",children:i})}Qn.registerPlugin($t);function Lm({title:i,description:e,image:t,children:n}){return C.jsxs("div",{className:"card-component",children:[C.jsx("img",{src:t,alt:i,className:"card-image"}),C.jsx("h3",{className:"card-floating-title title-sm",children:i}),C.jsxs("div",{className:"card-hover",children:[C.jsx("p",{className:"card-hover-description body-sm",children:e}),C.jsx("button",{className:"card-hover-button body-sm",children:"Learn more"})]})]})}const bee="/rts-clone/assets/RTS_Industries-DS45_0f7.png",See="/rts-clone/assets/RTS_Industries-1-_92Vm7bT.png",Mee="/rts-clone/assets/RTS_Industries-2-D4cQb_Es.png",wee="/rts-clone/assets/RTS_Industries-3-BKkBgJjd.png",Eee="/rts-clone/assets/RTS_Industries-4-Cddah-Jr.png",Tee="/rts-clone/assets/RTS_Industries-5-B2xszaWZ.png",Aee=({color:i="currentColor",size:e=24,className:t,...n})=>Pl.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,fill:i,...n,className:"remixicon "+(t||"")},Pl.createElement("path",{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"})),Cee=({color:i="currentColor",size:e=24,className:t,...n})=>Pl.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,fill:i,...n,className:"remixicon "+(t||"")},Pl.createElement("path",{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"})),Ree=({color:i="currentColor",size:e=24,className:t,...n})=>Pl.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,fill:i,...n,className:"remixicon "+(t||"")},Pl.createElement("path",{d:"M19.376 12.4161L8.77735 19.4818C8.54759 19.635 8.23715 19.5729 8.08397 19.3432C8.02922 19.261 8 19.1645 8 19.0658V4.93433C8 4.65818 8.22386 4.43433 8.5 4.43433C8.59871 4.43433 8.69522 4.46355 8.77735 4.5183L19.376 11.584C19.6057 11.7372 19.6678 12.0477 19.5146 12.2774C19.478 12.3323 19.4309 12.3795 19.376 12.4161Z"}));function Cu(i){const[e,t]=j.useState(!1);return j.useEffect(()=>{const n=window.matchMedia(i);n.matches!==e&&t(n.matches);const r=()=>t(n.matches);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[e,i]),e}function Nee(){const i=j.useRef(null),e=j.useRef(null);j.useRef(null);const t=Cu("(min-width: 1024px)"),n=Cu("(min-width: 768px) and (max-width: 1023px)");Cu("(max-width: 767px)");const{scrollYProgress:r}=gw({target:i}),s=fs(r,[0,1],["0%","-60%"]),o=fs(r,[0,1],["0%","-85%"]),c=fs(r,[0,1],["0%","-90%"]);let h;return t?h=s:n?h=o:h=c,C.jsx("section",{ref:i,className:"relative h-[300vh] ",children:C.jsx("div",{className:"sticky top-0  h-[780px]  flex items-center overflow-hidden w-full",children:C.jsx("div",{className:" px-3 md:px-7 w-full",children:C.jsxs("div",{className:"flex flex-col gap-12 w-full",children:[C.jsx("div",{className:"",children:C.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[C.jsx(Fe,{variant:"subtitle-medium",className:" text-text-primary",children:"INDUSTRIES"}),C.jsxs("div",{className:"w-full flex flex-row justify-between",children:[C.jsxs(Fe,{variant:"headline-medium",className:" hidden md:block       ",children:["WE NAVIGATE AND SERVE THE MOST ",C.jsx("br",{}),"COMPLEX"," ",C.jsx("span",{className:"      bg-gradient-to-r from-[#1c56ff] to-[#a463ff]      bg-clip-text text-transparent    ",children:"INDUSTRIAL GALAXIES"})]}),C.jsxs(Fe,{variant:"headline-small",className:" md:hidden        ",children:["WE NAVIGATE AND SERVE THE MOST ",C.jsx("br",{}),"COMPLEX"," ",C.jsx("span",{className:"      bg-gradient-to-r from-[#1c56ff] to-[#a463ff]      bg-clip-text text-transparent    ",children:"INDUSTRIAL GALAXIES"})]}),C.jsxs("div",{id:"buttons",className:"flex items-end justify-end md:flex     ",children:[C.jsx(Fs,{variant:"carruselLeft-dark",className:"h-auto",onClick:()=>e.current.scrollLeft-=400,children:C.jsx(Aee,{className:"h-4 w-3"})}),C.jsx(Fs,{variant:"carruselRight-dark",className:"h-auto",onClick:()=>e.current.scrollLeft+=400,children:C.jsx(Cee,{className:"h-4 w-3"})})]})]})]})}),C.jsx("div",{className:"relative h-[410px]",children:C.jsxs(po.div,{ref:e,className:"flex gap-6 absolute left-0 top-0 h-full",style:{x:h},children:[C.jsx(Lm,{title:"Oil & Gas",image:bee,description:"We enhance operational reliability and efficiency through OT/IT integration, ensuring safe, data-driven, and continuous performance across upstream, midstream, and downstream operations."}),C.jsx(Lm,{title:"Power Generation",image:See,description:"We help power assets improve availability, safety, and performance through automation, monitoring, and optimized operations."}),C.jsx(Lm,{title:"Chemicals & Petrochemicals",image:Mee,description:"We enable smarter, safer, and more efficient operations by digitalizing processes and connecting critical data from field to boardroom."}),C.jsx(Lm,{title:"Pulp & Paper",image:wee,description:"We support sustainable production through automation, energy optimization, and process digitalization  driving efficiency and lower environmental impact."}),C.jsx(Lm,{title:"Metals & Mining",image:Eee,description:"We enable efficient and safe mining operations through advanced automation, digital monitoring, and environmental performance tracking."}),C.jsx(Lm,{title:"Pharmaceuticals",image:Tee,description:"An emerging universe with strict laws of motiontraceability, accuracy, and real-time compliance."})]})})]})})})})}function Dee(){const i=j.useRef(null),{scrollYProgress:e}=gw({target:i}),t=[0,.3,.7,1],n=[0,1,0,0],r=[0,0,1,1],s=fs(e,t,n),o=fs(e,t,r),c=fs(e,[0,.5],["0px","-20px"]),h=fs(e,[.3,.8],["20px","0px"]);return C.jsx("section",{id:"story-section",className:"relative w-full md:h-[500vh] h-[300vh] bg-background-inverse text-text-on-white-primary",ref:i,children:C.jsxs("div",{className:"sticky top-0 h-screen  ",children:[C.jsx("div",{className:"pt-9 px-3 md:px-7",children:C.jsx(Fe,{variant:"subtitle-md",children:"OUR STORY",className:"text-text-on-white-primary"})}),C.jsx("div",{className:"flex items-center justify-center overflow-hidden ",children:C.jsx("div",{className:" flex flex-col gap-4",children:C.jsxs("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center px-3 md:px-7",children:[C.jsx(po.div,{id:"panel1",className:" w-full absolute ",style:{opacity:s,y:c},children:C.jsxs("div",{className:"flex flex-col justify-between w-full h-screen py-9 px-3 md:px-7 mt-9",children:[C.jsxs(Fe,{variant:"headline-medium",className:"text-text-on-white-primary hidden md:block",children:["RTS WAS BORN IN THE ",C.jsx("br",{}),"WORLD OF OPERATIONAL ",C.jsx("br",{}),"TECHNOLOGY"]}),C.jsxs(Fe,{variant:"headline-small",className:"text-text-on-white-primary md:hidden",children:["RTS WAS BORN ",C.jsx("br",{}),"IN THE WORLD OF",C.jsx("br",{})," OPERATIONAL ",C.jsx("br",{}),"TECHNOLOGY"]}),C.jsxs("div",{className:"w-full flex justify-end",children:[C.jsxs(Fe,{variant:"title-medium",className:"text-text-on-white-primary hidden md:block font-base pb-9",children:[" and evolved to engineer",C.jsx("br",{}),"the future throughcurated",C.jsx("br",{}),"industrial innovation."]}),C.jsxs(Fe,{variant:"title-small",className:"text-text-on-white-disabled md:hidden font-base pb-9",children:[" and evolved to",C.jsx("br",{}),"engineer the future",C.jsx("br",{}),"throughcurated ",C.jsx("br",{}),"industrial innovation."]})]})]})}),C.jsx(po.div,{id:"panel2",className:" w-full absolute",style:{opacity:o,y:h},children:C.jsxs("div",{className:"flex flex-col justify-between w-full h-screen py-9 px-3 md:px-7  mt-9 ",children:[C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsxs(Fe,{variant:"headline-medium",className:"text-text-on-white-primary hidden md:block",children:["OUR STORY ISNT ONE OF CHANGE,",C.jsx("br",{})," BUT OF CONTINUOS EVOLUTION"]}),C.jsxs(Fe,{variant:"headline-small",className:"text-text-on-white-primary md:hidden",children:["OUR STORY ISNT",C.jsx("br",{}),"ONE OF CHANGE,",C.jsx("br",{})," BUT OF CONTINUOS",C.jsx("br",{}),"EVOLUTION"]}),C.jsx(Fs,{children:"Learn more about our culture",variant:"filled-light"})]}),C.jsx("div",{className:"w-full flex justify-end",children:C.jsxs(Fe,{variant:"title-medium",className:"text-text-on-white-primary font-base pb-9",children:[" from control systems",C.jsx("br",{}),"to intelligent ecosystems."]})})]})})]})})})]})})}function Lee(){const i=j.useRef(null),e=j.useRef(null),t=["/rts-clone/logos/logo-1.png","/rts-clone/logos/logo-2.png","/rts-clone/logos/logo-3.png","/rts-clone/logos/logo-4.png"],n=["/rts-clone/logos/logo-5.png","/rts-clone/logos/logo-6.png","/rts-clone/logos/logo-7.png","/rts-clone/logos/logo-8.png"],r=[...t,...t,...t],s=[...n,...n,...n];return j.useEffect(()=>{const o=p=>{if(!p)return;const m=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{const x=p.scrollWidth/2;p.style.setProperty("--move",`${x}px`)})})},g=[...p.querySelectorAll("img")];let _=0;return g.forEach(x=>{x.complete?(_++,_===g.length&&m()):x.onload=()=>{_++,_===g.length&&m()}}),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},c=o(i.current),h=o(e.current);return()=>{c?.(),h?.()}},[]),C.jsxs("div",{className:"marquee-wrapper",children:[C.jsx("h2",{className:"marquee-title ",children:"TRUSTED BY INDUSTRY LEADERS"}),C.jsxs("div",{className:"marquee-container",children:[C.jsx("div",{className:"marquee-track marquee-left",ref:i,children:r.map((o,c)=>C.jsx("div",{className:"logo-box",children:C.jsx("img",{src:o,alt:""})},"t"+c))}),C.jsx("div",{className:"marquee-track marquee-right",ref:e,children:s.map((o,c)=>C.jsx("div",{className:"logo-box",children:C.jsx("img",{src:o,alt:""})},"b"+c))})]})]})}const AI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAjCAYAAAD17ghaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMsSURBVHgB7VhdTttAEJ7ZYPqaG9RVGwqFts4JmpwA8VYRKtITACcATgA9AUEqP28NJ8CcIFEJbaUmqo+QF1AbxzudtRLLOI7Xm8JbvxfH6/G34/H8fA7CDFgvdeoIsMk/K3zsE2DT8sV+w1vywBAIhtgoXR/yhltp16SUa2e9N00wgJEDoyc/yjDpW77/rOGV+5ATAgwwCnsWigPric5mdgcA0daakNTazO5ADnB+5A6/wtz4R33xuz2Uw7okfIoEfaBC+6S3dHyfnVSCbUO2A278vG63ikN+LRKko85RFtw4b5iEtZedbZSwS/wOE3xtTqrqOKneL7bsQmC1YNJutDk0Tn+ufIw2L3WcIcDlJC96XLZVVbaCM9sBCQeUTur4lvVlfHL+o+wFBb9MCN6kKTbufH8n2lxFNHXz0FXbt+Slig7WSp1LXqlABgKi6nn3tRtfW39+s8rxcwRiPyBon3VfXcWv10o3XK5Uz+LlB6+rHHBAA4GFt3xw42unveULPlxMv4u0vBydiqqCImgtSW+TBGKue5QDrs4omdm5QHpergBXINF+Ng94yfebB9yQjnW8QeBfic+cXEi4N81IchnCDFC8QMHOlMuqrNfOvbIXDaMPL769C1CqYeMQocdL7bvh4FPTYLCkQfUOEVi73NxsjnmRuZsPwfsfD4YoBzYWrvcIxCbXvP2vMiuOuHwbLbmc3Ds8M9qRA7WFToNTPk1IsCNQHRubInwowt3Ui9yGT3orx6iXWWpyDcoNw6zNK98EG21lU/HkKlirYAhBqLsnlG+qFeuHRg4pNnkP2VojKR3lgD60iI/SNBChz+MYm7q5Lf0/98ZuKLPm57aVfAuJEjIrXOOOx1HIjC4nqIs6mcXVcXjSXYl6+nrpa12AOMiSWWMnB/NWK2zB6bwu81aFklmq1FJlVmJzJbMQxNF0mRVEWa+qRgo/lZdzqnk79NdCt+MXxjILhfBuB78vkgMjj8xKk2/hoAOqpMk3o0+z2sLNL9Ups2z4ve6ddpf3ISce/MPEFGYOEHl6GzBq22Yfpznk20gtP44DjyHfjP+gUIjLrNHH6Mzy7S89AJqyoXCaYwAAAABJRU5ErkJggg==",CI="/rts-clone/assets/innovation-D1-Pb0OW.png",Pee="/rts-clone/assets/academy-BeBqLb96.png";function Iee(){const i=j.useRef(null),e=Cu("(min-width: 1024px)"),t=Cu("(min-width: 768px) and (max-width: 1023px)");Cu("(max-width: 767px)");const{scrollYProgress:n}=gw({target:i}),r=e?"400vh":t?"500vh":"600vh",s=[0,.33],o=[.33,.66],c=[.66,1],h=fs(n,s,["0%","0%"]),p=fs(n,o,["100%","9%"]),m=fs(n,c,["100%","18%"]),g=fs(n,[0,.1],[1,1]),_=fs(n,[.33,.38],[0,1]),x=fs(n,[.66,.71],[0,1]);return C.jsx("section",{id:"hub-section",className:"relative w-full bg-background-inverse text-text-on-white-primary",ref:i,style:{height:r},children:C.jsx("div",{className:"sticky top-0 h-screen overflow-hidden w-full ",children:C.jsxs("div",{className:" px-3 md:px-7 h-full w-full py-9",children:[C.jsxs(Fe,{variant:"headline-medium",className:"md:text-headline-large ",children:[C.jsx("span",{className:"text-core-violet",children:"RTS HUB"})," S OUR LABORATORY  ",C.jsx("br",{}),"OF IDEAS AND EXECUTION"]}),C.jsx("div",{className:" h-full flex items-center justify-center py-5 w-full ",children:C.jsxs("div",{className:"relative w-full h-full",children:[C.jsx(po.div,{className:"absolute w-full  bg-white rounded-xl shadow-2xl ",style:{y:h,opacity:g,zIndex:10},children:C.jsxs("div",{className:"h-full grid grid-cols-1 md:grid-cols-3 gap-7 md:justify-between p-5",children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[C.jsx(Yf,{className:"w-6 h-6 text-background-interactive shrink-0"}),C.jsxs(Fe,{variant:"headline-small",className:" ",children:[C.jsx("span",{className:"bg-gradient-to-r from-[#7513FF] via-[#4348F3] to-[#0093CE] bg-clip-text text-transparent",children:"BELOW THE LINE"}),"  "]})]}),C.jsx("img",{src:CI,className:"hidden md:block w-[252px] h-[252px]"}),C.jsxs("div",{className:"flex flex-col gap-2 text-text-on-white-secondary",children:[C.jsx(Fe,{variant:"title-body",children:"Below-the-line powerhousea creative and experiential unit where ideas meet industry."}),C.jsx(Fe,{children:"Through initiatives like Rocking the Industry and the Data-Driven LAB, we go beyond traditional services to spark interaction, collaboration, and thought leadership."})]})]})}),C.jsx(po.div,{className:"absolute w-full  bg-white rounded-xl shadow-2xl ",style:{y:p,opacity:_,zIndex:20},children:C.jsxs("div",{className:"h-full grid grid-cols-1 md:grid-cols-3 gap-7 md:justify-between p-5",children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[C.jsx(Yf,{className:"w-6 h-6 text-background-interactive shrink-0"}),C.jsxs(Fe,{variant:"headline-small",className:" ",children:[C.jsx("span",{className:"bg-gradient-to-r from-[#7513FF] via-[#4348F3] to-[#0093CE] bg-clip-text text-transparent",children:"ACADEMY"}),"  "]})]}),C.jsx("img",{src:Pee,className:"hidden md:block w-[252px] h-[252px]"}),C.jsxs("div",{className:"flex flex-col gap-2 text-text-on-white-secondary",children:[C.jsx(Fe,{variant:"title-body",children:"Below-the-line powerhousea creative and experiential unit where ideas meet industry."}),C.jsx(Fe,{children:"Through initiatives like Rocking the Industry and the Data-Driven LAB, we go beyond traditional services to spark interaction, collaboration, and thought leadership."})]})]})}),C.jsx(po.div,{className:"absolute w-full  bg-white rounded-xl shadow-2xl",style:{y:m,opacity:x,zIndex:30},children:C.jsxs("div",{className:"h-full grid grid-cols-1 md:grid-cols-3 gap-7 md:justify-between p-5",children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[C.jsx(Yf,{className:"w-6 h-6 text-background-interactive shrink-0"}),C.jsxs(Fe,{variant:"headline-small",className:" ",children:[C.jsx("span",{className:"bg-gradient-to-r from-[#7513FF] via-[#4348F3] to-[#0093CE] bg-clip-text text-transparent",children:"INNOVATION LAB"}),"  "]})]}),C.jsx("img",{src:CI,className:"hidden md:block w-[252px] h-[252px]"}),C.jsxs("div",{className:"flex flex-col gap-2 text-text-on-white-secondary",children:[C.jsx(Fe,{variant:"title-body",children:"Below-the-line powerhousea creative and experiential unit where ideas meet industry."}),C.jsx(Fe,{children:"Through initiatives like Rocking the Industry and the Data-Driven LAB, we go beyond traditional services to spark interaction, collaboration, and thought leadership."})]})]})})]})})]})})})}const Oee="/rts-clone/assets/map-Cj7Y5JuA.png";function Uee(){const i=j.useRef([]),e=[{name:"BUENOS AIRES"},{name:"HUSTON"},{name:"BAHA BLANCA"},{name:"TAMPICO"},{name:"MADRID"},{name:"SANTIAGO DE CHILE"}];return C.jsx("section",{className:"relative bg-background-inverse text-text-on-white-primary py-9",id:"location",children:C.jsxs("div",{className:"presence-container",children:[C.jsxs("div",{className:"presence-left",children:[C.jsx("h4",{className:"presence-label",children:"LOCATION"}),C.jsx("h2",{className:"presence-title",children:"GLOBAL PRESENCE"}),C.jsx("p",{className:"presence-text presence-text-desktop",children:"From America to Europe, we deliver world-class engineering, integration, and field services. With offices and partners across key regions, we combine global experience with local insight to support every stage of your industrial automation journey."}),C.jsx("p",{className:"presence-text presence-text-mobile",children:"From America to Europe, we deliver world-class engineering, integration, and field services. With offices and partners across key regions, we combine global experience with local insight to support every stage of your industrial automation journey."}),C.jsx(Fs,{children:"Book a meeting now"})]}),C.jsx("div",{className:"presence-right",children:C.jsxs("div",{className:"presence-canvas",children:[C.jsx("div",{className:"presence-mapWrap",children:C.jsx("img",{src:Oee,alt:"Global map",className:"presence-map shrink-0"})}),e.map((t,n)=>C.jsx("div",{ref:r=>i.current[n]=r,className:`marker m${n+1}`,children:C.jsx("div",{className:"marker-tooltip",children:t.name})},n))]})})]})})}const zee="/rts-clone/assets/Banner-DbAKTucu.jpeg";function RI({onPhase:i}){const e=j.useRef(null),{setTheme:t}=lh();return j.useEffect(()=>{if(!e.current){console.log(" whiteBlockRef.current an no existe");return}console.log(" Observando elemento:",e.current),console.log(" Altura del elemento:",e.current.offsetHeight),console.log(" Posicin top:",e.current.offsetTop);const n=new IntersectionObserver(r=>{r.forEach(s=>{console.log(" IntersectionObserver entry:",{isIntersecting:s.isIntersecting,intersectionRatio:s.intersectionRatio,boundingClientRect:s.boundingClientRect,rootBounds:s.rootBounds,time:s.time}),s.isIntersecting?(console.log(" EN VISTA - Cambiando a light"),t("light"),window.dispatchEvent(new Event("navLight"))):(console.log(" FUERA DE VISTA - Cambiando a dark"),t("dark"),window.dispatchEvent(new Event("navDark")))})},{threshold:.1,rootMargin:"0px"});return n.observe(e.current),()=>{console.log(" Limpiando observer"),n.disconnect()}},[t]),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"hero-outro-spacer"}),C.jsx(Nee,{}),C.jsx(Lee,{}),C.jsxs("div",{ref:e,children:[C.jsx(Dee,{}),C.jsx(Iee,{}),C.jsx(Uee,{})]}),C.jsx(ep,{variant:"image",backgroundImage:zee,titleClassName:"display-medium",titleDesktop:`LET'S SPARK YOUR
INDUSTRIAL BRILLIANCE`,titleMobile:`LET'S SPARK
YOUR INDUSTRIAL
BRILLIANCE`,bodyDesktop:`Every challenge is an opportunity. Share yours, and
let's explore how to bring your vision to life.`,bodyMobile:`Every challenge is an opportunity.
Share yours, and let's explore how to
bring your vision to life.`,buttons:[{label:"Book a meeting now",href:"#book",variant:"primary"}],start:"top top"})]})}const kee="/rts-clone/assets/heroHubBackground-XBend8hP.jpg";function Bee({onPhase:i}){const e=j.useRef(null);return C.jsxs("section",{id:"hero-hub",ref:e,className:"relative w-full h-full min-h-screen",style:{backgroundImage:`url(${kee})`,backgroundSize:"cover",backgroundPosition:"top-center",backgroundRepeat:"no-repeat"},children:[C.jsx("div",{className:"absolute inset-0 bg-black/60"}),C.jsx("div",{className:"relative z-10  w-full h-full md:px-7 py-9 px-3 ",children:C.jsxs("div",{className:"py-9 flex flex-col gap-6 md:gap-4",children:[C.jsx(Fe,{variant:"headline-large",className:"md:text-display-lg ",children:"HUB"}),C.jsxs("div",{className:"flex justify-end md:pr-9 pr-3",children:[" ",C.jsx(Fe,{variant:"title-small",className:"w-2/3 hidden md:block",children:"Born from sparks of innovation, RTS HUB embodies the restless spirit of creation  connecting minds, machines, and ideas to redefine whats possible in industry."}),C.jsx(Fe,{variant:"title-small",className:"w-2/3  md:hidden",children:" stands to ensure technical excellence, operational reliability, \\nand seamless project execution."})]})]})})]})}const Fee="/rts-clone/assets/technology-CIfCOMHE.jpg",Vee="/rts-clone/assets/entryCards-CM5FqWjv.jpg",Hee="/rts-clone/assets/rockingIndustryLogo-BFiUgBjf.png",Q4="/rts-clone/assets/pannel-Bg9cGBV8.jpg",jee="/rts-clone/assets/exposition-BIALicGP.jpg",Gee="/rts-clone/assets/exposition2-Biyer-Qj.jpg",Wee="/rts-clone/assets/participants-DXVhaAc7.jpg",Xee="/rts-clone/assets/coders-BKGemZSb.jpg";function qee(){const i=j.useRef(null),e=j.useRef(null),t=Cu("(min-width: 1024px)"),n=Cu("(min-width: 768px) and (max-width: 1023px)");Cu("(max-width: 767px)");const{scrollYProgress:r}=gw({target:i}),s=fs(r,[0,1],["0%","-130%"]),o=fs(r,[0,1],["0%","-180%"]),c=fs(r,[0,1],["0%","-180%"]);let h;return t?h=s:n?h=o:h=c,C.jsxs("section",{ref:i,className:"relative w-full md:h-[500vh] h-[600vh] ",children:["   ",C.jsx("div",{className:"sticky top-0  h-[780px]  flex items-center overflow-hidden",children:C.jsx("div",{className:" md:px-7 px-3 my-9",children:C.jsxs("div",{className:"flex flex-col gap-12",children:[C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx(Fe,{variant:"subtitle-large",children:"- 01"}),C.jsx(Fe,{variant:"display-sm",children:"BELOW THE LINE"})]}),C.jsx("div",{className:"relative h-[400px]",children:C.jsxs(po.div,{ref:e,className:"flex gap-6 absolute left-0 top-0 h-full",style:{x:h},children:[C.jsx("div",{className:"flex-shrink-0 w-[300px] md:w-[450px]",children:C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx(Fe,{variant:"title-medium",children:"A creative and experiential unit where ideas meet industry."}),C.jsx(Fe,{variant:"body-md",children:"Through initiatives like Rocking the Industry and the Data-Driven LAB, we go beyond traditional services to spark interaction, collaboration, and thought leadership."})]})}),C.jsx("div",{className:"flex-shrink-0 w-[400px] md:w-[666px]",children:C.jsx("div",{className:"overflow-hidden",children:C.jsx("img",{src:Fee,alt:"Technology",className:`w-full h-auto transform hover:scale-105 \r
                                                 transition-transform duration-500`})})}),C.jsx("div",{className:"flex-shrink-0 w-[300px] md:w-[450px]",children:C.jsxs("div",{className:"flex flex-col gap-6 rounded-md",children:[C.jsx(Fe,{variant:"title-medium",children:"What do we deliver"}),C.jsxs("div",{className:"flex flex-col gap-5",children:[C.jsxs("div",{className:"flex gap-3 items-start",children:[C.jsx(BS,{className:"text-green-500 flex-shrink-0 mt-1 animate-pulse"}),C.jsx(Fe,{variant:"body-sm",children:"Immersive experiences that connect talent, clients, and partners."})]}),C.jsxs("div",{className:"flex gap-3 items-start",children:[C.jsx(BS,{className:"text-green-500 flex-shrink-0 mt-1 animate-pulse",style:{animationDelay:"0.2s"}}),C.jsx(Fe,{variant:"body-sm",children:"Industrial hackathons and symposiums that inspire innovation."})]}),C.jsxs("div",{className:"flex gap-3 items-start",children:[C.jsx(BS,{className:"text-green-500 flex-shrink-0 mt-1 animate-pulse",style:{animationDelay:"0.4s"}}),C.jsx(Fe,{variant:"body-sm",children:"A living community where culture, technology, and knowledge converge."})]})]})]})}),C.jsx("div",{className:"flex-shrink-0 ",children:C.jsx("div",{className:"rounded-md overflow-hidden",children:C.jsx("img",{src:Vee,alt:"Entry Cards",className:`w-[192px] h-[192px] rounded-md transform hover:scale-105 \r
                                                 transition-transform duration-500`})})}),C.jsx("div",{className:"flex-shrink-0",children:C.jsxs("div",{className:"rounded-md bg-background-inverse p-4 flex flex-col gap-4",children:[C.jsx("img",{src:Hee,alt:"Rocking Industry Logo",className:"w-[227px] h-[51px]"}),C.jsxs(Fe,{variant:"body-lg",className:"text-text-on-white-primary font-bold",children:["Every year, RTS proudly hosts the ",C.jsx("br",{}),'industrial hackathon "Rocking the Industry"']}),C.jsxs(Fe,{variant:"body-md",className:"text-text-on-white-primary",children:["A two days event that brings together innovation,",C.jsx("br",{})," collaboration, and cutting-edge solutions to",C.jsx("br",{})," address the sector's most pressing challenges."]}),C.jsx(Fs,{variant:"filled-light",children:"Learn more about the event"})]})}),C.jsx("div",{className:"flex-shrink-0",children:C.jsx("div",{className:"rounded-md overflow-hidden",children:C.jsx("img",{src:Q4,alt:"Panel",className:`w-auto h-[391px] rounded-md transform hover:scale-105 \r
                                                 transition-transform duration-500`})})}),C.jsx("div",{className:"flex-shrink-0 w-[300px] md:w-[450px]",children:C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsxs(Fe,{variant:"title-medium",className:"",children:["Inspiring the next ",C.jsx("br",{})," generation of leaders"]}),C.jsxs(Fe,{variant:"body-md",className:"",children:["More than just a competition, Rocking The Industry is a strategic platform to inspire the next generation of leaders, establish valuable connections, and position sponsoring brands as leaders committed to innovation and progress ",C.jsx("br",{}),"in the industry."]})]})}),C.jsx("div",{className:"flex-shrink-0",children:C.jsxs("div",{className:"flex flex-col justify-between h-full",children:[C.jsx("div",{className:"rounded-md overflow-hidden w-full flex justify-end pr-2",children:C.jsx("img",{src:Xee,alt:"Programadores",className:`w-auto h-[136px] rounded-md transform hover:scale-105 \r
                                                 transition-transform duration-500 `})}),C.jsx("div",{className:"rounded-md overflow-hidden",children:C.jsx("img",{src:Wee,alt:"Participantes",className:`w-auto h-[172px] rounded-md transform hover:scale-105 \r
                                                 transition-transform duration-500`})})]})}),C.jsx("div",{className:"flex-shrink-0",children:C.jsxs("div",{className:"rounded-md bg-background-inverse p-4 flex flex-col gap-4",children:[C.jsx(Fe,{variant:"headline-small",className:"font-bold",style:{background:"linear-gradient(90deg, #7513FF 0%, #4348F3 50%, #0093CE 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent",WebkitTextFillColor:"transparent"},children:"DATA-DRIVEN LAB"}),C.jsxs(Fe,{variant:"title-body",className:"text-text-on-white-primary",children:["Aspace created to share, analyze, and ",C.jsx("br",{}),"propose technological strategies in industrial ",C.jsx("br",{}),"data science."]}),C.jsxs(Fe,{variant:"body-default",className:"text-text-on-white-primary",children:["This symposium, organized by RTS Group, is part of",C.jsx("br",{})," a series of events taking place with the framework ",C.jsx("br",{}),"of the Data-Driven LAB."]})]})}),C.jsx("div",{className:"flex-shrink-0",children:C.jsxs("div",{className:"flex flex-col justify-between h-full",children:[C.jsx("div",{className:"rounded-md overflow-hidden",children:C.jsx("img",{src:jee,alt:"Exposicion 1",className:`w-auto h-[230px] rounded-md transform hover:scale-105 \r
                                                 transition-transform duration-500 `})}),C.jsx("div",{className:"rounded-md overflow-hidden"})]})}),C.jsx("div",{className:"flex-shrink-0",children:C.jsxs("div",{className:"flex flex-col justify-between h-full mr-9",children:[C.jsx("div",{className:"rounded-md overflow-hidden w-full flex justify-end "}),C.jsx("div",{className:"rounded-md overflow-hidden",children:C.jsx("img",{src:Gee,alt:"Exposicion 2",className:`w-auto h-[161px] rounded-md transform hover:scale-105 \r
                                                 transition-transform duration-500`})})]})})]})})]})})})]})}const Yee="/rts-clone/assets/HubBanner-CkT9sgp4.png",Zee="/rts-clone/assets/innovationLabBackgroung-BMQ87T2y.jpg",$ee="/rts-clone/assets/academyCardBackground-CVLVgrcb.png";function Kee(){const i=nl(),e=j.useRef(null),{setTheme:t}=lh();return j.useEffect(()=>{if(!e.current){console.log(" whiteBlockRef.current an no existe");return}const n=new IntersectionObserver(r=>{r.forEach(s=>{console.log(" IntersectionObserver entry:",{isIntersecting:s.isIntersecting,intersectionRatio:s.intersectionRatio,boundingClientRect:s.boundingClientRect,rootBounds:s.rootBounds,time:s.time}),s.isIntersecting?(t("light"),window.dispatchEvent(new Event("navLight"))):(t("dark"),window.dispatchEvent(new Event("navDark")))})},{threshold:.1,rootMargin:"0px"});return n.observe(e.current),()=>{console.log(" Limpiando observer"),n.disconnect()}},[t]),C.jsxs(C.Fragment,{children:[C.jsx(Bee,{}),C.jsx("div",{className:"hero-outro-spacer"}),C.jsx("section",{id:"laboratory",className:"relative overflow-hidden ",children:C.jsxs("div",{className:"md:px-7 py-9 px-3 relative flex flex-col  gap-7",style:{zIndex:2},children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between gap-4 ",children:[C.jsx("div",{className:"flex flex-row md:w-2/3",children:C.jsxs(Fe,{variant:"headline-medium",className:"md:text-headline-large",children:["OUR ",C.jsx("span",{className:"text-core-violet",children:"LABORATORY"})," OF IDEAS AND EXECUTION"]})}),C.jsx("div",{className:"md:w-1/2 flex md:justify-end md:items-end",children:C.jsx(Fe,{variant:"body-md",children:"It brings together a single ecosystem where knowledge, experimentation, and collaboration converge. Here, learning becomes practice, innovation turns into solutions, and communities spark industrial brilliance."})})]}),C.jsx("div",{className:"flex flex-col gap-4",children:C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"Bellow The Line",icon:C.jsx(CY,{className:"w-5 h-5 text-core-violet"}),info:`A creative and experiential 
unit where ideas meet industry.`},{title:"Academy",icon:C.jsx(Yf,{className:"w-5 h-5 text-core-violet"}),info:`Training and development  
arm of RTS Group.`},{title:"Innovation Lab",icon:C.jsx(NY,{className:"w-5 h-5 text-core-violet"}),info:"More than a testing groundit is a laboratory of ideas and execution."}].map((n,r)=>C.jsxs("div",{className:"rounded-md shadow-md p-5 flex flex-col justify-between h-hub-card border border-assistant-prompt bg-background-primary",children:[C.jsxs("div",{className:"flex flex-col gap-3",children:[n.icon,C.jsx(Fe,{variant:"title-body",className:"font-bold",children:n.title})]}),C.jsx(Fe,{variant:"body-md",children:n.info})]},`hub-card-laboratory-${r}`))})})]})}),C.jsx(qee,{},i.key),C.jsx("div",{ref:e,children:C.jsxs("section",{id:"academy",className:"relative overflow-hidden ",children:[C.jsx("div",{className:"absolute inset-0",children:C.jsx("div",{className:"banner-bg absolute inset-0",style:{backgroundImage:"linear-gradient(180deg, #EBEEF0 0%, #E5DAFF 100%)"},"aria-hidden":"true"})}),C.jsxs("div",{className:"md:px-7 py-9 px-3 relative flex flex-col  gap-7",style:{zIndex:2},children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between gap-7 ",children:[C.jsxs("div",{className:"flex flex-col gap-3 md:w-1/2",children:[C.jsx(Fe,{variant:"subtitle-large",className:"",children:"- 02"}),C.jsx(Fe,{variant:"display-sm",className:"",children:"ACADEMY"})]}),C.jsx("div",{className:"md:w-1/2 flex md:justify-end md:items-end",children:C.jsx(Fe,{variant:"body-md",children:"Dedicated to enhancing technical skills and knowledge in the fields of industrial automation, IT-OT convergence, and advanced data analytics."})})]}),C.jsx("div",{className:"flex flex-col gap-4",children:C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[[{title:"Innovation Learning Center",icon:C.jsx(oB,{className:"w-5 h-5 text-primary-500"}),info:"Community and knowledge sharing through webinars, forums, and events that foster innovation across the RTS ecosystem"},{title:"Technical Growth Programs",icon:C.jsx(qY,{className:"w-5 h-5 text-primary-500"}),info:"Workshops and tailored courses to support customers and partners in adopting best practices"},{title:"Technical Excellence Hub",icon:C.jsx(SY,{className:"w-5 h-5 text-primary-500"}),info:"Technical training programs in automation, controls, data integration, analytics, and visualization tools."}].map((n,r)=>C.jsxs("div",{className:"bg-white rounded-md shadow-md p-5 flex flex-col justify-between h-hub-card",children:[C.jsxs("div",{className:"flex flex-col gap-3",children:[n.icon,C.jsx(Fe,{variant:"title-body",className:"font-bold",children:n.title})]}),C.jsx(Fe,{variant:"body-md",children:n.info})]},`hub-card-academy-1-${r}`)),[{title:"Engineering Skills Development",icon:C.jsx(_Y,{className:"w-5 h-5 text-primary-500"}),info:`E-learning and on-demand content 
(modules, video tutorials, virtual labs) 
for flexible, remote access.`},{title:`Professional Training 
& Certification`,icon:C.jsx(TY,{className:"w-5 h-5 text-primary-500"}),info:`Industry-recognized certifications 
for engineers and technicians`}].map((n,r)=>C.jsxs("div",{className:"bg-white rounded-md shadow-md p-5 flex flex-col justify-between h-hub-card",children:[C.jsxs("div",{className:"flex flex-col gap-3",children:[n.icon,C.jsx(Fe,{variant:"title-body",className:"font-bold",children:n.title})]}),C.jsx(Fe,{variant:"body-md",children:n.info})]},`hub-card-academy-2-${r}`)),C.jsx("div",{className:"bg-white rounded-md shadow-md h-hub-card",children:C.jsx("div",{className:"w-full h-full bg-cover bg-center rounded-md",style:{backgroundImage:`url(${$ee})`}})},"image-hub-academy")]})})]})]})}),C.jsxs("section",{id:"innovation-lab",className:"relative overflow-hidden",children:[C.jsxs("div",{className:"absolute inset-0",children:[C.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Zee})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},"aria-hidden":"true"}),C.jsx("div",{className:"absolute inset-0 bg-background-primary opacity-80",style:{zIndex:1}})]})," ",C.jsxs("div",{className:"md:px-7 py-9 px-3 relative flex flex-col md:flex-row gap-6.5 md:gap-0 text-text-primary ",style:{zIndex:2},children:[C.jsxs("div",{className:"md:w-1/2 flex flex-col gap-3",children:[C.jsx(Fe,{variant:"subtitle-large",className:"",children:"- 03"}),C.jsx(Fe,{variant:"display-sm",className:"",children:"INNOVATION LAB"})]}),C.jsxs("div",{className:"md:w-1/2 flex flex-col gap-6",children:[C.jsx(Fe,{variant:"title-medium",children:`More than a testing ground
it is a laboratory of ideas and execution.`,className:"font-base"}),C.jsx(Fe,{variant:"body-md",children:`Here, we develop new technologies, provide industrial tech consulting, 
and design pilot projects that bring innovation into real practice. It is 
where concepts are tested, validated, and transformed into solutions 
that empower industries`}),C.jsx(Fe,{variant:"title-medium",children:"The LAB Infrastructure",className:"font-base"}),C.jsx(Fe,{variant:"body-md",children:`The most effective strategy for delivering a high-security on-site service 
is to thoroughly test deployments in-house, ensuring their robustness 
and reliability. Additionally, preparing resources to handle any potential uncertainties equips the team to respond proactively and maintain seamless operations under any circumstances.
               
We developed the RTS LAB, a cyber-physical environment where our
global resources can emulate and deploy projects.`})]})]})]}),C.jsx(ep,{variant:"image",backgroundImage:Yee,overlay:!0,titleClassName:"display-medium",titleDesktop:`WOULD YOU LIKE TO KNOW
MORE ABOUT OUR EXPERIENCE?`,titleMobile:"WOULD YOU LIKE TO KNOW MORE ABOUT OUR EXPERIENCE?",buttons:[{label:"Book a meeting now",href:"#book",variant:"filled-dark"}],start:"top top"})]})}const Qee="/rts-clone/assets/culture_background-5H9FtQwL.png";function Jee(){return C.jsxs("section",{id:"hero-energy",className:"relative w-full h-screen min-h-screen",style:{backgroundImage:`url(${Qee})`,backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},children:[C.jsx("div",{className:"absolute inset-0 bg-black/60"}),C.jsx("div",{className:"relative z-10 w-full h-full md:px-7 py-9 px-3",children:C.jsx("div",{className:"pt-9 flex flex-col gap-6 md:gap-4",children:C.jsx(Fe,{variant:"headline-large",className:"md:text-display-lg ",children:"CULTURE"})})})]})}const ete="/rts-clone/assets/approach_background-C2Nr1xRG.jpg",NI="/rts-clone/assets/card1-B_HtvUk7.jpg",tte="/rts-clone/assets/card2-Bod1Vjwp.png",nte="/rts-clone/assets/card3-BQhHeUDB.jpg",ite="/rts-clone/assets/card4-CD4rk3JA.png";function rte(){const i=j.useRef(null),{setTheme:e}=lh();return j.useEffect(()=>{if(!i.current){console.log(" whiteBlockRef.current an no existe");return}const t=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting?(e("light"),window.dispatchEvent(new Event("navLight"))):(e("dark"),window.dispatchEvent(new Event("navDark")))})},{threshold:.1,rootMargin:"0px"});return t.observe(i.current),()=>{console.log(" Limpiando observer"),t.disconnect()}},[e]),C.jsxs(C.Fragment,{children:[C.jsx(Jee,{}),C.jsx("div",{className:"hero-outro-spacer"}),C.jsx("section",{id:"industrial-tech",className:"",children:C.jsxs("div",{className:"md:px-9 lg:mx-9 py-9 px-3 flex flex-col  gap-6.5",children:[C.jsxs(Fe,{variant:"headline-medium",className:"",children:["EMPOWERING INDUSTRIES BY ",C.jsx("br",{className:"md:block hidden"})," MASTERING THE ART OF "," "," ",C.jsxs("span",{className:"      bg-gradient-to-b  from-[#7513FF] via-[#4348F3]  to-[#0093CE]      bg-clip-text text-transparent    ",children:["INDUSTRIAL  ",C.jsx("br",{className:"md:block hidden"})," TECHNOLOGY "]})," CURATION"]}),C.jsx("div",{className:"flex justify-center w-full ",children:C.jsxs("div",{className:"flex flex-col gap-4 text-text-secondary w-full md:px-9 lg:mx-9",children:[C.jsxs(Fe,{variant:"title-body",children:["At RTS Group, we view technology as only the beginning",C.jsx("br",{}),"  our true value lies in integrating it into holistic solutions ",C.jsx("br",{}),"that transform the way our clients operate."]}),C.jsx(Fe,{variant:"body-md",children:"Whether its through our PODs or customized projects, we combine the best tools in the industry to deliver unmatched value, efficiency, and performance. This approach enables our clients to thrive in a competitive, data- driven world."}),C.jsx(Fe,{variant:"title-body",children:"What do we expect about our future?"}),C.jsxs(Fe,{variant:"body-md",children:["To be the global leader in industrial automation, data-driven solutions, ",C.jsx("br",{}),"and IT/OT convergence, setting the benchmark for innovation, operational excellence, and sustainability.",C.jsx("br",{}),C.jsx("br",{}),"We envision a future where industries achieve unparalleled efficiency ",C.jsx("br",{}),"and resilience through advanced technology, guided by our expertise ",C.jsx("br",{}),"and commitment to delivering transformative solutions."]})]})}),C.jsxs("div",{className:"relative overflow-hidden rounded-xl flex justify-center group",children:[C.jsx("img",{src:Q4,alt:"Technology",className:"w-full  min-h-[500px] md:h-[550px] rounded-xl  object-cover"}),C.jsx("div",{className:"absolute inset-0 rounded-xl",style:{background:`
        linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 81.81%),
        linear-gradient(0deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4))
      `,opacity:"0.8",transition:"opacity 0.3s ease"}}),C.jsx("button",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 \r
               w-16 h-16 md:w-20 md:h-20 bg-background-inverse bg-opacity-40 rounded-full \r
               flex items-center justify-center shadow-lg \r
               hover:scale-110 transition-all duration-300 \r
               hover:shadow-2xl `,"aria-label":"Play video",onClick:()=>{},children:C.jsx(Ree,{className:"w-icon-sm h-icon-sm md:w-10 md:h-10 text-white "})})]})]})}),C.jsxs("section",{id:"our-approach",className:"relative overflow-hidden bg-background-primary",children:[C.jsx("div",{className:"absolute inset-0 hidden md:block",children:C.jsx("img",{src:ete,alt:"Background",style:{position:"absolute",bottom:"-35%",right:"-10%",width:"100%",height:"auto",transformOrigin:"bottom center"}})}),C.jsx("div",{className:"absolute inset-0 bg-black/50"}),C.jsxs("div",{className:"md:px-7 py-9 px-3 relative flex flex-col  gap-7",style:{zIndex:2},children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between gap-4 ",children:[C.jsx("div",{className:"flex flex-row md:w-2/3",children:C.jsx(Fe,{variant:"headline-medium",className:"md:text-headline-large",children:"OUR APPROACH"})}),C.jsx("div",{className:"md:w-1/2 flex md:justify-end md:items-end text-text-secondary",children:C.jsx(Fe,{variant:"body-md",children:"We approach digital transformation in Industry 4.0 with a proven, strategic framework designed to deliver impactful and sustainable results. "})})]}),C.jsx("div",{className:"flex flex-col gap-4",children:C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-text-on-white-primary",children:[[{title:"Creating a Sense of Urgency",icon:C.jsx($Y,{className:"w-5 h-5 text-primary-500"}),info:"Identify critical opportunities or challenges to ignite momentum and commitment."},{title:"Building a Guiding Coalition",icon:C.jsx(wY,{className:"w-5 h-5 text-primary-500"}),info:`Assemble a leadership team with 
the authority and expertise to champion 
the project.`},{title:"Crafting a Clear Vision",icon:C.jsx(oB,{className:"w-5 h-5 text-primary-500"}),info:"Define an ambitious yet achievable vision, paired with actionable strategies to drive results."},{title:"Communicating the Vision",icon:C.jsx(WY,{className:"w-5 h-5 text-primary-500"}),info:"Identify critical opportunities or challenges to ignite momentum and commitment."},{title:"Empowering Collaboration",icon:C.jsx(PY,{className:"w-5 h-5 text-primary-500"}),info:"Foster active client engagement, enabling them to co-create and contribute to the project's success."},{title:"Achieving Early Wins",icon:C.jsx(BY,{className:"w-5 h-5 text-primary-500"}),info:"Focus on quick, tangible outcomes to build confidence, momentum, and proof of success."}].map((t,n)=>C.jsxs("div",{className:"bg-white rounded-md shadow-md p-5 flex flex-col justify-between h-hub-card",children:[C.jsxs("div",{className:"flex flex-col gap-3",children:[t.icon,C.jsx(Fe,{variant:"title-body",className:"font-bold",children:t.title})]}),C.jsx(Fe,{variant:"body-md",children:t.info})]},`culture-card-1-${n}`)),C.jsxs("div",{className:"bg-white rounded-md shadow-md p-5 flex flex-col justify-between h-hub-card",children:[C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx(jY,{className:"w-5 h-5 "}),C.jsx(Fe,{variant:"title-body",className:"font-bold",children:"Embedding Lasting Change"})]}),C.jsx(Fe,{variant:"body-md",children:"Integrate the projects outcomes into the clients processes, ensuring long-term value and transformation."})]}),C.jsx("div",{className:"rounded-md bg-transparent p-5  h-hub-card hidden md:flex"}),C.jsx("div",{className:" rounded-md h-auto md:h-hub-card flex flex-col justify-end md:p-5 ",children:C.jsx(Fe,{variant:"title-small",className:"text-text-primary",children:"This structured approach ensures every project not only achieves its objectives but also creates lasting change for our clients."})})]})})]})]}),C.jsx("div",{ref:i,children:C.jsxs("section",{id:"operation",className:"relative overflow-hidden ",children:[C.jsx("div",{className:"absolute inset-0",children:C.jsx("div",{className:"banner-bg absolute inset-0",style:{backgroundImage:"linear-gradient(180deg, #EBEEF0 0%, #E5DAFF 100%)"},"aria-hidden":"true"})}),C.jsxs("div",{className:"md:px-7 py-9 px-3 relative flex flex-col  gap-7",style:{zIndex:2},children:[C.jsx(Fe,{variant:"headline-small",className:"md:text-headline-large md:text-center",children:`SOLUTIONS THAT TRANSFORM 
THE WAY OUR CLIENTS OPAREATE`}),C.jsx("div",{className:"flex flex-col gap-4",children:[{title:"UNIFIED ECOSYSTEMS",img:NI,info:`We design and implement cohesive 
systems where all technologies work 
seamlessly together, tailored to the 
clients specific needs.`},{title:`INNOVATION 
AT THE CORE`,img:tte,info:`By integrating industry-leading tools into
our PODs, we ensure our clients stay at the forefront of industrial innovation.`},{title:"SCALABILITY AND FUTURE-READINESS",img:nte,info:`Our solutions are built to adapt and 
scaleas client operations grow, ensuring long-term value.`},{title:"EXPERT IMPLEMENTATION",img:ite,info:`Our teams deep expertise with these 
platforms guarantees smooth integration, minimal disruption, and maximum ROI.`}].map((t,n)=>C.jsxs("div",{className:"bg-white rounded-xl shadow-md grid grid-cols-1 md:grid-cols-3 gap-4 md:items-center w-full p-5",children:[C.jsx(Fe,{variant:"headline-small",className:"  bg-gradient-to-b  from-[#7513FF] via-[#4348F3]  to-[#0093CE]      bg-clip-text text-transparent   ",children:t.title}),C.jsx("img",{className:"w-[252px] h-[252px] object-cover rounded-xs",src:t.img,alt:""}),C.jsx(Fe,{variant:"body-md",children:t.info})]},`culture-card-1-${n}`))})]})]})}),C.jsx(ep,{variant:"image",backgroundImage:NI,overlay:80,titleClassName:"display-medium",titleDesktop:`WOULD YOU LIKE TO KNOW
MORE ABOUT OUR EXPERIENCE?`,titleMobile:"WOULD YOU LIKE TO KNOW MORE ABOUT OUR EXPERIENCE?",buttons:[{label:"Book a meeting now",href:"#book",variant:"filled-dark"}],start:"top top"})]})}const ste="data:image/svg+xml,%3csvg%20width='52'%20height='50'%20viewBox='0%200%2052%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M51.46%200V50H0V0H51.46ZM31.6318%2040.1006V44.8838H46.374V40.1006H31.6318ZM5.09082%205.11426V40.1006H9.8457V24.9531H16.3848L21.7842%2035.3672V40.1006H26.5391V34.4941L25.8555%2033.1641L21.4375%2024.5547L25.8955%2020.0195L26.5391%2019.3652V11.5986H26.5381V10.6436L25.3164%209.42871L21.9521%206.08398L20.9766%205.11426H5.09082ZM18.9121%209.85449L21.7363%2012.6455V17.3789L18.9619%2020.2695H9.84766V9.85449H18.9121Z'%20fill='black'/%3e%3c/svg%3e";function ate(){return C.jsxs("footer",{children:[C.jsxs("div",{className:"py-7 md:px-6.5 px-3 flex flex-col md:flex-row gap-7 bg-background-interactive justify-between align-start ",children:[C.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:align-center",children:[C.jsx("img",{src:ste,alt:"RTS Logo",className:"h-logo-lg md:h-logo-md w-auto filter brightness-0 invert"}),C.jsxs(Fe,{variant:"headline-small",children:["SPARK INDUSTRIAL",C.jsx("br",{}),"BRILLIANCE"]})]}),C.jsxs("div",{className:"flex flex-col md:flex-row gap-7",children:[C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx(Fe,{variant:"title-body",className:"font-bold font-haffer",children:"Departments"}),C.jsx(Fe,{variant:"body-md",className:"font-haffer font-medium",children:"Automation & Controls"}),C.jsx(Fe,{variant:"body-md",className:"font-haffer font-medium",children:"Digital Skills"}),C.jsx(Fe,{variant:"body-md",className:"font-haffer font-medium",children:"Energy & Infrastructure"})]}),C.jsxs("div",{className:"footer-column",children:[C.jsx(Fe,{variant:"title-body",className:"font-bold font-haffer",children:"Departments"}),C.jsx(Fe,{variant:"body-md",className:"font-haffer font-medium",children:"Media kit"})]})]})]}),C.jsxs("div",{className:"flex justify-between items-center px-6 hidden md:flex",children:[C.jsxs("div",{className:"flex gap-6",children:[C.jsx(Fe,{variant:"body-sm",children:"Privacy Policy"}),C.jsx(Fe,{variant:"body-sm",children:"Cookie Settings"})]}),C.jsx(Fe,{variant:"body-sm",className:"text-text-disabled",children:"All Rights Reserved 2025 RTS Group"}),C.jsxs("div",{className:"flex gap-6",children:[C.jsx(Fs,{variant:"text-dark",children:"LinkedIn",className:"text-body-sm ",onClick:()=>window.open("https://www.linkedin.com/company/rtsgroup/")}),C.jsx(Fs,{variant:"text-dark",children:"Youtube",className:"text-body-sm ",onClick:()=>window.open("https://www.youtube.com/@rts_group")}),C.jsx(Fs,{variant:"text-dark",children:"Discord",className:"text-body-sm ",onClick:()=>window.open("https://discord.com/invite/rtsgroup")})]})]})]})}function uM({items:i=[],defaultOpen:e=0,allowCollapse:t=!0,className:n=""}){const[r,s]=j.useState(typeof e=="number"?e:-1),o=c=>{s(h=>h===c?t?-1:h:c)};return C.jsx("div",{className:`flex flex-col gap-4 ${n}`,children:i.map((c,h)=>{const p=h===r;return C.jsxs("article",{className:`
              backdrop-blur-md
              bg-background-soft
              rounded-xl p-3
              transition-all duration-200
            `,children:[C.jsx("header",{className:"block",children:C.jsxs("button",{className:"w-full flex items-center justify-between gap-3.5 p-0 border-0 bg-transparent text-inherit cursor-pointer text-left",type:"button",onClick:()=>o(h),"aria-expanded":p,children:[C.jsx(Fe,{variant:"title-body",className:"text-text-primary",children:c.title}),C.jsx("span",{className:`
                    w-10 h-10 rounded-full flex-shrink-0 
                    flex items-center justify-center transition-all duration-300
               
                    hover:bg-background-inverse
                    hover:text-background-primary
                    ${p?"bg-background-inverse text-background-primary":"bg-assistant-background text-text-primary"}
                  `,"aria-hidden":"true",children:C.jsx(po.span,{className:`
                      text-body-md leading-none -translate-y-[1px] will-change-transform
                    `,animate:{rotate:p?45:0},transition:{duration:.3,ease:"easeOut"},children:C.jsx(VY,{className:"w-icon-xs h-icon-xs "})})})]})}),C.jsx(U4,{initial:!1,children:p&&C.jsx(po.div,{className:"overflow-hidden",initial:{height:0},animate:{height:"auto"},exit:{height:0},transition:{duration:.42,ease:[.4,0,.2,1]},children:C.jsx(po.div,{className:"pt-3 will-change-transform",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.26,ease:"easeOut",delay:.14},children:c.body&&C.jsx(Fe,{variant:"body-default",className:"text-text-secondary",children:c.body})})})})]},c.id??h+c.title)})})}function J4({columns:i=["Service","Focus","Description","Main technologies"],rows:e=[],mode:t="light"}){const n=t==="light";return C.jsxs("section",{className:"w-full h-full",children:[C.jsxs("div",{className:" flex-col gap-5 h-full hidden md:flex scroll-horizontal-allowed",children:[C.jsx("div",{className:Bf(n?" bg-background-primary ":"bg-background-inverse","sticky top-[100px] z-10 rounded-md  p-3 gap-4 grid grid-cols-4"),children:i.map((r,s)=>C.jsx(Fe,{children:r,variant:"subtitle-lg",className:n?"text-text-primary":"text-text-on-white-primary"},r+s))}),C.jsx("div",{className:Bf("flex-1 overflow-y-auto",n?"text-text-on-white-secondary":"text-text-secondary"),children:C.jsx("div",{className:"flex flex-col gap-4 pb-4",children:e.map((r,s)=>C.jsx("div",{className:"rounded-md p-3 gap-4 grid grid-cols-4  md:grid",children:r.map((o,c)=>C.jsx("div",{className:"flex",children:Array.isArray(o.children)?C.jsx("ul",{className:"flex flex-col list-disc pl-4",children:o.children.map((h,p)=>C.jsx("li",{children:C.jsx(Fe,{children:` ${h}`,variant:o.variant})},`${s}-${c}-${p}`))}):C.jsxs("div",{className:"flex flex-col items-start gap-2",children:[C.jsx(Fe,{children:o.children,variant:o.variant,className:Bf("whitespace-pre-line",n?c===0?"text-text-on-white-primary":"text-text-on-white-secondary":c===0?"text-text-primary":"text-text-secondary")}),o.Icon&&C.jsx("div",{className:"flex items-center justify-center ",children:C.jsx("div",{className:"",children:o.Icon})})]})},`${s}-${c}`))},s))})})]}),C.jsx("div",{className:"flex flex-col gap-5 h-full md:hidden",children:e.map((r,s)=>C.jsx("div",{className:Bf("relative flex flex-col gap-4 rounded-md p-[0.8px]"),style:{backgroundImage:"linear-gradient(90deg, #7513FF, #4348F3, #0093CE)"},children:C.jsx("div",{className:Bf("rounded-md  py-6 px-3 flex flex-col gap-4",n?"bg-background-inverse-hover text-text-on-white-secondary":"bg-background-soft text-text-secondary "),children:r.map((o,c)=>C.jsx("div",{className:"flex ",children:Array.isArray(o.children)?C.jsx("ul",{className:"flex flex-col list-disc pl-4",children:o.children.map((h,p)=>C.jsx("li",{children:C.jsx(Fe,{children:` ${h}`,variant:o.variant})},`${s}-${c}-${p}`))}):C.jsxs("div",{className:"flex flex-col items-start gap-2",children:[o.Icon&&C.jsx("div",{className:"flex items-center justify-center",children:C.jsx("div",{className:"w-6 h-6",children:o.Icon})}),C.jsx(Fe,{children:o.children,variant:o.variant,className:Bf("whitespace-pre-line",c===0&&(n?"text-text-on-white-primary":"text-text-primary"))})]})},`${s}-${c}`))})},s))})]})}const ote="/rts-clone/assets/ds_partners-BpPzBC4S.png",lte="/rts-clone/assets/hero_energy-LqcLUR3X.png";function cte(){const i=j.useRef(null);return C.jsxs("section",{id:"hero-energy",ref:i,className:"relative w-full h-full min-h-screen",style:{backgroundImage:`url(${lte})`,backgroundSize:"contain",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},children:[C.jsx("div",{className:"absolute inset-0 bg-black/60"}),C.jsx("div",{className:"relative z-10 w-full h-full md:px-7 py-9 px-3",children:C.jsxs("div",{className:"pt-9 flex flex-col gap-6 md:gap-4",children:[C.jsxs(Fe,{variant:"headline-large",className:"md:text-display-lg hidden md:block",children:["ENERGY  & ",C.jsx("br",{})," INFRASTRUCTURE"]}),C.jsxs(Fe,{variant:"headline-large",className:"md:hidden",children:["ENERGY & ",C.jsx("br",{})," INFRA- STRUCTURE"]}),C.jsx("div",{className:"flex justify-end pr-3  md:mr-9",children:C.jsx(Fe,{variant:"title-small",className:"w-2/3 md:w-3/5 md:text-title-medium",children:" stands to ensure technical excellence, operational reliability, and seamless project execution."})})]})})]})}const ute="/rts-clone/assets/energy_generation1-QnEBP30T.png",fte="/rts-clone/assets/energy_generation2-B3alid_o.jpg",hte=[{title:"Electrical Systems Engineering",body:"Design, implementation, and optimization of industrial power systems."},{title:"Energy Management & Efficiency",body:"Strategic energy solutions to enhance cost-effectiveness and sustainability."},{title:"Industrial Infrastructure Development ",body:"Advanced electrical infrastructure solutions forcomplex industrial environments."},{title:"Automation & Power Integration",body:"Seamless integration of power systems withautomation and control technologies."}];function dte(){const i=j.useRef(null),{setTheme:e}=lh();return j.useEffect(()=>{if(!i.current){console.log(" whiteBlockRef.current an no existe");return}const t=new IntersectionObserver(n=>{n.forEach(r=>{console.log(" IntersectionObserver entry:",{isIntersecting:r.isIntersecting,intersectionRatio:r.intersectionRatio,boundingClientRect:r.boundingClientRect,rootBounds:r.rootBounds,time:r.time}),r.isIntersecting?(e("light"),window.dispatchEvent(new Event("navLight"))):(e("dark"),window.dispatchEvent(new Event("navDark")))})},{threshold:.1,rootMargin:"0px"});return t.observe(i.current),()=>{console.log(" Limpiando observer"),t.disconnect()}},[e]),C.jsxs(C.Fragment,{children:[C.jsx(cte,{}),C.jsxs("section",{id:"energy-solutions",className:"flex flex-col md:flex-row gap-8 pt-9 pb-9 md:pb-7 px-3 md:px-8  bg-background-primary ",children:[C.jsxs("div",{className:"flex flex-col gap-5 md:gap-7 w-full md:w-1/2 ",children:[C.jsxs(Fe,{variant:"title-medium",className:"text-text-secondary font-base",children:["Dedicated to delivering innovative and reliable ",C.jsx("br",{}),"energy solutions, optimizing power infrastructure,  and supporting industrial and commercial operations with efficient energy management strategies."]}),C.jsx(Fs,{variant:"filled-dark",children:"Book a meeting now",className:"w-fit"})]}),C.jsx("div",{className:"flex flex-col gap-4  w-full md:w-1/2",children:C.jsx(uM,{items:hte,defaultOpen:0,allowCollapse:!0})})]}),C.jsx("div",{ref:i,children:C.jsxs("section",{id:"electrical-energy-solutions",className:"flex flex-col md:flex-row px-3 md:px-7 py-9 gap-6 md:gap-4 relative overflow-hidden ",children:[C.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none -z-10",children:[C.jsx("div",{className:"absolute",style:{background:"radial-gradient(111.63% 111.63% at 42.64% -5.82%, rgba(89, 255, 0, 0.8) 33.65%, rgba(0, 238, 255, 0.5) 44.58%, transparent 100%)",transform:"rotate(-112deg)",width:"150vw",height:"50vh",top:"-45%",left:"-40%",filter:"blur(400px)",mixBlendMode:"screen"}}),C.jsx("div",{className:"absolute",style:{background:"radial-gradient(145.3% 70.02% at 45.94% 35.79%, rgba(24, 73, 71, 0.5) 24.04%, rgba(49, 89, 15, 0.5) 60.58%, rgba(12, 58, 27, 0.5) 100%)",filter:"blur(400px)",opacity:"0.4",width:"80vw",height:"130vh",top:"-15%",left:"10%",transform:"rotate(15deg)",mixBlendMode:"screen"}}),C.jsx("div",{className:"absolute md:hidden",style:{background:"radial-gradient(111.63% 111.63% at 42.64% -5.82%, rgba(89, 255, 0, 0.8) 33.65%, rgba(0, 238, 255, 0.5) 44.58%, transparent 100%)",transform:"rotate(-112deg)",width:"150vw",height:"120vh",top:"-55%",left:"-40%",filter:"blur(400px)",mixBlendMode:"screen"}})]}),C.jsxs("div",{className:"relative z-10 flex flex-col gap-6 w-full md:w-3/5",children:[C.jsx("div",{className:"flex flex-col gap-4",children:C.jsxs(Fe,{variant:"headline-small",className:"md:text-headline-medium",children:["HIGH-PERFORMANCE",C.jsx("br",{})," ELECTRICAL & ENERGY",C.jsx("br",{}),"SOLUTIONS"]})}),C.jsx("div",{className:"flex w-full md:pl-9",children:C.jsxs(Fe,{variant:"body-lg",className:"text-text-on-white-secondary ",children:["With deep industry expertise and a commitment to engineering excellence, innovation, and operational reliability, RTS Energy & Infrastructure stands as a trusted partner in providing state-of-the-art electrical and energy solutions that meet the highest industry standards.",C.jsx("br",{}),C.jsx("br",{}),"The department is dedicated to delivering innovative and reliable energy solutions, optimizing power infrastructure, and supporting industrial and commercial operations with efficient energy management strategies."]})})]}),C.jsxs("div",{className:"relative z-10 w-full md:w-ds-parteners-img h-[400px] md:h-[500px]",children:[C.jsx("img",{src:ute,alt:"Energy Generation 1",className:"absolute top-0 left-0 md:w-[272px] w-[214px] h-auto aspect-square rounded-md z-20"}),C.jsx("img",{src:fte,alt:"Energy Generation 2",className:"absolute bottom-0 right-0 md:w-[272px] w-[214px] h-auto aspect-square rounded-md z-10"})]})]})}),C.jsx(ep,{variant:"image",backgroundImage:S3,overlay:50,variantMobile:"headline-small",variantDesktop:"headline-medium",titleDesktop:`WOULD YOU LIKE TO KNOW 
MORE ABOUT OUR EXPERIENCE?`,titleMobile:"WOULD YOU LIKE TO KNOW MORE ABOUT OUR EXPERIENCE?",buttons:[{label:"Download the full document",href:"#contact",variant:"outlined-dark"},{label:"Book a meeting now",href:"#book",variant:"filled-dark"}],start:"top top"})]})}Qn.registerPlugin($t);function pte({imgOne:i,imgTwo:e,imgAlt:t="Banner image",topTitle:n="WE ARE COMMITTED TO DELIVERING",highlight:r="EFFICIENT & RELIABLE",topTitleEnd:s="SOLUTIONS",kicker:o="AUTOMATION & CONTROLS",title:c=`FIELD SERVICES
DEPARTMENT`,paragraph:h="Our skilled resources are equipped to provide on-site assistance for surveys, maintenance, commissioning, start-up, audits, and performance evaluations, delivering top-tier service to meet your operational needs.",leftItems:p=["Factory Acceptance Testing (FAT)","Configuration and Commissioning","Shutdown, Turnaround & Outage Support"],rightItems:m=["Start-up Services","Installation Services","Site Acceptance Testing (SAT)"],nextKicker:g="AUTOMATION & CONTROLS",nextTitle:_=`COMMERCIAL
DEPARTMENT`,nextParagraph:x=`This department regularly conducts product and service presentations tailored to various industrial processes, helping customers adapt to the latest technological advancements.

By fostering strategic agreements, we aim to maximize value for both our customers and RTS, prioritizing long-term partnerships and focusing on corporate, global, and regional collaborations.`,nextLeftItems:b=["Customer engagement","Product presentations","Process alignment"],nextRightItems:T=["Long-term partnerships","Regional support","Global collaboration"]}){const E=j.useRef(null),M=j.useRef(null),R=j.useRef(null),D=j.useRef(null),L=j.useRef(null);j.useLayoutEffect(()=>{const z=E.current,k=M.current;if(!z||!k)return;const F=!!e,O=Qn.context(()=>{F&&R.current&&Qn.set(R.current,{clipPath:"inset(100% 0% 0% 0%)",WebkitClipPath:"inset(100% 0% 0% 0%)",willChange:"clip-path"}),L.current&&Qn.set(L.current,{autoAlpha:0,y:10,visibility:"visible",willChange:"transform,opacity"}),D.current&&Qn.set(D.current,{autoAlpha:1,y:0,willChange:"transform,opacity"});const U=Qn.timeline({scrollTrigger:{trigger:z,start:"top top",end:()=>`+=${Math.round(window.innerHeight*1.35)}`,pin:k,scrub:!0,anticipatePin:1,invalidateOnRefresh:!0},defaults:{ease:"none"}});U.to({},{duration:.15}),F&&R.current&&U.to(R.current,{clipPath:"inset(0% 0% 0% 0%)",WebkitClipPath:"inset(0% 0% 0% 0%)",duration:.75},0),D.current&&U.to(D.current,{autoAlpha:0,y:-10,duration:.25},.15),L.current&&U.to(L.current,{autoAlpha:1,y:0,duration:.25},.3),U.to({},{duration:.45});const X=z.querySelectorAll("img"),K=()=>$t.refresh();X.forEach(oe=>{oe.complete||oe.addEventListener("load",K)});const ne=()=>$t.refresh();return window.addEventListener("resize",ne),()=>{X.forEach(oe=>oe.removeEventListener("load",K)),window.removeEventListener("resize",ne)}},z);return()=>O.revert()},[e]);const I=(z,k)=>Array.isArray(z)&&z.length&&Array.isArray(k)&&k.length?C.jsxs("div",{className:"bannerText__lists",children:[C.jsx("ul",{className:"bannerText__list",children:z.map(O=>C.jsxs("li",{className:"bannerText__li",children:[C.jsx("span",{className:"bannerText__check","aria-hidden":"true"}),C.jsx("span",{className:"bannerText__liText",children:O})]},O))}),C.jsx("ul",{className:"bannerText__list",children:k.map(O=>C.jsxs("li",{className:"bannerText__li",children:[C.jsx("span",{className:"bannerText__check","aria-hidden":"true"}),C.jsx("span",{className:"bannerText__liText",children:O})]},O))})]}):null;return C.jsx("section",{className:"bt-root",ref:E,children:C.jsxs("section",{className:"bannerText bt-banner",ref:M,children:[C.jsx("div",{className:"bannerText__inner",children:C.jsxs("h2",{className:"bannerText__title",children:[n," ",C.jsx("span",{className:"bannerText__highlight",children:r})," ",s]})}),C.jsxs("div",{className:"bannerText__bleed",children:[i?C.jsx("img",{className:"bannerText__img bannerText__img--base",src:i,alt:t}):null,e?C.jsx("div",{ref:R,className:"bt-wipe",children:C.jsx("img",{className:"bannerText__img bannerText__img--next",src:e,alt:t})}):null]}),C.jsx("div",{className:"bannerText__bottom",children:C.jsxs("div",{className:"bannerText__bottomInner",children:[C.jsx("div",{ref:D,className:"bt-content bt-content--a",children:C.jsxs("div",{className:"bannerText__grid bt-gridCenter",children:[C.jsxs("div",{className:"bannerText__left",children:[C.jsx("p",{className:"bannerText__kicker",children:o}),C.jsx("h3",{className:"bannerText__h3",children:c})]}),C.jsxs("div",{className:"bannerText__right",children:[C.jsx("p",{className:"bannerText__p bt-text",children:h}),I(p,m)]})]})}),C.jsx("div",{ref:L,className:"bt-content bt-content--b","aria-hidden":"true",children:C.jsxs("div",{className:"bannerText__grid bt-gridCenter",children:[C.jsxs("div",{className:"bannerText__left",children:[C.jsx("p",{className:"bannerText__kicker",children:g}),C.jsx("h3",{className:"bannerText__h3",children:_})]}),C.jsxs("div",{className:"bannerText__right",children:[C.jsx("p",{className:"bannerText__p bt-text bt-preline",children:x}),I(b,T)]})]})})]})})]})})}const mte="/rts-clone/assets/A_C1-5-364YGo.png",gte="/rts-clone/assets/A_C-DBcXTAKU.png",vte="/rts-clone/assets/Content-BL5QIwiP.png",yte="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIcSURBVHgB7ZZBbtNAFIb/mWCpy94AS5AK2qDGN0hP0LJDoVLNCSgnaHMCzAkIEglZJiconKARDaIiQZojZAMqmdiPmQhK69ged9IukOZbzvx+7/fY894DHI67heVthP7p+szz9kDsPmdsek+yQVs8FrBkf+PsmMAPQOSrpFMC63uSt/JiZhoLq6P6HDghYP36Do86481XuCHPN0ZtEA4ytpRB7HTHtSFMxsJHX/15HJ8um7Iz16yOQpXkbb6CCU/OgrYIpteypGUyTo7yTWmSw2cPzxooiTL1slhBvqx4u+lVniHcgwHOKtsoT90kIMb8pRwZuoLT+huJzJp/TI0KdbnSS1nGPsIEYYjSsL5Jkchfg/TasjGKByj0BNH9vlWouUpcmbVQdGqEqCcCAZOxzmQ7Un/su5wwOsFT3IDeeSB0SSAGgQxTnUkt84bnFthm9XPISBVEhoa+0glRn+byTdbblaX54MuuildnnIsfs4tBP1UiShkry213iFsxpk+Vg79O1z1i1Op+e3KMFbA2tq+KrKo/J/kKu/Z1+TQsUaaOihXJof7MsMTK2J+EDZMuq9WUxcrYxdqa9UmUxcpY73xx64ytJmFcwBLrf4wRi4r2dYf4MNn8BEusjb2fbOlWM8wzlUi5gxWwNqbpjGsBIXmBS4O6QyD6KWWwSodYRMrbcDO/m/nTad3Mv4jkZv6rSd3M/3/O/A7HXfMb4WVBQJJuwkAAAAAASUVORK5CYII=",_te="/rts-clone/assets/integrations-DrDhBQvs.png",DI=[{id:"p1",title:"Process Automation & Control",body:"Our core capabilities include process automation, data management, programming and configuration, system design, implementation, and project management."},{id:"p2",title:"Control System Design & Integration",body:"We provide expert guidance to help clients select, design, and integrate control systems that align with best industry practices. Our expertise covers all DCS and PLC platforms, robust system architectures, and network communications based on industry-standard protocols."},{id:"p3",title:"System Migration & Virtualization",body:"We deliver migration strategies and virtualization solutions that extend system lifecycles, reduce risks, and optimize performance."},{id:"p4",title:"HMI Design & Virtualization",body:"We design and implement high-performance HMI solutions tailored to the specific needs of each industry and process environment."}],xte=[[{children:`Experion Architecture
& Control System`,variant:"title-small"},{children:"We provide expert guidance to help clients select, design, and ",variant:"title-body"},{children:"From system design to logic configuration and safety integration, RTS engineers ensure seamless performance across PKS, TPS, and ControlEdge environments.",variant:"body-sm"},{children:["Experion PKS","TPS","Control Edge","Safety Manager"],variant:"body-sm"}],[{children:`System Migration
& Virtualization`,variant:"title-small"},{children:"We modernize legacy Honeywell systems without losing their DNA.",variant:"title-body"},{children:"RTS specializes in migration from TPS to PKS, virtualization of legacy nodes, and upgrade projects across all HPS layers  preserving knowledge while unlocking new performance.",variant:"body-sm"},{children:["TPS migration","Virtualization","Experion upgrade","Backup recovery"],variant:"body-sm"}],[{children:`Data Integration
& Operational Intelligence`,variant:"title-small"},{children:"We extend the value of Honeywell Process Solutions into the digital layer.",variant:"title-body"},{children:"Integrating Experion with PI System, Edge gateways, and cloud analytics, RTS connects process control to enterprise intelligence  making operations measurable, visible, and adaptive.",variant:"body-sm"},{children:["Experion-to-PI integration","Honeywell Digital Twin","Edge/Historian","Secure Remote Access"],variant:"body-sm"}],[{children:`SCADA, Visualization
& Field Implementation`,variant:"title-small"},{children:"We bring HPS technology to life in the field.",variant:"title-body"},{children:"From SCADA configuration to commissioning and validation (FAT/SAT), RTS delivers end-to-end implementation aligned with Honeywell engineering standards and methodologies.",variant:"body-sm"},{children:["Experion SCADA","Honeywell RTU2020","HC900","Experion HS"],variant:"body-sm"}]],bte=[{title:"Dedicated Pods",body:"Multidisciplinary RTS teams (automation, IT/OT, data analytics, commissioning) assigned to targeted objectives  from system migrations to full lifecycle projects.",icon:AI},{title:"Embedded Engineers",body:"Individual RTS specialists integrated into client teams, supporting specific project tasks or long-term maintenance in hybrid or remote modes.",icon:yte},{title:`Hybrid Workforce
as-a-Service`,body:"A combined model with onsite engineers and remote RTS Global Operations support, ensuring 24/7 responsiveness and access to global expertise.",icon:AI}];function Ste({setNavMode:i}){const e=j.useRef(null),{setTheme:t}=lh();return j.useEffect(()=>{if(!e.current){console.log(" whiteBlockRef.current an no existe");return}const n=new IntersectionObserver(r=>{r.forEach(s=>{s.isIntersecting?(t("light"),window.dispatchEvent(new Event("navLight"))):(t("dark"),window.dispatchEvent(new Event("navDark")))})},{threshold:.1,rootMargin:"0px"});return n.observe(e.current),()=>{console.log(" Limpiando observer"),n.disconnect()}},[t]),C.jsxs("main",{className:"automation-page",children:[C.jsx("section",{className:"layout-automation",children:C.jsxs("div",{className:"automation-hero",children:[C.jsxs("h1",{className:"display-lg",children:[C.jsx("span",{className:"line",children:"AUTOMATION "}),C.jsx("br",{}),C.jsx("span",{className:"line",children:"& CONTROLS"})]}),C.jsxs("p",{className:"title-medium subtitle-hero subtitle-hero--desktop",children:[" provide expert guidance to ",C.jsx("br",{}),"design and integrate control systems"]}),C.jsxs("p",{className:"title-small subtitle-hero subtitle-hero--mobile",children:[" provide expert ",C.jsx("br",{}),"guidance to design and ",C.jsx("br",{}),"integrate control systems"]})]})}),C.jsxs("section",{className:"automation-expertiseSection",children:[C.jsxs("div",{className:"automation-expertiseLeft",children:[C.jsxs("p",{className:"title-medium desktop",children:["Devoted to maintaining, innovating,",C.jsx("br",{})," and enhancing industrial control ",C.jsx("br",{}),"systems, we engineer projects across ",C.jsx("br",{})," various industries."]}),C.jsxs("p",{className:"title-medium mobile",children:["Devoted to maintaining, innovating, and enhancing  ",C.jsx("br",{})," industrial control systems,",C.jsx("br",{})," we engineer projects across ",C.jsx("br",{})," various industries."]}),C.jsx(UT,{label:"Book a meeting now"})]}),C.jsxs("div",{className:"automation-expertiseRight",children:[C.jsx("p",{className:"automation-kicker",children:"Key areas of expertise"}),C.jsx(uM,{items:DI,defaultOpen:0,allowCollapse:!0})]})]}),C.jsx(pte,{imgOne:mte,imgTwo:gte,nextLeftItems:[],nextRightItems:[]}),C.jsx("div",{ref:e,children:C.jsxs("section",{className:"whiteTableWrap flex flex-col gap-9",children:[C.jsxs("div",{className:"honeywellElite__inner",children:[C.jsxs("div",{className:"honeywellElite__left",children:[C.jsxs("h2",{className:"honeywellElite__title headline-medium",children:[C.jsx("span",{className:"highlight-violet",children:"HONEYWELL"}),C.jsx("br",{}),"ELITE TEAM",C.jsx("br",{}),"WORLDWIDE"]}),C.jsx("div",{className:"honeywellElite__media",children:C.jsx("img",{className:"honeywellElite__img",src:_te,alt:"Honeywell integrations diagram",loading:"lazy"})})]}),C.jsxs("div",{className:"honeywellElite__right",children:[C.jsx("p",{className:"honeywellElite__lead title-medium",children:"This team ensures that every customer using Honeywell technologies benefits from world-class expertise and global support."}),C.jsxs("div",{className:"honeywellElite__body",children:[C.jsx("p",{children:"At RTS, we support end customers operating with Honeywell technologies by providing integration, configuration, and lifecycle services that ensure safe, reliable, and optimized operations."}),C.jsx("p",{children:"To meet the highest quality standards, we established the Honeywell Elite Team  a specialized group of engineers focused on Honeywell Process Solutions (HPS) and the seamless integration of Honeywell platforms with third-party systems."}),C.jsx("h3",{className:"honeywellElite__subhead",children:"Engineering Services Abroad Department"}),C.jsx("p",{children:"To further extend our reach, we created the Engineering Services Abroad Department, delivering high-performance back-office engineering and implementation support for Honeywell-based operations around the world."}),C.jsx("p",{children:"As a Value Added Reseller (VAR) for Honeywell Process Solutions, RTS is also authorized to offer, distribute, and integrate HPS products and hardware, from controllers and field instruments to advanced automation systems."})]}),C.jsx("div",{className:"honeywellElite__cta",children:C.jsx(UT,{label:"Book a meeting now"})})]})]}),C.jsxs("div",{className:"flex flex-col gap-6 md:gap-5",children:[C.jsx(Fe,{variant:"title-large",className:"md:text-center text-text-on-white-primary",children:"Capabilities with Honeywell technologies"}),C.jsx(J4,{mode:"light",title:"Capabilities with Honeywell technologies",columns:["Service","Focus","Description","Main technologies"],rows:xte})]})]})}),C.jsxs("section",{className:"automation-expertiseSection automation-expertiseSection--cards",children:[C.jsxs("div",{className:"automation-expertiseLeft",children:[C.jsx("h2",{className:"title-body",children:"RTS engineering Workforce"}),C.jsxs("h1",{className:"headline-medium",children:["AUGMENTED ",C.jsx("br",{}),C.jsx("span",{className:"highlight-violet",children:"INDUSTRIAL"})," ",C.jsx("br",{}),"INTELLIGENCE"]}),C.jsxs("p",{className:"body-default",children:["A flexible, cost-effective solution designed to expand your ",C.jsx("br",{}),"operational and technical capabilities without increasing ",C.jsx("br",{}),"permanent headcount."]}),C.jsx(UT,{label:"Book a meeting now"})]}),C.jsx("div",{className:"automation-expertiseRight",children:C.jsx(uM,{items:DI,defaultOpen:0,allowCollapse:!0})}),C.jsxs("div",{className:"engineeringSupport",children:[C.jsx("h2",{className:"engineeringSupport__title title-large",children:"Engineering services with expert support"}),C.jsx("div",{className:"engineeringSupport__grid",children:bte.map(n=>C.jsxs("article",{className:"engineeringCard title-large",children:[C.jsx("img",{className:"engineeringCard__icon",src:n.icon,alt:"","aria-hidden":"true"}),C.jsx("h3",{className:"engineeringCard__title title-small",children:n.title.split(`
`).map((r,s)=>C.jsxs("span",{children:[r,C.jsx("br",{})]},s))}),C.jsx("p",{className:"engineeringCard__body",children:n.body})]},n.title))})]})]}),C.jsx(ep,{variant:"glow",titleClassName:"headline-medium",backgroundImage:vte,actionsDirection:"column",titleDesktop:`WOULD YOU LIKE TO KNOW
MORE ABOUT OUR EXPERIENCE?`,titleMobile:`WOULD YOU LIKE TO KNOW
MORE ABOUT OUR EXPERIENCE?`,buttons:[{label:"Download the full document",href:"/docs/experience.pdf",variant:"outline",download:!0},{label:"Book a meeting now",href:"#book",variant:"primary"}]})]})}var zT={exports:{}},kT={},BT={exports:{}},FT={};var LI;function Mte(){if(LI)return FT;LI=1;var i=Eg();function e(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,r=i.useEffect,s=i.useLayoutEffect,o=i.useDebugValue;function c(g,_){var x=_(),b=n({inst:{value:x,getSnapshot:_}}),T=b[0].inst,E=b[1];return s(function(){T.value=x,T.getSnapshot=_,h(T)&&E({inst:T})},[g,x,_]),r(function(){return h(T)&&E({inst:T}),g(function(){h(T)&&E({inst:T})})},[g]),o(x),x}function h(g){var _=g.getSnapshot;g=g.value;try{var x=_();return!t(g,x)}catch{return!0}}function p(g,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return FT.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:m,FT}var PI;function wte(){return PI||(PI=1,BT.exports=Mte()),BT.exports}var II;function Ete(){if(II)return kT;II=1;var i=Eg(),e=wte();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=i.useRef,o=i.useEffect,c=i.useMemo,h=i.useDebugValue;return kT.useSyncExternalStoreWithSelector=function(p,m,g,_,x){var b=s(null);if(b.current===null){var T={hasValue:!1,value:null};b.current=T}else T=b.current;b=c(function(){function M(z){if(!R){if(R=!0,D=z,z=_(z),x!==void 0&&T.hasValue){var k=T.value;if(x(k,z))return L=k}return L=z}if(k=L,n(D,z))return k;var F=_(z);return x!==void 0&&x(k,F)?(D=z,k):(D=z,L=F)}var R=!1,D,L,I=g===void 0?null:g;return[function(){return M(m())},I===null?void 0:function(){return M(I())}]},[m,g,_,x]);var E=r(p,b[0],b[1]);return o(function(){T.hasValue=!0,T.value=E},[E]),h(E),E},kT}var OI;function Tte(){return OI||(OI=1,zT.exports=Ete()),zT.exports}var Ate=Tte();const Cte=mM(Ate),UI=i=>{let e;const t=new Set,n=(p,m)=>{const g=typeof p=="function"?p(e):p;if(!Object.is(g,e)){const _=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(x=>x(e,_))}},r=()=>e,c={setState:n,getState:r,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=i(n,r,c);return c},Rte=(i=>i?UI(i):UI),{useSyncExternalStoreWithSelector:Nte}=Cte,Dte=i=>i;function Lte(i,e=Dte,t){const n=Nte(i.subscribe,i.getState,i.getInitialState,e,t);return Pl.useDebugValue(n),n}const zI=(i,e)=>{const t=Rte(i),n=(r,s=e)=>Lte(t,r,s);return Object.assign(n,t),n},Pte=((i,e)=>i?zI(i,e):zI);var dC=KI();const Ite=mM(dC);function M3(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=M3(n,e,t);if(r)return r;n=e?null:n.sibling}}function eF(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const w3=eF(j.createContext(null));class tF extends j.Component{render(){return j.createElement(w3.Provider,{value:this._reactInternals},this.props.children)}}function nF(){const i=j.useContext(w3);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=j.useId();return j.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const n=M3(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(n)return n}},[i,e])}const Ote=Symbol.for("react.context"),Ute=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===Ote;function zte(){const i=nF(),[e]=j.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;Ute(n)&&n!==w3&&!e.has(n)&&e.set(n,j.use(eF(n))),t=t.return}return e}function kte(){const i=zte();return j.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>j.createElement(e,null,j.createElement(t.Provider,{...n,value:i.get(t)})),e=>j.createElement(tF,{...e})),[i])}function iF(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const rF=i=>i&&i.isOrthographicCamera,Bte=i=>i&&i.hasOwnProperty("current"),Fte=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),S_=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?j.useLayoutEffect:j.useEffect;function sF(i){const e=j.useRef(i);return S_(()=>{e.current=i},[i]),e}function Vte(){const i=nF(),e=kte();return j.useMemo(()=>({children:t})=>{const r=!!M3(i,!0,s=>s.type===j.StrictMode)?j.StrictMode:j.Fragment;return C.jsx(r,{children:C.jsx(e,{children:t})})},[i,e])}function Hte({set:i}){return S_(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const jte=(i=>(i=class extends j.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function aF(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function Pm(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Yi={obj:i=>i===Object(i)&&!Yi.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Yi.str(i)||Yi.num(i)||Yi.boo(i))return i===e;const s=Yi.obj(i);if(s&&n==="reference")return i===e;const o=Yi.arr(i);if(o&&t==="reference")return i===e;if((o||s)&&i===e)return!0;let c;for(c in i)if(!(c in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(c in r?e:i)if(!Yi.equ(i[c],e[c],{strict:r,objects:"reference"}))return!1}else for(c in r?e:i)if(i[c]!==e[c])return!1;if(Yi.und(c)){if(o&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function Gte(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const oF=["children","key","ref"];function Wte(i){const e={};for(const t in i)oF.includes(t)||(e[t]=i[t]);return e}function fM(i,e,t,n){const r=i;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:Wte(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function n_(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const n=e.split("-");for(const r of n){if(typeof t!="object"||t===null){if(t!==void 0){const s=n.slice(n.indexOf(r)).join("-");return{root:t,key:s,target:void 0}}return{root:i,key:e,target:void 0}}e=r,i=t,t=t[e]}return{root:i,key:e,target:t}}const kI=/-\d+$/;function hM(i,e){if(Yi.str(e.props.attach)){if(kI.test(e.props.attach)){const r=e.props.attach.replace(kI,""),{root:s,key:o}=n_(i.object,r);Array.isArray(s[o])||(s[o]=[])}const{root:t,key:n}=n_(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Yi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function dM(i,e){if(Yi.str(e.props.attach)){const{root:t,key:n}=n_(i.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[n]:t[n]=r}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const pC=[...oF,"args","dispose","attach","object","onUpdate","dispose"],BI=new Map;function Xte(i){let e=BI.get(i.constructor);try{e||(e=new i.constructor,BI.set(i.constructor,e))}catch{}return e}function qte(i,e){const t={};for(const n in e)if(!pC.includes(n)&&!Yi.equ(e[n],i.props[n])){t[n]=e[n];for(const r in e)r.startsWith(`${n}-`)&&(t[r]=e[r])}for(const n in i.props){if(pC.includes(n)||e.hasOwnProperty(n))continue;const{root:r,key:s}=n_(i.object,n);if(r.constructor&&r.constructor.length===0){const o=Xte(r);Yi.und(o)||(t[s]=o[s])}else t[s]=0}return t}const Yte=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Zte=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Vf(i,e){var t;const n=i.__r3f,r=n&&iF(n).getState(),s=n?.eventCount;for(const c in e){let h=e[c];if(pC.includes(c))continue;if(n&&Zte.test(c)){typeof h=="function"?n.handlers[c]=h:delete n.handlers[c],n.eventCount=Object.keys(n.handlers).length;continue}if(h===void 0)continue;let{root:p,key:m,target:g}=n_(i,c);if(g===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${c}". Ensure it is an object before setting "${m}".`);if(g instanceof _g&&h instanceof _g)g.mask=h.mask;else if(g instanceof Mt&&Fte(h))g.set(h);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&h!=null&&h.constructor&&g.constructor===h.constructor)g.copy(h);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(h))typeof g.fromArray=="function"?g.fromArray(h):g.set(...h);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof h=="number")typeof g.setScalar=="function"?g.setScalar(h):g.set(h);else{var o;p[m]=h,r&&!r.linear&&Yte.includes(m)&&(o=p[m])!=null&&o.isTexture&&p[m].format===Us&&p[m].type===el&&(p[m].colorSpace=Ps)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(t=n.object)!=null&&t.isObject3D&&s!==n.eventCount){const c=n.object,h=r.internal.interaction.indexOf(c);h>-1&&r.internal.interaction.splice(h,1),n.eventCount&&c.raycast!==null&&r.internal.interaction.push(c)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&kg(n),i}function kg(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function $te(i,e){i.manual||(rF(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const za=i=>i?.isObject3D;function xS(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function lF(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function Kte(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{lF(t.capturedMap,e,n,r)})}function Qte(i){function e(h){const{internal:p}=i.getState(),m=h.offsetX-p.initialClick[0],g=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=p.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function n(h,p){const m=i.getState(),g=new Set,_=[],x=p?p(m.internal.interaction):m.internal.interaction;for(let M=0;M<x.length;M++){const R=Pm(x[M]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function b(M){const R=Pm(M);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(h,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(M,!0):[]}let T=x.flatMap(b).sort((M,R)=>{const D=Pm(M.object),L=Pm(R.object);return!D||!L?M.distance-R.distance:L.events.priority-D.events.priority||M.distance-R.distance}).filter(M=>{const R=xS(M);return g.has(R)?!1:(g.add(R),!0)});m.events.filter&&(T=m.events.filter(T,m));for(const M of T){let R=M.object;for(;R;){var E;(E=R.__r3f)!=null&&E.eventCount&&_.push({...M,eventObject:R}),R=R.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let M of m.internal.capturedMap.get(h.pointerId).values())g.has(xS(M.intersection))||_.push(M.intersection);return _}function r(h,p,m,g){if(h.length){const _={stopped:!1};for(const x of h){let b=Pm(x.object);if(b||x.object.traverseAncestors(T=>{const E=Pm(T);if(E)return b=E,!1}),b){const{raycaster:T,pointer:E,camera:M,internal:R}=b,D=new Q(E.x,E.y,0).unproject(M),L=O=>{var U,X;return(U=(X=R.capturedMap.get(O))==null?void 0:X.has(x.eventObject))!=null?U:!1},I=O=>{const U={intersection:x,target:p.target};R.capturedMap.has(O)?R.capturedMap.get(O).set(x.eventObject,U):R.capturedMap.set(O,new Map([[x.eventObject,U]])),p.target.setPointerCapture(O)},z=O=>{const U=R.capturedMap.get(O);U&&lF(R.capturedMap,x.eventObject,U,O)};let k={};for(let O in p){let U=p[O];typeof U!="function"&&(k[O]=U)}let F={...x,...k,pointer:E,intersections:h,stopped:_.stopped,delta:m,unprojectedPoint:D,ray:T.ray,camera:M,stopPropagation(){const O="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!O||O.has(x.eventObject))&&(F.stopped=_.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(U=>U.eventObject===x.eventObject))){const U=h.slice(0,h.indexOf(x));s([...U,x])}},target:{hasPointerCapture:L,setPointerCapture:I,releasePointerCapture:z},currentTarget:{hasPointerCapture:L,setPointerCapture:I,releasePointerCapture:z},nativeEvent:p};if(g(F),_.stopped===!0)break}}}return h}function s(h){const{internal:p}=i.getState();for(const m of p.hovered.values())if(!h.length||!h.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const _=m.eventObject.__r3f;if(p.hovered.delete(xS(m)),_!=null&&_.eventCount){const x=_.handlers,b={...m,intersections:h};x.onPointerOut==null||x.onPointerOut(b),x.onPointerLeave==null||x.onPointerLeave(b)}}}function o(h,p){for(let m=0;m<p.length;m++){const g=p[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(h)}}function c(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return p=>{const{internal:m}=i.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),s([]))})}}return function(m){const{onPointerMissed:g,internal:_}=i.getState();_.lastEvent.current=m;const x=h==="onPointerMove",b=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",E=n(m,x?t:void 0),M=b?e(m):0;h==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=E.map(D=>D.eventObject)),b&&!E.length&&M<=2&&(o(m,_.interaction),g&&g(m)),x&&s(E);function R(D){const L=D.eventObject,I=L.__r3f;if(!(I!=null&&I.eventCount))return;const z=I.handlers;if(x){if(z.onPointerOver||z.onPointerEnter||z.onPointerOut||z.onPointerLeave){const k=xS(D),F=_.hovered.get(k);F?F.stopped&&D.stopPropagation():(_.hovered.set(k,D),z.onPointerOver==null||z.onPointerOver(D),z.onPointerEnter==null||z.onPointerEnter(D))}z.onPointerMove==null||z.onPointerMove(D)}else{const k=z[h];k?(!b||_.initialHits.includes(L))&&(o(m,_.interaction.filter(F=>!_.initialHits.includes(F))),k(D)):b&&_.initialHits.includes(L)&&o(m,_.interaction.filter(F=>!_.initialHits.includes(F)))}}r(E,m,M,R)}}return{handlePointer:c}}const FI=i=>!!(i!=null&&i.render),cF=j.createContext(null),Jte=(i,e)=>{const t=Pte((c,h)=>{const p=new Q,m=new Q,g=new Q;function _(M=h().camera,R=m,D=h().size){const{width:L,height:I,top:z,left:k}=D,F=L/I;R.isVector3?g.copy(R):g.set(...R);const O=M.getWorldPosition(p).distanceTo(g);if(rF(M))return{width:L/M.zoom,height:I/M.zoom,top:z,left:k,factor:1,distance:O,aspect:F};{const U=M.fov*Math.PI/180,X=2*Math.tan(U/2)*O,K=X*(L/I);return{width:K,height:X,top:z,left:k,factor:L/K,distance:O,aspect:F}}}let x;const b=M=>c(R=>({performance:{...R.performance,current:M}})),T=new je;return{set:c,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>i(h(),M),advance:(M,R)=>e(M,R,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new kR,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=h();x&&clearTimeout(x),M.performance.current!==M.performance.min&&b(M.performance.min),x=setTimeout(()=>b(h().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:M=>c(R=>({...R,events:{...R.events,...M}})),setSize:(M,R,D=0,L=0)=>{const I=h().camera,z={width:M,height:R,top:D,left:L};c(k=>({size:z,viewport:{...k.viewport,..._(I,m,z)}}))},setDpr:M=>c(R=>{const D=aF(M);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(M="always")=>{const R=h().clock;R.stop(),R.elapsedTime=0,M!=="never"&&(R.start(),R.elapsedTime=0),c(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:j.createRef(),active:!1,frames:0,priority:0,subscribe:(M,R,D)=>{const L=h().internal;return L.priority=L.priority+(R>0?1:0),L.subscribers.push({ref:M,priority:R,store:D}),L.subscribers=L.subscribers.sort((I,z)=>I.priority-z.priority),()=>{const I=h().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(R>0?1:0),I.subscribers=I.subscribers.filter(z=>z.ref!==M))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:c,size:h,viewport:p,gl:m,set:g}=t.getState();if(h.width!==r.width||h.height!==r.height||p.dpr!==s){r=h,s=p.dpr,$te(c,h),p.dpr>0&&m.setPixelRatio(p.dpr);const _=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,_)}c!==o&&(o=c,g(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>i(c)),t};function uF(){const i=j.useContext(cF);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function ene(i=t=>t,e){return uF()(i,e)}function tne(i,e=0){const t=uF(),n=t.getState().internal.subscribe,r=sF(i);return S_(()=>n(r,e,t),[e,n,t]),null}const nne=1,ine=8,rne=32,sne=2;var ane={version:"9.5.0"};function one(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var VI={exports:{}},HI={exports:{}},jI;function lne(){return jI||(jI=1,(function(i){i.exports=function(e){function t(u,f,y,S){return new h0(u,f,y,S)}function n(){}function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){var f=u,y=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(y=f.return),u=f.return;while(u)}return f.tag===3?y:null}function o(u){if(s(u)!==u)throw Error(r(188))}function c(u){var f=u.alternate;if(!f){if(f=s(u),f===null)throw Error(r(188));return f!==u?null:u}for(var y=u,S=f;;){var N=y.return;if(N===null)break;var P=N.alternate;if(P===null){if(S=N.return,S!==null){y=S;continue}break}if(N.child===P.child){for(P=N.child;P;){if(P===y)return o(N),u;if(P===S)return o(N),f;P=P.sibling}throw Error(r(188))}if(y.return!==S.return)y=N,S=P;else{for(var H=!1,ae=N.child;ae;){if(ae===y){H=!0,y=N,S=P;break}if(ae===S){H=!0,S=N,y=P;break}ae=ae.sibling}if(!H){for(ae=P.child;ae;){if(ae===y){H=!0,y=P,S=N;break}if(ae===S){H=!0,S=P,y=N;break}ae=ae.sibling}if(!H)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?u:f}function h(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=h(u),f!==null)return f;u=u.sibling}return null}function p(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(f=p(u),f!==null))return f;u=u.sibling}return null}function m(u){return u===null||typeof u!="object"?null:(u=hl&&u[hl]||u["@@iterator"],typeof u=="function"?u:null)}function g(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Jl?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case Wc:return"Fragment";case qc:return"Profiler";case Xc:return"StrictMode";case Np:return"Suspense";case fl:return"SuspenseList";case Oh:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case Gc:return"Portal";case Sa:return u.displayName||"Context";case Ih:return(u._context.displayName||"Context")+".Consumer";case af:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Dp:return f=u.displayName||null,f!==null?f:g(u.type)||"Memo";case is:f=u._payload,u=u._init;try{return g(u(f))}catch{}}return null}function _(u){return{current:u}}function x(u){0>Qc||(u.current=Gp[Qc],Gp[Qc]=null,Qc--)}function b(u,f){Qc++,Gp[Qc]=u.current,u.current=f}function T(u){return u>>>=0,u===0?32:31-(Wp(u)/Fx|0)|0}function E(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function M(u,f,y){var S=u.pendingLanes;if(S===0)return 0;var N=0,P=u.suspendedLanes,H=u.pingedLanes;u=u.warmLanes;var ae=S&134217727;return ae!==0?(S=ae&~P,S!==0?N=E(S):(H&=ae,H!==0?N=E(H):y||(y=ae&~u,y!==0&&(N=E(y))))):(ae=S&~P,ae!==0?N=E(ae):H!==0?N=E(H):y||(y=S&~u,y!==0&&(N=E(y)))),N===0?0:f!==0&&f!==N&&(f&P)===0&&(P=N&-N,y=f&-f,P>=y||P===32&&(y&4194048)!==0)?f:N}function R(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function D(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var u=df;return df<<=1,(df&62914560)===0&&(df=4194304),u}function I(u){for(var f=[],y=0;31>y;y++)f.push(u);return f}function z(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function k(u,f,y,S,N,P){var H=u.pendingLanes;u.pendingLanes=y,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=y,u.entangledLanes&=y,u.errorRecoveryDisabledLanes&=y,u.shellSuspendCounter=0;var ae=u.entanglements,Ce=u.expirationTimes,We=u.hiddenUpdates;for(y=H&~y;0<y;){var at=31-bs(y),tt=1<<at;ae[at]=0,Ce[at]=-1;var _t=We[at];if(_t!==null)for(We[at]=null,at=0;at<_t.length;at++){var sn=_t[at];sn!==null&&(sn.lane&=-536870913)}y&=~tt}S!==0&&F(u,S,0),P!==0&&N===0&&u.tag!==0&&(u.suspendedLanes|=P&~(H&~f))}function F(u,f,y){u.pendingLanes|=f,u.suspendedLanes&=~f;var S=31-bs(f);u.entangledLanes|=f,u.entanglements[S]=u.entanglements[S]|1073741824|y&261930}function O(u,f){var y=u.entangledLanes|=f;for(u=u.entanglements;y;){var S=31-bs(y),N=1<<S;N&f|u[S]&f&&(u[S]|=f),y&=~N}}function U(u,f){var y=f&-f;return y=(y&42)!==0?1:X(y),(y&(u.suspendedLanes|f))!==0?0:y}function X(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function K(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function ne(u){if(typeof K0=="function"&&jx(u),Ss&&typeof Ss.setStrictMode=="function")try{Ss.setStrictMode(eu,u)}catch{}}function oe(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}function le(u){if(Kp===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Kp=f&&f[1]||"",Po=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kp+u+Po}function q(u,f){if(!u||Gh)return"";Gh=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(sn){var _t=sn}Reflect.construct(u,[],tt)}else{try{tt.call()}catch(sn){_t=sn}u.call(tt.prototype)}}else{try{throw Error()}catch(sn){_t=sn}(tt=u())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(sn){if(sn&&_t&&typeof sn.stack=="string")return[sn.stack,_t.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=S.DetermineComponentFrameRoot(),H=P[0],ae=P[1];if(H&&ae){var Ce=H.split(`
`),We=ae.split(`
`);for(N=S=0;S<Ce.length&&!Ce[S].includes("DetermineComponentFrameRoot");)S++;for(;N<We.length&&!We[N].includes("DetermineComponentFrameRoot");)N++;if(S===Ce.length||N===We.length)for(S=Ce.length-1,N=We.length-1;1<=S&&0<=N&&Ce[S]!==We[N];)N--;for(;1<=S&&0<=N;S--,N--)if(Ce[S]!==We[N]){if(S!==1||N!==1)do if(S--,N--,0>N||Ce[S]!==We[N]){var at=`
`+Ce[S].replace(" at new "," at ");return u.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",u.displayName)),at}while(1<=S&&0<=N);break}}}finally{Gh=!1,Error.prepareStackTrace=y}return(y=u?u.displayName||u.name:"")?le(y):""}function J(u,f){switch(u.tag){case 26:case 27:case 5:return le(u.type);case 16:return le("Lazy");case 13:return u.child!==f&&f!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return q(u.type,!1);case 11:return q(u.type.render,!1);case 1:return q(u.type,!0);case 31:return le("Activity");default:return""}}function ie(u){try{var f="",y=null;do f+=J(u,y),y=u,u=u.return;while(u);return f}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function pe(u,f){if(typeof u=="object"&&u!==null){var y=Q0.get(u);return y!==void 0?y:(f={value:u,source:f,stack:ie(f)},Q0.set(u,f),f)}return{value:u,source:f,stack:ie(f)}}function $(u,f){ml[Io++]=Wh,ml[Io++]=oi,oi=u,Wh=f}function Y(u,f,y){Ea[qs++]=Pr,Ea[qs++]=Za,Ea[qs++]=Ta,Ta=u;var S=Pr;u=Za;var N=32-bs(S)-1;S&=~(1<<N),y+=1;var P=32-bs(f)+N;if(30<P){var H=N-N%5;P=(S&(1<<H)-1).toString(32),S>>=H,N-=H,Pr=1<<32-bs(f)+N|y<<N|S,Za=P+u}else Pr=1<<P|y<<N|S,Za=u}function he(u){u.return!==null&&($(u,1),Y(u,1,0))}function De(u){for(;u===oi;)oi=ml[--Io],ml[Io]=null,Wh=ml[--Io],ml[Io]=null;for(;u===Ta;)Ta=Ea[--qs],Ea[qs]=null,Za=Ea[--qs],Ea[qs]=null,Pr=Ea[--qs],Ea[qs]=null}function Le(u,f){Ea[qs++]=Pr,Ea[qs++]=Za,Ea[qs++]=Ta,Pr=f.id,Za=f.overflow,Ta=u}function Ze(u,f){b(Ir,f),b(gl,u),b(Sr,null),u=nx(f),x(Sr),b(Sr,u)}function me(){x(Sr),x(gl),x(Ir)}function be(u){u.memoizedState!==null&&b(Xh,u);var f=Sr.current,y=cf(f,u.type);f!==y&&(b(gl,u),b(Sr,y))}function Ke(u){gl.current===u&&(x(Sr),x(gl)),Xh.current===u&&(x(Xh),Hi?$c._currentValue=Zc:$c._currentValue2=Zc)}function qe(u){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ie(pe(f,u)),Qp}function pt(u,f){if(!wi)throw Error(r(175));Cx(u.stateNode,u.type,u.memoizedProps,f,u)||qe(u,!0)}function Ut(u){for(dr=u.return;dr;)switch(dr.tag){case 5:case 31:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:dr=dr.return}}function Wt(u){if(!wi||u!==dr)return!1;if(!An)return Ut(u),An=!0,!1;var f=u.tag;if(hr?f!==3&&f!==27&&(f!==5||hf(u.type)&&!rs(u.type,u.memoizedProps))&&Ei&&qe(u):f!==3&&(f!==5||hf(u.type)&&!rs(u.type,u.memoizedProps))&&Ei&&qe(u),Ut(u),f===13){if(!wi)throw Error(r(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Ei=F0(u)}else if(f===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Ei=Nx(u)}else Ei=hr&&f===27?xx(u.type,Ei):dr?_x(u.stateNode):null;return!0}function ee(){wi&&(Ei=dr=null,An=!1)}function Pe(){var u=Oo;return u!==null&&(Es===null?Es=u:Es.push.apply(Es,u),Oo=null),u}function Ie(u){Oo===null?Oo=[u]:Oo.push(u)}function Ne(u,f,y){Hi?(b(Aa,f._currentValue),f._currentValue=y):(b(Aa,f._currentValue2),f._currentValue2=y)}function te(u){var f=Aa.current;Hi?u._currentValue=f:u._currentValue2=f,x(Aa)}function Qe(u,f,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),u===y)break;u=u.return}}function Ge(u,f,y,S){var N=u.child;for(N!==null&&(N.return=u);N!==null;){var P=N.dependencies;if(P!==null){var H=N.child;P=P.firstContext;e:for(;P!==null;){var ae=P;P=N;for(var Ce=0;Ce<f.length;Ce++)if(ae.context===f[Ce]){P.lanes|=y,ae=P.alternate,ae!==null&&(ae.lanes|=y),Qe(P.return,y,u),S||(H=null);break e}P=ae.next}}else if(N.tag===18){if(H=N.return,H===null)throw Error(r(341));H.lanes|=y,P=H.alternate,P!==null&&(P.lanes|=y),Qe(H,y,u),H=null}else H=N.child;if(H!==null)H.return=N;else for(H=N;H!==null;){if(H===u){H=null;break}if(N=H.sibling,N!==null){N.return=H.return,H=N;break}H=H.return}N=H}}function Je(u,f,y,S){u=null;for(var N=f,P=!1;N!==null;){if(!P){if((N.flags&524288)!==0)P=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var H=N.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var ae=N.type;Gi(N.pendingProps.value,H.value)||(u!==null?u.push(ae):u=[ae])}}else if(N===Xh.current){if(H=N.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(u!==null?u.push($c):u=[$c])}N=N.return}u!==null&&Ge(f,u,y,S),f.flags|=262144}function vt(u){for(u=u.firstContext;u!==null;){var f=u.context;if(!Gi(Hi?f._currentValue:f._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function Rt(u){pi=u,$a=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Z(u){return de(pi,u)}function V(u,f){return pi===null&&Rt(u),de(u,f)}function de(u,f){var y=Hi?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:y,next:null},$a===null){if(u===null)throw Error(r(308));$a=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else $a=$a.next=f;return y}function Ee(){return{controller:new Gx,data:new Map,refCount:0}}function Ue(u){u.refCount--,u.refCount===0&&Mr(Rw,function(){u.controller.abort()})}function Te(){}function lt(u){u!==ti&&u.next===null&&(ti===null?qh=ti=u:ti=ti.next=u),Ca=!0,Xr||(Xr=!0,ft())}function Ye(u,f){if(!Jp&&Ca){Jp=!0;do for(var y=!1,S=qh;S!==null;){if(u!==0){var N=S.pendingLanes;if(N===0)var P=0;else{var H=S.suspendedLanes,ae=S.pingedLanes;P=(1<<31-bs(42|u)+1)-1,P&=N&~(H&~ae),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(y=!0,Et(S,P))}else P=Cn,P=M(S,S===gn?P:0,S.cancelPendingCommit!==null||S.timeoutHandle!==xs),(P&3)===0||R(S,P)||(y=!0,Et(S,P));S=S.next}while(y);Jp=!1}}function bt(){ot()}function ot(){Ca=Xr=!1;var u=0;rc!==0&&Yc()&&(u=rc);for(var f=Wr(),y=null,S=qh;S!==null;){var N=S.next,P=Xe(S,f);P===0?(S.next=null,y===null?qh=N:y.next=N,N===null&&(ti=y)):(y=S,(u!==0||(P&3)!==0)&&(Ca=!0)),S=N}rr!==0&&rr!==5||Ye(u),rc!==0&&(rc=0)}function Xe(u,f){for(var y=u.suspendedLanes,S=u.pingedLanes,N=u.expirationTimes,P=u.pendingLanes&-62914561;0<P;){var H=31-bs(P),ae=1<<H,Ce=N[H];Ce===-1?((ae&y)===0||(ae&S)!==0)&&(N[H]=D(ae,f)):Ce<=f&&(u.expiredLanes|=ae),P&=~ae}if(f=gn,y=Cn,y=M(u,u===f?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==xs),S=u.callbackNode,y===0||u===f&&(ii===2||ii===9)||u.cancelPendingCommit!==null)return S!==null&&S!==null&&qp(S),u.callbackNode=null,u.callbackPriority=0;if((y&3)===0||R(u,y)){if(f=y&-y,f===u.callbackPriority)return f;switch(S!==null&&qp(S),K(y)){case 2:case 8:y=Hx;break;case 32:y=jh;break;case 268435456:y=Zp;break;default:y=jh}return S=nt.bind(null,u),y=Hh(y,S),u.callbackPriority=f,u.callbackNode=y,f}return S!==null&&S!==null&&qp(S),u.callbackPriority=2,u.callbackNode=null,2}function nt(u,f){if(rr!==0&&rr!==5)return u.callbackNode=null,u.callbackPriority=0,null;var y=u.callbackNode;if(No()&&u.callbackNode!==y)return null;var S=Cn;return S=M(u,u===gn?S:0,u.cancelPendingCommit!==null||u.timeoutHandle!==xs),S===0?null:(Ya(u,S,f),Xe(u,Wr()),u.callbackNode!=null&&u.callbackNode===y?nt.bind(null,u):null)}function Et(u,f){if(No())return null;Ya(u,f,!0)}function ft(){w0?E0(function(){(wn&6)!==0?Hh(Yp,bt):ot()}):Hh(Yp,bt)}function st(){if(rc===0){var u=vl;u===0&&(u=Xp,Xp<<=1,(Xp&261888)===0&&(Xp=256)),rc=u}return rc}function Xt(u,f){if(pf===null){var y=pf=[];J0=0,vl=st(),pr={status:"pending",value:void 0,then:function(S){y.push(S)}}}return J0++,f.then(re,re),f}function re(){if(--J0===0&&pf!==null){pr!==null&&(pr.status="fulfilled");var u=pf;pf=null,vl=0,pr=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function $e(u,f){var y=[],S={status:"pending",value:null,reason:null,then:function(N){y.push(N)}};return u.then(function(){S.status="fulfilled",S.value=f;for(var N=0;N<y.length;N++)(0,y[N])(f)},function(N){for(S.status="rejected",S.reason=N,N=0;N<y.length;N++)(0,y[N])(void 0)}),S}function et(){var u=sc.current;return u!==null?u:gn.pooledCache}function ct(u,f){f===null?b(sc,sc.current):b(sc,f.pool)}function He(){var u=et();return u===null?null:{parent:Hi?Ti._currentValue:Ti._currentValue2,pool:u}}function ze(u,f){if(Gi(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var y=Object.keys(u),S=Object.keys(f);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var N=y[S];if(!Cw.call(f,N)||!Gi(u[N],f[N]))return!1}return!0}function mt(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Ft(u,f,y){switch(y=u[y],y===void 0?u.push(f):y!==f&&(f.then(Te,Te),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,wt(u),u;default:if(typeof f.status=="string")f.then(Te,Te);else{if(u=gn,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(S){if(f.status==="pending"){var N=f;N.status="fulfilled",N.value=S}},function(S){if(f.status==="pending"){var N=f;N.status="rejected",N.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,wt(u),u}throw as=f,mr}}function cn(u){try{var f=u._init;return f(u._payload)}catch(y){throw y!==null&&typeof y=="object"&&typeof y.then=="function"?(as=y,mr):y}}function ht(){if(as===null)throw Error(r(459));var u=as;return as=null,u}function wt(u){if(u===mr||u===Na)throw Error(r(483))}function Kt(u){var f=tu;return tu+=1,ac===null&&(ac=[]),Ft(ac,u,f)}function ut(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Bt(u,f){throw f.$$typeof===jc?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function It(u){function f(Se,ve){if(u){var Ae=Se.deletions;Ae===null?(Se.deletions=[ve],Se.flags|=16):Ae.push(ve)}}function y(Se,ve){if(!u)return null;for(;ve!==null;)f(Se,ve),ve=ve.sibling;return null}function S(Se){for(var ve=new Map;Se!==null;)Se.key!==null?ve.set(Se.key,Se):ve.set(Se.index,Se),Se=Se.sibling;return ve}function N(Se,ve){return Se=Ws(Se,ve),Se.index=0,Se.sibling=null,Se}function P(Se,ve,Ae){return Se.index=Ae,u?(Ae=Se.alternate,Ae!==null?(Ae=Ae.index,Ae<ve?(Se.flags|=67108866,ve):Ae):(Se.flags|=67108866,ve)):(Se.flags|=1048576,ve)}function H(Se){return u&&Se.alternate===null&&(Se.flags|=67108866),Se}function ae(Se,ve,Ae,rt){return ve===null||ve.tag!==6?(ve=d0(Ae,Se.mode,rt),ve.return=Se,ve):(ve=N(ve,Ae),ve.return=Se,ve)}function Ce(Se,ve,Ae,rt){var Gt=Ae.type;return Gt===Wc?at(Se,ve,Ae.props.children,rt,Ae.key):ve!==null&&(ve.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===is&&cn(Gt)===ve.type)?(ve=N(ve,Ae.props),ut(ve,Ae),ve.return=Se,ve):(ve=ul(Ae.type,Ae.key,Ae.props,null,Se.mode,rt),ut(ve,Ae),ve.return=Se,ve)}function We(Se,ve,Ae,rt){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ae.containerInfo||ve.stateNode.implementation!==Ae.implementation?(ve=m0(Ae,Se.mode,rt),ve.return=Se,ve):(ve=N(ve,Ae.children||[]),ve.return=Se,ve)}function at(Se,ve,Ae,rt,Gt){return ve===null||ve.tag!==7?(ve=ba(Ae,Se.mode,rt,Gt),ve.return=Se,ve):(ve=N(ve,Ae),ve.return=Se,ve)}function tt(Se,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=d0(""+ve,Se.mode,Ae),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Do:return Ae=ul(ve.type,ve.key,ve.props,null,Se.mode,Ae),ut(Ae,ve),Ae.return=Se,Ae;case Gc:return ve=m0(ve,Se.mode,Ae),ve.return=Se,ve;case is:return ve=cn(ve),tt(Se,ve,Ae)}if(ec(ve)||m(ve))return ve=ba(ve,Se.mode,Ae,null),ve.return=Se,ve;if(typeof ve.then=="function")return tt(Se,Kt(ve),Ae);if(ve.$$typeof===Sa)return tt(Se,V(Se,ve),Ae);Bt(Se,ve)}return null}function _t(Se,ve,Ae,rt){var Gt=ve!==null?ve.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Gt!==null?null:ae(Se,ve,""+Ae,rt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Do:return Ae.key===Gt?Ce(Se,ve,Ae,rt):null;case Gc:return Ae.key===Gt?We(Se,ve,Ae,rt):null;case is:return Ae=cn(Ae),_t(Se,ve,Ae,rt)}if(ec(Ae)||m(Ae))return Gt!==null?null:at(Se,ve,Ae,rt,null);if(typeof Ae.then=="function")return _t(Se,ve,Kt(Ae),rt);if(Ae.$$typeof===Sa)return _t(Se,ve,V(Se,Ae),rt);Bt(Se,Ae)}return null}function sn(Se,ve,Ae,rt,Gt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Se=Se.get(Ae)||null,ae(ve,Se,""+rt,Gt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case Do:return Se=Se.get(rt.key===null?Ae:rt.key)||null,Ce(ve,Se,rt,Gt);case Gc:return Se=Se.get(rt.key===null?Ae:rt.key)||null,We(ve,Se,rt,Gt);case is:return rt=cn(rt),sn(Se,ve,Ae,rt,Gt)}if(ec(rt)||m(rt))return Se=Se.get(Ae)||null,at(ve,Se,rt,Gt,null);if(typeof rt.then=="function")return sn(Se,ve,Ae,Kt(rt),Gt);if(rt.$$typeof===Sa)return sn(Se,ve,Ae,V(ve,rt),Gt);Bt(ve,rt)}return null}function qi(Se,ve,Ae,rt){for(var Gt=null,Oi=null,qt=ve,kn=ve=0,wr=null;qt!==null&&kn<Ae.length;kn++){qt.index>kn?(wr=qt,qt=null):wr=qt.sibling;var Gn=_t(Se,qt,Ae[kn],rt);if(Gn===null){qt===null&&(qt=wr);break}u&&qt&&Gn.alternate===null&&f(Se,qt),ve=P(Gn,ve,kn),Oi===null?Gt=Gn:Oi.sibling=Gn,Oi=Gn,qt=wr}if(kn===Ae.length)return y(Se,qt),An&&$(Se,kn),Gt;if(qt===null){for(;kn<Ae.length;kn++)qt=tt(Se,Ae[kn],rt),qt!==null&&(ve=P(qt,ve,kn),Oi===null?Gt=qt:Oi.sibling=qt,Oi=qt);return An&&$(Se,kn),Gt}for(qt=S(qt);kn<Ae.length;kn++)wr=sn(qt,Se,kn,Ae[kn],rt),wr!==null&&(u&&wr.alternate!==null&&qt.delete(wr.key===null?kn:wr.key),ve=P(wr,ve,kn),Oi===null?Gt=wr:Oi.sibling=wr,Oi=wr);return u&&qt.forEach(function(Pa){return f(Se,Pa)}),An&&$(Se,kn),Gt}function Sf(Se,ve,Ae,rt){if(Ae==null)throw Error(r(151));for(var Gt=null,Oi=null,qt=ve,kn=ve=0,wr=null,Gn=Ae.next();qt!==null&&!Gn.done;kn++,Gn=Ae.next()){qt.index>kn?(wr=qt,qt=null):wr=qt.sibling;var Pa=_t(Se,qt,Gn.value,rt);if(Pa===null){qt===null&&(qt=wr);break}u&&qt&&Pa.alternate===null&&f(Se,qt),ve=P(Pa,ve,kn),Oi===null?Gt=Pa:Oi.sibling=Pa,Oi=Pa,qt=wr}if(Gn.done)return y(Se,qt),An&&$(Se,kn),Gt;if(qt===null){for(;!Gn.done;kn++,Gn=Ae.next())Gn=tt(Se,Gn.value,rt),Gn!==null&&(ve=P(Gn,ve,kn),Oi===null?Gt=Gn:Oi.sibling=Gn,Oi=Gn);return An&&$(Se,kn),Gt}for(qt=S(qt);!Gn.done;kn++,Gn=Ae.next())Gn=sn(qt,Se,kn,Gn.value,rt),Gn!==null&&(u&&Gn.alternate!==null&&qt.delete(Gn.key===null?kn:Gn.key),ve=P(Gn,ve,kn),Oi===null?Gt=Gn:Oi.sibling=Gn,Oi=Gn);return u&&qt.forEach(function(Nw){return f(Se,Nw)}),An&&$(Se,kn),Gt}function pc(Se,ve,Ae,rt){if(typeof Ae=="object"&&Ae!==null&&Ae.type===Wc&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Do:e:{for(var Gt=Ae.key;ve!==null;){if(ve.key===Gt){if(Gt=Ae.type,Gt===Wc){if(ve.tag===7){y(Se,ve.sibling),rt=N(ve,Ae.props.children),rt.return=Se,Se=rt;break e}}else if(ve.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===is&&cn(Gt)===ve.type){y(Se,ve.sibling),rt=N(ve,Ae.props),ut(rt,Ae),rt.return=Se,Se=rt;break e}y(Se,ve);break}else f(Se,ve);ve=ve.sibling}Ae.type===Wc?(rt=ba(Ae.props.children,Se.mode,rt,Ae.key),rt.return=Se,Se=rt):(rt=ul(Ae.type,Ae.key,Ae.props,null,Se.mode,rt),ut(rt,Ae),rt.return=Se,Se=rt)}return H(Se);case Gc:e:{for(Gt=Ae.key;ve!==null;){if(ve.key===Gt)if(ve.tag===4&&ve.stateNode.containerInfo===Ae.containerInfo&&ve.stateNode.implementation===Ae.implementation){y(Se,ve.sibling),rt=N(ve,Ae.children||[]),rt.return=Se,Se=rt;break e}else{y(Se,ve);break}else f(Se,ve);ve=ve.sibling}rt=m0(Ae,Se.mode,rt),rt.return=Se,Se=rt}return H(Se);case is:return Ae=cn(Ae),pc(Se,ve,Ae,rt)}if(ec(Ae))return qi(Se,ve,Ae,rt);if(m(Ae)){if(Gt=m(Ae),typeof Gt!="function")throw Error(r(150));return Ae=Gt.call(Ae),Sf(Se,ve,Ae,rt)}if(typeof Ae.then=="function")return pc(Se,ve,Kt(Ae),rt);if(Ae.$$typeof===Sa)return pc(Se,ve,V(Se,Ae),rt);Bt(Se,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,ve!==null&&ve.tag===6?(y(Se,ve.sibling),rt=N(ve,Ae),rt.return=Se,Se=rt):(y(Se,ve),rt=d0(Ae,Se.mode,rt),rt.return=Se,Se=rt),H(Se)):y(Se,ve)}return function(Se,ve,Ae,rt){try{tu=0;var Gt=pc(Se,ve,Ae,rt);return ac=null,Gt}catch(qt){if(qt===mr||qt===Na)throw qt;var Oi=t(29,qt,null,Se.mode);return Oi.lanes=rt,Oi.return=Se,Oi}}}function Vt(){for(var u=zo,f=nu=zo=0;f<u;){var y=Ur[f];Ur[f++]=null;var S=Ur[f];Ur[f++]=null;var N=Ur[f];Ur[f++]=null;var P=Ur[f];if(Ur[f++]=null,S!==null&&N!==null){var H=S.pending;H===null?N.next=N:(N.next=H.next,H.next=N),S.pending=N}P!==0&&Wn(y,N,P)}}function ri(u,f,y,S){Ur[zo++]=u,Ur[zo++]=f,Ur[zo++]=y,Ur[zo++]=S,nu|=S,u.lanes|=S,u=u.alternate,u!==null&&(u.lanes|=S)}function nn(u,f,y,S){return ri(u,f,y,S),Jt(u)}function Fn(u,f){return ri(u,null,null,f),Jt(u)}function Wn(u,f,y){u.lanes|=y;var S=u.alternate;S!==null&&(S.lanes|=y);for(var N=!1,P=u.return;P!==null;)P.childLanes|=y,S=P.alternate,S!==null&&(S.childLanes|=y),P.tag===22&&(u=P.stateNode,u===null||u._visibility&1||(N=!0)),u=P,P=P.return;return u.tag===3?(P=u.stateNode,N&&f!==null&&(N=31-bs(y),u=P.hiddenUpdates,S=u[N],S===null?u[N]=[f]:S.push(f),f.lane=y|536870912),P):null}function Jt(u){if(50<Vn)throw Vn=0,Jh=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}function rn(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bn(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function bi(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function zn(u,f,y){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(wn&2)!==0){var N=S.pending;return N===null?f.next=f:(f.next=N.next,N.next=f),S.pending=f,f=Jt(u),Wn(u,null,y),f}return ri(u,S,f,y),Jt(u)}function Vi(u,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194048)!==0)){var S=f.lanes;S&=u.pendingLanes,y|=S,f.lanes=y,O(u,y)}}function Nr(u,f){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var N=null,P=null;if(y=y.firstBaseUpdate,y!==null){do{var H={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};P===null?N=P=H:P=P.next=H,y=y.next}while(y!==null);P===null?N=P=f:P=P.next=f}else N=P=f;y={baseState:S.baseState,firstBaseUpdate:N,lastBaseUpdate:P,shared:S.shared,callbacks:S.callbacks},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=f}function Jn(){if(tm){var u=pr;if(u!==null)throw u}}function G(u,f,y,S){tm=!1;var N=u.updateQueue;Ys=!1;var P=N.firstBaseUpdate,H=N.lastBaseUpdate,ae=N.shared.pending;if(ae!==null){N.shared.pending=null;var Ce=ae,We=Ce.next;Ce.next=null,H===null?P=We:H.next=We,H=Ce;var at=u.alternate;at!==null&&(at=at.updateQueue,ae=at.lastBaseUpdate,ae!==H&&(ae===null?at.firstBaseUpdate=We:ae.next=We,at.lastBaseUpdate=Ce))}if(P!==null){var tt=N.baseState;H=0,at=We=Ce=null,ae=P;do{var _t=ae.lane&-536870913,sn=_t!==ae.lane;if(sn?(Cn&_t)===_t:(S&_t)===_t){_t!==0&&_t===vl&&(tm=!0),at!==null&&(at=at.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var qi=u,Sf=ae;_t=f;var pc=y;switch(Sf.tag){case 1:if(qi=Sf.payload,typeof qi=="function"){tt=qi.call(pc,tt,_t);break e}tt=qi;break e;case 3:qi.flags=qi.flags&-65537|128;case 0:if(qi=Sf.payload,_t=typeof qi=="function"?qi.call(pc,tt,_t):qi,_t==null)break e;tt=Rp({},tt,_t);break e;case 2:Ys=!0}}_t=ae.callback,_t!==null&&(u.flags|=64,sn&&(u.flags|=8192),sn=N.callbacks,sn===null?N.callbacks=[_t]:sn.push(_t))}else sn={lane:_t,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},at===null?(We=at=sn,Ce=tt):at=at.next=sn,H|=_t;if(ae=ae.next,ae===null){if(ae=N.shared.pending,ae===null)break;sn=ae,ae=sn.next,sn.next=null,N.lastBaseUpdate=sn,N.shared.pending=null}}while(!0);at===null&&(Ce=tt),N.baseState=Ce,N.firstBaseUpdate=We,N.lastBaseUpdate=at,P===null&&(N.shared.lanes=0),_l|=H,u.lanes=H,u.memoizedState=tt}}function ue(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function _e(u,f){var y=u.callbacks;if(y!==null)for(u.callbacks=null,u=0;u<y.length;u++)ue(y[u],f)}function Me(u,f){u=Bo,b(oc,u),b(iu,f),Bo=u|f.baseLanes}function fe(){b(oc,Bo),b(iu,iu.current)}function Oe(){Bo=oc.current,x(iu),x(oc)}function it(u){var f=u.alternate;b(zi,zi.current&1),b(Ms,u),ws===null&&(f===null||iu.current!==null||f.memoizedState!==null)&&(ws=u)}function xt(u){b(zi,zi.current),b(Ms,u),ws===null&&(ws=u)}function dt(u){u.tag===22?(b(zi,zi.current),b(Ms,u),ws===null&&(ws=u)):St()}function St(){b(zi,zi.current),b(Ms,Ms.current)}function yt(u){x(Ms),ws===u&&(ws=null),x(zi)}function Tt(u){for(var f=u;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||nc(y)||zp(y)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function At(){throw Error(r(321))}function un(u,f){if(f===null)return!1;for(var y=0;y<f.length&&y<u.length;y++)if(!Gi(u[y],f[y]))return!1;return!0}function ei(u,f,y,S,N,P){return yl=P,on=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ht.H=u===null||u.memoizedState===null?Li:ko,On=!1,P=y(S,N),On=!1,fn&&(P=Sn(f,y,S,N)),Xn(u),P}function Xn(u){Ht.H=Zs;var f=zt!==null&&zt.next!==null;if(yl=0,en=zt=on=null,mn=!1,Da=0,Ka=null,f)throw Error(r(300));u===null||yi||(u=u.dependencies,u!==null&&vt(u)&&(yi=!0))}function Sn(u,f,y,S){on=u;var N=0;do{if(fn&&(Ka=null),Da=0,fn=!1,25<=N)throw Error(r(301));if(N+=1,en=zt=null,u.updateQueue!=null){var P=u.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}Ht.H=lc,P=f(y,S)}while(fn);return P}function Ct(){var u=Ht.H,f=u.useState()[0];return f=typeof f.then=="function"?dn(f):f,u=u.useState()[0],(zt!==null?zt.memoizedState:null)!==u&&(on.flags|=1024),f}function si(){var u=qr!==0;return qr=0,u}function Nn(u,f,y){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~y}function cr(u){if(mn){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}mn=!1}yl=0,en=zt=on=null,fn=!1,Da=qr=0,Ka=null}function Ci(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?on.memoizedState=en=u:en=en.next=u,en}function Mn(){if(zt===null){var u=on.alternate;u=u!==null?u.memoizedState:null}else u=zt.next;var f=en===null?on.memoizedState:en.next;if(f!==null)en=f,zt=u;else{if(u===null)throw on.alternate===null?Error(r(467)):Error(r(310));zt=u,u={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},en===null?on.memoizedState=en=u:en=en.next=u}return en}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dn(u){var f=Da;return Da+=1,Ka===null&&(Ka=[]),u=Ft(Ka,u,f),f=on,(en===null?f.memoizedState:en.next)===null&&(f=f.alternate,Ht.H=f===null||f.memoizedState===null?Li:ko),u}function ur(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return dn(u);if(u.$$typeof===Sa)return Z(u)}throw Error(r(438,String(u)))}function Dr(u){var f=null,y=on.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var S=on.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(N){return N.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=yo(),on.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(u),S=0;S<u;S++)y[S]=v0;return f.index++,y}function ui(u,f){return typeof f=="function"?f(u):f}function Si(u){var f=Mn();return Fl(f,zt,u)}function Fl(u,f,y){var S=u.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=y;var N=u.baseQueue,P=S.pending;if(P!==null){if(N!==null){var H=N.next;N.next=P.next,P.next=H}f.baseQueue=N=P,S.pending=null}if(P=u.baseState,N===null)u.memoizedState=P;else{f=N.next;var ae=H=null,Ce=null,We=f,at=!1;do{var tt=We.lane&-536870913;if(tt!==We.lane?(Cn&tt)===tt:(yl&tt)===tt){var _t=We.revertLane;if(_t===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),tt===vl&&(at=!0);else if((yl&_t)===_t){We=We.next,_t===vl&&(at=!0);continue}else tt={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ce===null?(ae=Ce=tt,H=P):Ce=Ce.next=tt,on.lanes|=_t,_l|=_t;tt=We.action,On&&y(P,tt),P=We.hasEagerState?We.eagerState:y(P,tt)}else _t={lane:tt,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ce===null?(ae=Ce=_t,H=P):Ce=Ce.next=_t,on.lanes|=tt,_l|=tt;We=We.next}while(We!==null&&We!==f);if(Ce===null?H=P:Ce.next=ae,!Gi(P,u.memoizedState)&&(yi=!0,at&&(y=pr,y!==null)))throw y;u.memoizedState=P,u.baseState=H,u.baseQueue=Ce,S.lastRenderedState=P}return N===null&&(S.lanes=0),[u.memoizedState,S.dispatch]}function ma(u){var f=Mn(),y=f.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var S=y.dispatch,N=y.pending,P=f.memoizedState;if(N!==null){y.pending=null;var H=N=N.next;do P=u(P,H.action),H=H.next;while(H!==N);Gi(P,f.memoizedState)||(yi=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),y.lastRenderedState=P}return[P,S]}function Pc(u,f,y){var S=on,N=Mn(),P=An;if(P){if(y===void 0)throw Error(r(407));y=y()}else y=f();var H=!Gi((zt||N).memoizedState,y);if(H&&(N.memoizedState=y,yi=!0),N=N.queue,Vu(Vg.bind(null,S,N,u),[u]),N.getSnapshot!==f||H||en!==null&&en.memoizedState.tag&1){if(S.flags|=2048,Hs(9,{destroy:void 0},Fg.bind(null,S,N,y,f),null),gn===null)throw Error(r(349));P||(yl&127)!==0||M_(S,f,y)}return y}function M_(u,f,y){u.flags|=16384,u={getSnapshot:f,value:y},f=on.updateQueue,f===null?(f=yo(),on.updateQueue=f,f.stores=[u]):(y=f.stores,y===null?f.stores=[u]:y.push(u))}function Fg(u,f,y,S){f.value=y,f.getSnapshot=S,tp(f)&&w_(u)}function Vg(u,f,y){return y(function(){tp(f)&&w_(u)})}function tp(u){var f=u.getSnapshot;u=u.value;try{var y=f();return!Gi(u,y)}catch{return!0}}function w_(u){var f=Fn(u,2);f!==null&&Ni(f,u,2)}function Hg(u){var f=Ci();if(typeof u=="function"){var y=u;if(u=y(),On){ne(!0);try{y()}finally{ne(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:u},f}function mh(u,f,y,S){return u.baseState=y,Fl(u,zt,typeof S=="function"?S:ui)}function rl(u,f,y,S,N){if(cp(u))throw Error(r(485));if(u=f.action,u!==null){var P={payload:N,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){P.listeners.push(H)}};Ht.T!==null?y(!0):P.isTransition=!1,S(P),y=f.pending,y===null?(P.next=f.pending=P,np(f,P)):(P.next=y.next,f.pending=y.next=P)}}function np(u,f){var y=f.action,S=f.payload,N=u.state;if(f.isTransition){var P=Ht.T,H={};Ht.T=H;try{var ae=y(N,S),Ce=Ht.S;Ce!==null&&Ce(H,ae),ip(u,f,ae)}catch(We){Vl(u,f,We)}finally{P!==null&&H.types!==null&&(P.types=H.types),Ht.T=P}}else try{P=y(N,S),ip(u,f,P)}catch(We){Vl(u,f,We)}}function ip(u,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){Ic(u,f,S)},function(S){return Vl(u,f,S)}):Ic(u,f,y)}function Ic(u,f,y){f.status="fulfilled",f.value=y,jg(f),u.state=y,f=u.pending,f!==null&&(y=f.next,y===f?u.pending=null:(y=y.next,f.next=y,np(u,y)))}function Vl(u,f,y){var S=u.pending;if(u.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=y,jg(f),f=f.next;while(f!==S)}u.action=null}function jg(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function rp(u,f){return f}function Gg(u,f){if(An){var y=gn.formState;if(y!==null){e:{var S=on;if(An){if(Ei){var N=yx(Ei,ss);if(N){Ei=_x(N),S=U0(N);break e}}qe(S)}S=!1}S&&(f=y[0])}}y=Ci(),y.memoizedState=y.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:f},y.queue=S,y=N_.bind(null,on,S),S.dispatch=y,S=Hg(!1);var P=lp.bind(null,on,!1,S.queue);return S=Ci(),N={state:f,dispatch:null,action:u,pending:null},S.queue=N,y=rl.bind(null,on,N,P,y),N.dispatch=y,S.memoizedState=u,[f,y,!1]}function Bu(u){var f=Mn();return _o(f,zt,u)}function _o(u,f,y){if(f=Fl(u,f,rp)[0],u=Si(ui)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var S=dn(f)}catch(H){throw H===mr?Na:H}else S=f;f=Mn();var N=f.queue,P=N.dispatch;return y!==f.memoizedState&&(on.flags|=2048,Hs(9,{destroy:void 0},Wg.bind(null,N,y),null)),[S,P,u]}function Wg(u,f){u.action=f}function Fu(u){var f=Mn(),y=zt;if(y!==null)return _o(f,y,u);Mn(),f=f.memoizedState,y=Mn();var S=y.queue.dispatch;return y.memoizedState=u,[f,S,!1]}function Hs(u,f,y,S){return u={tag:u,create:y,deps:S,inst:f,next:null},f=on.updateQueue,f===null&&(f=yo(),on.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,f.lastEffect=u),u}function sp(){return Mn().memoizedState}function Oc(u,f,y,S){var N=Ci();on.flags|=u,N.memoizedState=Hs(1|f,{destroy:void 0},y,S===void 0?null:S)}function gh(u,f,y,S){var N=Mn();S=S===void 0?null:S;var P=N.memoizedState.inst;zt!==null&&S!==null&&un(S,zt.memoizedState.deps)?N.memoizedState=Hs(f,P,y,S):(on.flags|=u,N.memoizedState=Hs(1|f,P,y,S))}function vh(u,f){Oc(8390656,8,u,f)}function Vu(u,f){gh(2048,8,u,f)}function E_(u){on.flags|=4;var f=on.updateQueue;if(f===null)f=yo(),on.updateQueue=f,f.events=[u];else{var y=f.events;y===null?f.events=[u]:y.push(u)}}function es(u){var f=Mn().memoizedState;return E_({ref:f,nextImpl:u}),function(){if((wn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function Hl(u,f){return gh(4,2,u,f)}function yh(u,f){return gh(4,4,u,f)}function Hu(u,f){if(typeof f=="function"){u=u();var y=f(u);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function T_(u,f,y){y=y!=null?y.concat([u]):null,gh(4,4,Hu.bind(null,f,u),y)}function _h(){}function ap(u,f){var y=Mn();f=f===void 0?null:f;var S=y.memoizedState;return f!==null&&un(f,S[1])?S[0]:(y.memoizedState=[u,f],u)}function ju(u,f){var y=Mn();f=f===void 0?null:f;var S=y.memoizedState;if(f!==null&&un(f,S[1]))return S[0];if(S=u(),On){ne(!0);try{u()}finally{ne(!1)}}return y.memoizedState=[S,f],S}function Gu(u,f,y){return y===void 0||(yl&1073741824)!==0&&(Cn&261930)===0?u.memoizedState=f:(u.memoizedState=y,u=ol(),on.lanes|=u,_l|=u,y)}function Xg(u,f,y,S){return Gi(y,f)?y:iu.current!==null?(u=Gu(u,y,S),Gi(u,f)||(yi=!0),u):(yl&42)===0||(yl&1073741824)!==0&&(Cn&261930)===0?(yi=!0,u.memoizedState=y):(u=ol(),on.lanes|=u,_l|=u,f)}function A_(u,f,y,S,N){var P=Ma();Tn(P!==0&&8>P?P:8);var H=Ht.T,ae={};Ht.T=ae,lp(u,!1,f,y);try{var Ce=N(),We=Ht.S;if(We!==null&&We(ae,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var at=$e(Ce,S);xh(u,f,at,Mi(u))}else xh(u,f,S,Mi(u))}catch(tt){xh(u,f,{then:function(){},status:"rejected",reason:tt},Mi())}finally{Tn(P),H!==null&&ae.types!==null&&(H.types=ae.types),Ht.T=H}}function C_(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:Zc,baseState:Zc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:Zc},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:y},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function qg(){return Z($c)}function op(){return Mn().memoizedState}function R_(){return Mn().memoizedState}function yw(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var y=Mi();u=bi(y);var S=zn(f,u,y);S!==null&&(Ni(S,f,y),Vi(S,f,y)),f={cache:Ee()},u.payload=f;return}f=f.return}}function _w(u,f,y){var S=Mi();y={lane:S,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},cp(u)?D_(f,y):(y=nn(u,f,y,S),y!==null&&(Ni(y,u,S),L_(y,f,S)))}function N_(u,f,y){var S=Mi();xh(u,f,y,S)}function xh(u,f,y,S){var N={lane:S,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null};if(cp(u))D_(f,N);else{var P=u.alternate;if(u.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var H=f.lastRenderedState,ae=P(H,y);if(N.hasEagerState=!0,N.eagerState=ae,Gi(ae,H))return ri(u,f,N,0),gn===null&&Vt(),!1}catch{}if(y=nn(u,f,N,S),y!==null)return Ni(y,u,S),L_(y,f,S),!0}return!1}function lp(u,f,y,S){if(S={lane:2,revertLane:st(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},cp(u)){if(f)throw Error(r(479))}else f=nn(u,y,S,2),f!==null&&Ni(f,u,2)}function cp(u){var f=u.alternate;return u===on||f!==null&&f===on}function D_(u,f){fn=mn=!0;var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}function L_(u,f,y){if((y&4194048)!==0){var S=f.lanes;S&=u.pendingLanes,y|=S,f.lanes=y,O(u,y)}}function Yg(u,f,y,S){f=u.memoizedState,y=y(S,f),y=y==null?f:Rp({},f,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}function up(u,f,y,S,N,P,H){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,P,H):f.prototype&&f.prototype.isPureReactComponent?!ze(y,S)||!ze(N,P):!0}function P_(u,f,y,S){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,S),f.state!==u&&Yh.enqueueReplaceState(f,f.state,null)}function Uc(u,f){var y=f;if("ref"in f){y={};for(var S in f)S!=="ref"&&(y[S]=f[S])}if(u=u.defaultProps){y===f&&(y=Rp({},y));for(var N in u)y[N]===void 0&&(y[N]=u[N])}return y}function fp(u,f){try{var y=u.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function Zg(u,f,y){try{var S=u.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function $g(u,f,y){return y=bi(y),y.tag=3,y.payload={element:null},y.callback=function(){fp(u,f)},y}function I_(u){return u=bi(u),u.tag=3,u}function O_(u,f,y,S){var N=y.type.getDerivedStateFromError;if(typeof N=="function"){var P=S.value;u.payload=function(){return N(P)},u.callback=function(){Zg(f,y,S)}}var H=y.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(u.callback=function(){Zg(f,y,S),typeof N!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var ae=S.stack;this.componentDidCatch(S.value,{componentStack:ae!==null?ae:""})})}function xw(u,f,y,S,N){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=y.alternate,f!==null&&Je(f,y,N,!0),y=Ms.current,y!==null){switch(y.tag){case 31:case 13:return ws===null?tf():y.alternate===null&&Ii===0&&(Ii=3),y.flags&=-257,y.flags|=65536,y.lanes=N,S===Uo?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([S]):f.add(S),sf(u,S,N)),!1;case 22:return y.flags|=65536,S===Uo?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([S]):y.add(S)),sf(u,S,N)),!1}throw Error(r(435,y.tag))}return sf(u,S,N),tf(),!1}if(An)return f=Ms.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=N,S!==Qp&&(u=Error(r(422),{cause:S}),Ie(pe(u,y)))):(S!==Qp&&(f=Error(r(423),{cause:S}),Ie(pe(f,y))),u=u.current.alternate,u.flags|=65536,N&=-N,u.lanes|=N,S=pe(S,y),N=$g(u.stateNode,S,N),Nr(u,N),Ii!==4&&(Ii=2)),!1;var P=Error(r(520),{cause:S});if(P=pe(P,y),$h===null?$h=[P]:$h.push(P),Ii!==4&&(Ii=2),f===null)return!0;S=pe(S,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,u=N&-N,y.lanes|=u,u=$g(y.stateNode,S,u),Nr(y,u),!1;case 1:if(f=y.type,P=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(xl===null||!xl.has(P))))return y.flags|=65536,N&=-N,y.lanes|=N,N=I_(N),O_(N,u,y,S),Nr(y,N),!1}y=y.return}while(y!==null);return!1}function Lr(u,f,y,S){f.child=u===null?ev(f,null,y,S):Or(f,u.child,y,S)}function U_(u,f,y,S,N){y=y.render;var P=f.ref;if("ref"in S){var H={};for(var ae in S)ae!=="ref"&&(H[ae]=S[ae])}else H=S;return Rt(f),S=ei(u,f,y,H,P,N),ae=si(),u!==null&&!yi?(Nn(u,f,N),xo(u,f,N)):(An&&ae&&he(f),f.flags|=1,Lr(u,f,S,N),f.child)}function z_(u,f,y,S,N){if(u===null){var P=y.type;return typeof P=="function"&&!Vc(P)&&P.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=P,k_(u,f,P,S,N)):(u=ul(y.type,null,S,f,f.mode,N),u.ref=f.ref,u.return=f,f.child=u)}if(P=u.child,!Sh(u,N)){var H=P.memoizedProps;if(y=y.compare,y=y!==null?y:ze,y(H,S)&&u.ref===f.ref)return xo(u,f,N)}return f.flags|=1,u=Ws(P,S),u.ref=f.ref,u.return=f,f.child=u}function k_(u,f,y,S,N){if(u!==null){var P=u.memoizedProps;if(ze(P,S)&&u.ref===f.ref)if(yi=!1,f.pendingProps=S=P,Sh(u,N))(u.flags&131072)!==0&&(yi=!0);else return f.lanes=u.lanes,xo(u,f,N)}return dp(u,f,y,S,N)}function B_(u,f,y,S){var N=S.children,P=u!==null?u.memoizedState:null;if(u===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((f.flags&128)!==0){if(P=P!==null?P.baseLanes|y:y,u!==null){for(S=f.child=u.child,N=0;S!==null;)N=N|S.lanes|S.childLanes,S=S.sibling;S=N&~P}else S=0,f.child=null;return Wu(u,f,P,y,S)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&ct(f,P!==null?P.cachePool:null),P!==null?Me(f,P):fe(),dt(f);else return S=f.lanes=536870912,Wu(u,f,P!==null?P.baseLanes|y:y,y,S)}else P!==null?(ct(f,P.cachePool),Me(f,P),St(),f.memoizedState=null):(u!==null&&ct(f,null),fe(),St());return Lr(u,f,N,y),f.child}function zc(u,f){return u!==null&&u.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function Wu(u,f,y,S,N){var P=et();return P=P===null?null:{parent:Hi?Ti._currentValue:Ti._currentValue2,pool:P},f.memoizedState={baseLanes:y,cachePool:P},u!==null&&ct(f,null),fe(),dt(f),u!==null&&Je(u,f,S,!0),f.childLanes=N,null}function hp(u,f){return f=jl({mode:f.mode,children:f.children},u.mode),f.ref=u.ref,u.child=f,f.return=u,f}function Kg(u,f,y){return Or(f,u.child,null,y),u=hp(f,f.pendingProps),u.flags|=2,yt(f),f.memoizedState=null,u}function F_(u,f,y){var S=f.pendingProps,N=(f.flags&128)!==0;if(f.flags&=-129,u===null){if(An){if(S.mode==="hidden")return u=hp(f,S),f.lanes=536870912,zc(null,u);if(xt(f),(u=Ei)?(u=k0(u,ss),u!==null&&(f.memoizedState={dehydrated:u,treeContext:Ta!==null?{id:Pr,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},y=p0(u),y.return=f,f.child=y,dr=f,Ei=null)):u=null,u===null)throw qe(f);return f.lanes=536870912,null}return hp(f,S)}var P=u.memoizedState;if(P!==null){var H=P.dehydrated;if(xt(f),N)if(f.flags&256)f.flags&=-257,f=Kg(u,f,y);else if(f.memoizedState!==null)f.child=u.child,f.flags|=128,f=null;else throw Error(r(558));else if(yi||Je(u,f,y,!1),N=(y&u.childLanes)!==0,yi||N){if(S=gn,S!==null&&(H=U(S,y),H!==0&&H!==P.retryLane))throw P.retryLane=H,Fn(u,H),Ni(S,u,H),os;tf(),f=Kg(u,f,y)}else u=P.treeContext,wi&&(Ei=Mx(H),dr=f,An=!0,Oo=null,ss=!1,u!==null&&Le(f,u)),f=hp(f,S),f.flags|=4096;return f}return u=Ws(u.child,{mode:S.mode,children:S.children}),u.ref=f.ref,f.child=u,u.return=f,u}function bh(u,f){var y=f.ref;if(y===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(u===null||u.ref!==y)&&(f.flags|=4194816)}}function dp(u,f,y,S,N){return Rt(f),y=ei(u,f,y,S,void 0,N),S=si(),u!==null&&!yi?(Nn(u,f,N),xo(u,f,N)):(An&&S&&he(f),f.flags|=1,Lr(u,f,y,N),f.child)}function Qg(u,f,y,S,N,P){return Rt(f),f.updateQueue=null,y=Sn(f,S,y,N),Xn(u),S=si(),u!==null&&!yi?(Nn(u,f,P),xo(u,f,P)):(An&&S&&he(f),f.flags|=1,Lr(u,f,y,P),f.child)}function kc(u,f,y,S,N){if(Rt(f),f.stateNode===null){var P=Lo,H=y.contextType;typeof H=="object"&&H!==null&&(P=Z(H)),P=new y(S,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Yh,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=S,P.state=f.memoizedState,P.refs={},rn(f),H=y.contextType,P.context=typeof H=="object"&&H!==null?Z(H):Lo,P.state=f.memoizedState,H=y.getDerivedStateFromProps,typeof H=="function"&&(Yg(f,y,H,S),P.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(H=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),H!==P.state&&Yh.enqueueReplaceState(P,P.state,null),G(f,S,P,N),Jn(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(u===null){P=f.stateNode;var ae=f.memoizedProps,Ce=Uc(y,ae);P.props=Ce;var We=P.context,at=y.contextType;H=Lo,typeof at=="object"&&at!==null&&(H=Z(at));var tt=y.getDerivedStateFromProps;at=typeof tt=="function"||typeof P.getSnapshotBeforeUpdate=="function",ae=f.pendingProps!==ae,at||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ae||We!==H)&&P_(f,P,S,H),Ys=!1;var _t=f.memoizedState;P.state=_t,G(f,S,P,N),Jn(),We=f.memoizedState,ae||_t!==We||Ys?(typeof tt=="function"&&(Yg(f,y,tt,S),We=f.memoizedState),(Ce=Ys||up(f,y,Ce,S,_t,We,H))?(at||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=We),P.props=S,P.state=We,P.context=H,S=Ce):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{P=f.stateNode,bn(u,f),H=f.memoizedProps,at=Uc(y,H),P.props=at,tt=f.pendingProps,_t=P.context,We=y.contextType,Ce=Lo,typeof We=="object"&&We!==null&&(Ce=Z(We)),ae=y.getDerivedStateFromProps,(We=typeof ae=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(H!==tt||_t!==Ce)&&P_(f,P,S,Ce),Ys=!1,_t=f.memoizedState,P.state=_t,G(f,S,P,N),Jn();var sn=f.memoizedState;H!==tt||_t!==sn||Ys||u!==null&&u.dependencies!==null&&vt(u.dependencies)?(typeof ae=="function"&&(Yg(f,y,ae,S),sn=f.memoizedState),(at=Ys||up(f,y,at,S,_t,sn,Ce)||u!==null&&u.dependencies!==null&&vt(u.dependencies))?(We||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(S,sn,Ce),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(S,sn,Ce)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||H===u.memoizedProps&&_t===u.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===u.memoizedProps&&_t===u.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=sn),P.props=S,P.state=sn,P.context=Ce,S=at):(typeof P.componentDidUpdate!="function"||H===u.memoizedProps&&_t===u.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===u.memoizedProps&&_t===u.memoizedState||(f.flags|=1024),S=!1)}return P=S,bh(u,f),S=(f.flags&128)!==0,P||S?(P=f.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,u!==null&&S?(f.child=Or(f,u.child,null,N),f.child=Or(f,null,y,N)):Lr(u,f,y,N),f.memoizedState=P.state,u=f.child):u=xo(u,f,N),u}function V_(u,f,y,S){return ee(),f.flags|=256,Lr(u,f,y,S),f.child}function Jg(u){return{baseLanes:u,cachePool:He()}}function e0(u,f,y){return u=u!==null?u.childLanes&~y:0,f&&(u|=ls),u}function t0(u,f,y){var S=f.pendingProps,N=!1,P=(f.flags&128)!==0,H;if((H=P)||(H=u!==null&&u.memoizedState===null?!1:(zi.current&2)!==0),H&&(N=!0,f.flags&=-129),H=(f.flags&32)!==0,f.flags&=-33,u===null){if(An){if(N?it(f):St(),(u=Ei)?(u=Ax(u,ss),u!==null&&(f.memoizedState={dehydrated:u,treeContext:Ta!==null?{id:Pr,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},y=p0(u),y.return=f,f.child=y,dr=f,Ei=null)):u=null,u===null)throw qe(f);return zp(u)?f.lanes=32:f.lanes=536870912,null}var ae=S.children;return S=S.fallback,N?(St(),N=f.mode,ae=jl({mode:"hidden",children:ae},N),S=ba(S,N,y,null),ae.return=f,S.return=f,ae.sibling=S,f.child=ae,S=f.child,S.memoizedState=Jg(y),S.childLanes=e0(u,H,y),f.memoizedState=ru,zc(null,S)):(it(f),pp(f,ae))}var Ce=u.memoizedState;if(Ce!==null&&(ae=Ce.dehydrated,ae!==null)){if(P)f.flags&256?(it(f),f.flags&=-257,f=Bc(u,f,y)):f.memoizedState!==null?(St(),f.child=u.child,f.flags|=128,f=null):(St(),ae=S.fallback,N=f.mode,S=jl({mode:"visible",children:S.children},N),ae=ba(ae,N,y,null),ae.flags|=2,S.return=f,ae.return=f,S.sibling=ae,f.child=S,Or(f,u.child,null,y),S=f.child,S.memoizedState=Jg(y),S.childLanes=e0(u,H,y),f.memoizedState=ru,f=zc(null,S));else if(it(f),zp(ae))H=kp(ae).digest,S=Error(r(419)),S.stack="",S.digest=H,Ie({value:S,source:null,stack:null}),f=Bc(u,f,y);else if(yi||Je(u,f,y,!1),H=(y&u.childLanes)!==0,yi||H){if(H=gn,H!==null&&(S=U(H,y),S!==0&&S!==Ce.retryLane))throw Ce.retryLane=S,Fn(u,S),Ni(H,u,S),os;nc(ae)||tf(),f=Bc(u,f,y)}else nc(ae)?(f.flags|=192,f.child=u.child,f=null):(u=Ce.treeContext,wi&&(Ei=wx(ae),dr=f,An=!0,Oo=null,ss=!1,u!==null&&Le(f,u)),f=pp(f,S.children),f.flags|=4096);return f}return N?(St(),ae=S.fallback,N=f.mode,Ce=u.child,P=Ce.sibling,S=Ws(Ce,{mode:"hidden",children:S.children}),S.subtreeFlags=Ce.subtreeFlags&65011712,P!==null?ae=Ws(P,ae):(ae=ba(ae,N,y,null),ae.flags|=2),ae.return=f,S.return=f,S.sibling=ae,f.child=S,zc(null,S),S=f.child,ae=u.child.memoizedState,ae===null?ae=Jg(y):(N=ae.cachePool,N!==null?(Ce=Hi?Ti._currentValue:Ti._currentValue2,N=N.parent!==Ce?{parent:Ce,pool:Ce}:N):N=He(),ae={baseLanes:ae.baseLanes|y,cachePool:N}),S.memoizedState=ae,S.childLanes=e0(u,H,y),f.memoizedState=ru,zc(u.child,S)):(it(f),y=u.child,u=y.sibling,y=Ws(y,{mode:"visible",children:S.children}),y.return=f,y.sibling=null,u!==null&&(H=f.deletions,H===null?(f.deletions=[u],f.flags|=16):H.push(u)),f.child=y,f.memoizedState=null,y)}function pp(u,f){return f=jl({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function jl(u,f){return u=t(22,u,null,f),u.lanes=0,u}function Bc(u,f,y){return Or(f,u.child,null,y),u=pp(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function H_(u,f,y){u.lanes|=f;var S=u.alternate;S!==null&&(S.lanes|=f),Qe(u.return,f,y)}function Xu(u,f,y,S,N,P){var H=u.memoizedState;H===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:N,treeForkCount:P}:(H.isBackwards=f,H.rendering=null,H.renderingStartTime=0,H.last=S,H.tail=y,H.tailMode=N,H.treeForkCount=P)}function n0(u,f,y){var S=f.pendingProps,N=S.revealOrder,P=S.tail;S=S.children;var H=zi.current,ae=(H&2)!==0;if(ae?(H=H&1|2,f.flags|=128):H&=1,b(zi,H),Lr(u,f,S,y),S=An?Wh:0,!ae&&u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&H_(u,y,f);else if(u.tag===19)H_(u,y,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(N){case"forwards":for(y=f.child,N=null;y!==null;)u=y.alternate,u!==null&&Tt(u)===null&&(N=y),y=y.sibling;y=N,y===null?(N=f.child,f.child=null):(N=y.sibling,y.sibling=null),Xu(f,!1,N,y,P,S);break;case"backwards":case"unstable_legacy-backwards":for(y=null,N=f.child,f.child=null;N!==null;){if(u=N.alternate,u!==null&&Tt(u)===null){f.child=N;break}u=N.sibling,N.sibling=y,y=N,N=u}Xu(f,!0,y,null,P,S);break;case"together":Xu(f,!1,null,null,void 0,S);break;default:f.memoizedState=null}return f.child}function xo(u,f,y){if(u!==null&&(f.dependencies=u.dependencies),_l|=f.lanes,(y&f.childLanes)===0)if(u!==null){if(Je(u,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,y=Ws(u,u.pendingProps),f.child=y,y.return=f;u.sibling!==null;)u=u.sibling,y=y.sibling=Ws(u,u.pendingProps),y.return=f;y.sibling=null}return f.child}function Sh(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&vt(u)))}function i0(u,f,y){switch(f.tag){case 3:Ze(f,f.stateNode.containerInfo),Ne(f,Ti,u.memoizedState.cache),ee();break;case 27:case 5:be(f);break;case 4:Ze(f,f.stateNode.containerInfo);break;case 10:Ne(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,xt(f),null;break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(it(f),f.flags|=128,null):(y&f.child.childLanes)!==0?t0(u,f,y):(it(f),u=xo(u,f,y),u!==null?u.sibling:null);it(f);break;case 19:var N=(u.flags&128)!==0;if(S=(y&f.childLanes)!==0,S||(Je(u,f,y,!1),S=(y&f.childLanes)!==0),N){if(S)return n0(u,f,y);f.flags|=128}if(N=f.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),b(zi,zi.current),S)break;return null;case 22:return f.lanes=0,B_(u,f,y,f.pendingProps);case 24:Ne(f,Ti,u.memoizedState.cache)}return xo(u,f,y)}function r0(u,f,y){if(u!==null)if(u.memoizedProps!==f.pendingProps)yi=!0;else{if(!Sh(u,y)&&(f.flags&128)===0)return yi=!1,i0(u,f,y);yi=(u.flags&131072)!==0}else yi=!1,An&&(f.flags&1048576)!==0&&Y(f,Wh,f.index);switch(f.lanes=0,f.tag){case 16:e:{var S=f.pendingProps;if(u=cn(f.elementType),f.type=u,typeof u=="function")Vc(u)?(S=Uc(u,S),f.tag=1,f=kc(null,f,u,S,y)):(f.tag=0,f=dp(null,f,u,S,y));else{if(u!=null){var N=u.$$typeof;if(N===af){f.tag=11,f=U_(null,f,u,S,y);break e}else if(N===Dp){f.tag=14,f=z_(null,f,u,S,y);break e}}throw f=g(u)||u,Error(r(306,f,""))}}return f;case 0:return dp(u,f,f.type,f.pendingProps,y);case 1:return S=f.type,N=Uc(S,f.pendingProps),kc(u,f,S,N,y);case 3:e:{if(Ze(f,f.stateNode.containerInfo),u===null)throw Error(r(387));var P=f.pendingProps;N=f.memoizedState,S=N.element,bn(u,f),G(f,P,null,y);var H=f.memoizedState;if(P=H.cache,Ne(f,Ti,P),P!==N.cache&&Ge(f,[Ti],y,!0),Jn(),P=H.element,wi&&N.isDehydrated)if(N={element:P,isDehydrated:!1,cache:H.cache},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){f=V_(u,f,P,y);break e}else if(P!==S){S=pe(Error(r(424)),f),Ie(S),f=V_(u,f,P,y);break e}else for(wi&&(Ei=Sx(f.stateNode.containerInfo),dr=f,An=!0,Oo=null,ss=!0),y=ev(f,null,P,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(ee(),P===S){f=xo(u,f,y);break e}Lr(u,f,P,y)}f=f.child}return f;case 26:if(wa)return bh(u,f),u===null?(y=j0(f.type,null,f.pendingProps,null))?f.memoizedState=y:An||(f.stateNode=Hp(f.type,f.pendingProps,Ir.current,f)):f.memoizedState=j0(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:if(hr)return be(f),u===null&&hr&&An&&(S=f.stateNode=jp(f.type,f.pendingProps,Ir.current,Sr.current,!1),dr=f,ss=!0,Ei=z0(f.type,S,Ei)),Lr(u,f,f.pendingProps.children,y),bh(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&An&&(Ux(f.type,f.pendingProps,Sr.current),(N=S=Ei)&&(S=Ex(S,f.type,f.pendingProps,ss),S!==null?(f.stateNode=S,dr=f,Ei=bx(S),ss=!1,N=!0):N=!1),N||qe(f)),be(f),N=f.type,P=f.pendingProps,H=u!==null?u.memoizedProps:null,S=P.children,rs(N,P)?S=null:H!==null&&rs(N,H)&&(f.flags|=32),f.memoizedState!==null&&(N=ei(u,f,Ct,null,null,y),Hi?$c._currentValue=N:$c._currentValue2=N),bh(u,f),Lr(u,f,S,y),f.child;case 6:return u===null&&An&&(H0(f.pendingProps,Sr.current),(u=y=Ei)&&(y=Tx(y,f.pendingProps,ss),y!==null?(f.stateNode=y,dr=f,Ei=null,u=!0):u=!1),u||qe(f)),null;case 13:return t0(u,f,y);case 4:return Ze(f,f.stateNode.containerInfo),S=f.pendingProps,u===null?f.child=Or(f,null,S,y):Lr(u,f,S,y),f.child;case 11:return U_(u,f,f.type,f.pendingProps,y);case 7:return Lr(u,f,f.pendingProps,y),f.child;case 8:return Lr(u,f,f.pendingProps.children,y),f.child;case 12:return Lr(u,f,f.pendingProps.children,y),f.child;case 10:return S=f.pendingProps,Ne(f,f.type,S.value),Lr(u,f,S.children,y),f.child;case 9:return N=f.type._context,S=f.pendingProps.children,Rt(f),N=Z(N),S=S(N),f.flags|=1,Lr(u,f,S,y),f.child;case 14:return z_(u,f,f.type,f.pendingProps,y);case 15:return k_(u,f,f.type,f.pendingProps,y);case 19:return n0(u,f,y);case 31:return F_(u,f,y);case 22:return B_(u,f,y,f.pendingProps);case 24:return Rt(f),S=Z(Ti),u===null?(N=et(),N===null&&(N=gn,P=Ee(),N.pooledCache=P,P.refCount++,P!==null&&(N.pooledCacheLanes|=y),N=P),f.memoizedState={parent:S,cache:N},rn(f),Ne(f,Ti,N)):((u.lanes&y)!==0&&(bn(u,f),G(f,null,null,y),Jn()),N=u.memoizedState,P=f.memoizedState,N.parent!==S?(N={parent:S,cache:S},f.memoizedState=N,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=N),Ne(f,Ti,S)):(S=P.cache,Ne(f,Ti,S),S!==N.cache&&Ge(f,[Ti],y,!0))),Lr(u,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function ga(u){u.flags|=4}function Mh(u){Xs&&(u.flags|=8)}function j_(u,f){if(u!==null&&u.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(u=f.child;u!==null;){if((u.flags&8218)!==0||(u.subtreeFlags&8218)!==0)return!0;u=u.sibling}return!1}function s0(u,f,y,S){if(Ln)for(y=f.child;y!==null;){if(y.tag===5||y.tag===6)zh(u,y.stateNode);else if(!(y.tag===4||hr&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(Xs)for(var N=f.child;N!==null;){if(N.tag===5){var P=N.stateNode;y&&S&&(P=vx(P,N.type,N.memoizedProps)),zh(u,P)}else if(N.tag===6)P=N.stateNode,y&&S&&(P=O0(P,N.memoizedProps)),zh(u,P);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)P=N.child,P!==null&&(P.return=N),s0(u,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function G_(u,f,y,S){var N=!1;if(Xs)for(var P=f.child;P!==null;){if(P.tag===5){var H=P.stateNode;y&&S&&(H=vx(H,P.type,P.memoizedProps)),P0(u,H)}else if(P.tag===6)H=P.stateNode,y&&S&&(H=O0(H,P.memoizedProps)),P0(u,H);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)N=P.child,N!==null&&(N.return=P),G_(u,P,!0,!0),N=!0;else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===f)break;for(;P.sibling===null;){if(P.return===null||P.return===f)return N;P=P.return}P.sibling.return=P.return,P=P.sibling}return N}function W_(u,f){if(Xs&&j_(u,f)){u=f.stateNode;var y=u.containerInfo,S=L0();G_(S,f,!1,!1),u.pendingChildren=S,ga(f),gx(y,S)}}function a0(u,f,y,S){if(Ln)u.memoizedProps!==S&&ga(f);else if(Xs){var N=u.stateNode,P=u.memoizedProps;if((u=j_(u,f))||P!==S){var H=Sr.current;P=mx(N,y,P,S,!u,null),P===N?f.stateNode=N:(Mh(f),_s(P,y,S,H)&&ga(f),f.stateNode=P,u&&s0(P,f,!1,!1))}else f.stateNode=N}}function ts(u,f,y,S,N){if((u.mode&32)!==0&&(y===null?kh(f,S):ff(f,y,S))){if(u.flags|=16777216,(N&335544128)===N||b0(f,S))if(Di(u.stateNode,f,S))u.flags|=8192;else if(Dn())u.flags|=8192;else throw as=Uo,em}else u.flags&=-16777217}function qu(u,f){if(q0(f)){if(u.flags|=16777216,!Y0(f))if(Dn())u.flags|=8192;else throw as=Uo,em}else u.flags&=-16777217}function wh(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?L():536870912,u.lanes|=f,xf|=f)}function Yu(u,f){if(!An)switch(u.tailMode){case"hidden":f=u.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function hi(u){var f=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(f)for(var N=u.child;N!==null;)y|=N.lanes|N.childLanes,S|=N.subtreeFlags&65011712,S|=N.flags&65011712,N.return=u,N=N.sibling;else for(N=u.child;N!==null;)y|=N.lanes|N.childLanes,S|=N.subtreeFlags,S|=N.flags,N.return=u,N=N.sibling;return u.subtreeFlags|=S,u.childLanes=y,f}function X_(u,f,y){var S=f.pendingProps;switch(De(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(f),null;case 1:return hi(f),null;case 3:return y=f.stateNode,S=null,u!==null&&(S=u.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),te(Ti),me(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(Wt(f)?ga(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Pe())),W_(u,f),hi(f),null;case 26:if(wa){var N=f.type,P=f.memoizedState;return u===null?(ga(f),P!==null?(hi(f),qu(f,P)):(hi(f),ts(f,N,null,S,y))):P?P!==u.memoizedState?(ga(f),hi(f),qu(f,P)):(hi(f),f.flags&=-16777217):(P=u.memoizedProps,Ln?P!==S&&ga(f):a0(u,f,N,S),hi(f),ts(f,N,P,S,y)),null}case 27:if(hr){if(Ke(f),y=Ir.current,N=f.type,u!==null&&f.stateNode!=null)Ln?u.memoizedProps!==S&&ga(f):a0(u,f,N,S);else{if(!S){if(f.stateNode===null)throw Error(r(166));return hi(f),null}u=Sr.current,Wt(f)?pt(f,u):(u=jp(N,S,y,u,!0),f.stateNode=u,ga(f))}return hi(f),null}case 5:if(Ke(f),N=f.type,u!==null&&f.stateNode!=null)a0(u,f,N,S);else{if(!S){if(f.stateNode===null)throw Error(r(166));return hi(f),null}if(P=Sr.current,Wt(f))pt(f,P),Px(f.stateNode,N,S,P)&&(f.flags|=64);else{var H=_0(N,S,Ir.current,P,f);Mh(f),s0(H,f,!1,!1),f.stateNode=H,_s(H,N,S,P)&&ga(f)}}return hi(f),ts(f,f.type,u===null?null:u.memoizedProps,f.pendingProps,y),null;case 6:if(u&&f.stateNode!=null)y=u.memoizedProps,Ln?y!==S&&ga(f):Xs&&(y!==S?(u=Ir.current,y=Sr.current,Mh(f),f.stateNode=dl(S,u,y,f)):f.stateNode=u.stateNode);else{if(typeof S!="string"&&f.stateNode===null)throw Error(r(166));if(u=Ir.current,y=Sr.current,Wt(f)){if(!wi)throw Error(r(176));if(u=f.stateNode,y=f.memoizedProps,S=null,N=dr,N!==null)switch(N.tag){case 27:case 5:S=N.memoizedProps}Ew(u,y,f,S)||qe(f,!0)}else Mh(f),f.stateNode=dl(S,u,y,f)}return hi(f),null;case 31:if(y=f.memoizedState,u===null||u.memoizedState!==null){if(S=Wt(f),y!==null){if(u===null){if(!S)throw Error(r(318));if(!wi)throw Error(r(556));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));B0(u,f)}else ee(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;hi(f),u=!1}else y=Pe(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=y),u=!0;if(!u)return f.flags&256?(yt(f),f):(yt(f),null);if((f.flags&128)!==0)throw Error(r(558))}return hi(f),null;case 13:if(S=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(N=Wt(f),S!==null&&S.dehydrated!==null){if(u===null){if(!N)throw Error(r(318));if(!wi)throw Error(r(344));if(N=f.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));Rx(N,f)}else ee(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;hi(f),N=!1}else N=Pe(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=N),N=!0;if(!N)return f.flags&256?(yt(f),f):(yt(f),null)}return yt(f),(f.flags&128)!==0?(f.lanes=y,f):(y=S!==null,u=u!==null&&u.memoizedState!==null,y&&(S=f.child,N=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(N=S.alternate.memoizedState.cachePool.pool),P=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(P=S.memoizedState.cachePool.pool),P!==N&&(S.flags|=2048)),y!==u&&y&&(f.child.flags|=8192),wh(f,f.updateQueue),hi(f),null);case 4:return me(),W_(u,f),u===null&&ai(f.stateNode.containerInfo),hi(f),null;case 10:return te(f.type),hi(f),null;case 19:if(x(zi),S=f.memoizedState,S===null)return hi(f),null;if(N=(f.flags&128)!==0,P=S.rendering,P===null)if(N)Yu(S,!1);else{if(Ii!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(P=Tt(u),P!==null){for(f.flags|=128,Yu(S,!1),u=P.updateQueue,f.updateQueue=u,wh(f,u),f.subtreeFlags=0,u=y,y=f.child;y!==null;)Tp(y,u),y=y.sibling;return b(zi,zi.current&1|2),An&&$(f,S.treeForkCount),f.child}u=u.sibling}S.tail!==null&&Wr()>dc&&(f.flags|=128,N=!0,Yu(S,!1),f.lanes=4194304)}else{if(!N)if(u=Tt(P),u!==null){if(f.flags|=128,N=!0,u=u.updateQueue,f.updateQueue=u,wh(f,u),Yu(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!An)return hi(f),null}else 2*Wr()-S.renderingStartTime>dc&&y!==536870912&&(f.flags|=128,N=!0,Yu(S,!1),f.lanes=4194304);S.isBackwards?(P.sibling=f.child,f.child=P):(u=S.last,u!==null?u.sibling=P:f.child=P,S.last=P)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=Wr(),u.sibling=null,y=zi.current,b(zi,N?y&1|2:y&1),An&&$(f,S.treeForkCount),u):(hi(f),null);case 22:case 23:return yt(f),Oe(),S=f.memoizedState!==null,u!==null?u.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(y&536870912)!==0&&(f.flags&128)===0&&(hi(f),f.subtreeFlags&6&&(f.flags|=8192)):hi(f),y=f.updateQueue,y!==null&&wh(f,y.retryQueue),y=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==y&&(f.flags|=2048),u!==null&&x(sc),null;case 24:return y=null,u!==null&&(y=u.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),te(Ti),hi(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function o0(u,f){switch(De(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return te(Ti),me(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Ke(f),null;case 31:if(f.memoizedState!==null){if(yt(f),f.alternate===null)throw Error(r(340));ee()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 13:if(yt(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));ee()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return x(zi),null;case 4:return me(),null;case 10:return te(f.type),null;case 22:case 23:return yt(f),Oe(),u!==null&&x(sc),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return te(Ti),null;case 25:return null;default:return null}}function q_(u,f){switch(De(f),f.tag){case 3:te(Ti),me();break;case 26:case 27:case 5:Ke(f);break;case 4:me();break;case 31:f.memoizedState!==null&&yt(f);break;case 13:yt(f);break;case 19:x(zi);break;case 10:te(f.type);break;case 22:case 23:yt(f),Oe(),u!==null&&x(sc);break;case 24:te(Ti)}}function bo(u,f){try{var y=f.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var N=S.next;y=N;do{if((y.tag&u)===u){S=void 0;var P=y.create,H=y.inst;S=P(),H.destroy=S}y=y.next}while(y!==N)}}catch(ae){Zt(f,f.return,ae)}}function So(u,f,y){try{var S=f.updateQueue,N=S!==null?S.lastEffect:null;if(N!==null){var P=N.next;S=P;do{if((S.tag&u)===u){var H=S.inst,ae=H.destroy;if(ae!==void 0){H.destroy=void 0,N=f;var Ce=y,We=ae;try{We()}catch(at){Zt(N,Ce,at)}}}S=S.next}while(S!==P)}}catch(at){Zt(f,f.return,at)}}function Zu(u){var f=u.updateQueue;if(f!==null){var y=u.stateNode;try{_e(f,y)}catch(S){Zt(u,u.return,S)}}}function mp(u,f,y){y.props=Uc(u.type,u.memoizedProps),y.state=u.memoizedState;try{y.componentWillUnmount()}catch(S){Zt(u,f,S)}}function $u(u,f){try{var y=u.ref;if(y!==null){switch(u.tag){case 26:case 27:case 5:var S=lf(u.stateNode);break;case 30:S=u.stateNode;break;default:S=u.stateNode}typeof y=="function"?u.refCleanup=y(S):y.current=S}}catch(N){Zt(u,f,N)}}function Gr(u,f){var y=u.ref,S=u.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(N){Zt(u,f,N)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(N){Zt(u,f,N)}else y.current=null}function Fc(u){var f=u.type,y=u.memoizedProps,S=u.stateNode;try{ox(S,f,y,u)}catch(N){Zt(u,u.return,N)}}function Eh(u,f,y){try{lx(u.stateNode,u.type,y,f,u)}catch(S){Zt(u,u.return,S)}}function l0(u){return u.tag===5||u.tag===3||(wa?u.tag===26:!1)||(hr?u.tag===27&&Kc(u.type):!1)||u.tag===4}function sl(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||l0(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(hr&&u.tag===27&&Kc(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function gp(u,f,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?ux(y,u,f):C0(y,u);else if(S!==4&&(hr&&S===27&&Kc(u.type)&&(y=u.stateNode,f=null),u=u.child,u!==null))for(gp(u,f,y),u=u.sibling;u!==null;)gp(u,f,y),u=u.sibling}function Th(u,f,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?cx(y,u,f):A0(y,u);else if(S!==4&&(hr&&S===27&&Kc(u.type)&&(y=u.stateNode),u=u.child,u!==null))for(Th(u,f,y),u=u.sibling;u!==null;)Th(u,f,y),u=u.sibling}function c0(u,f,y){u=u.containerInfo;try{I0(u,y)}catch(S){Zt(f,f.return,S)}}function Y_(u){var f=u.stateNode,y=u.memoizedProps;try{nr(u.type,y,f,u)}catch(S){Zt(u,u.return,S)}}function bw(u,f){for(Lp(u.containerInfo),Wi=f;Wi!==null;)if(u=Wi,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Wi=f;else for(;Wi!==null;){u=Wi;var y=u.alternate;switch(f=u.flags,u.tag){case 0:if((f&4)!==0&&(f=u.updateQueue,f=f!==null?f.events:null,f!==null))for(var S=0;S<f.length;S++){var N=f[S];N.ref.impl=N.nextImpl}break;case 11:case 15:break;case 1:if((f&1024)!==0&&y!==null){f=void 0,S=u,N=y.memoizedProps,y=y.memoizedState;var P=S.stateNode;try{var H=Uc(S.type,N);f=P.getSnapshotBeforeUpdate(H,y),P.__reactInternalSnapshotBeforeUpdate=f}catch(ae){Zt(S,S.return,ae)}}break;case 3:(f&1024)!==0&&Ln&&D0(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=u.sibling,f!==null){f.return=u.return,Wi=f;break}Wi=u.return}}function Z_(u,f,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:ns(u,y),S&4&&bo(5,y);break;case 1:if(ns(u,y),S&4)if(u=y.stateNode,f===null)try{u.componentDidMount()}catch(H){Zt(y,y.return,H)}else{var N=Uc(y.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(N,f,u.__reactInternalSnapshotBeforeUpdate)}catch(H){Zt(y,y.return,H)}}S&64&&Zu(y),S&512&&$u(y,y.return);break;case 3:if(ns(u,y),S&64&&(S=y.updateQueue,S!==null)){if(u=null,y.child!==null)switch(y.child.tag){case 27:case 5:u=lf(y.child.stateNode);break;case 1:u=y.child.stateNode}try{_e(S,u)}catch(H){Zt(y,y.return,H)}}break;case 27:hr&&f===null&&S&4&&Y_(y);case 26:case 5:if(ns(u,y),f===null){if(S&4)Fc(y);else if(S&64){u=y.type,f=y.memoizedProps,N=y.stateNode;try{Dx(N,u,f,y)}catch(H){Zt(y,y.return,H)}}}S&512&&$u(y,y.return);break;case 12:ns(u,y);break;case 31:ns(u,y),S&4&&ya(u,y);break;case 13:ns(u,y),S&4&&Ch(u,y),S&64&&(S=y.memoizedState,S!==null&&(S=S.dehydrated,S!==null&&(y=Sw.bind(null,y),Bp(S,y))));break;case 22:if(S=y.memoizedState!==null||ki,!S){f=f!==null&&f.memoizedState!==null||Bi,N=ki;var P=Bi;ki=S,(Bi=f)&&!P?xa(u,y,(y.subtreeFlags&8772)!==0):ns(u,y),ki=N,Bi=P}break;case 30:break;default:ns(u,y)}}function u0(u){var f=u.alternate;f!==null&&(u.alternate=null,u0(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Pp(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function va(u,f,y){for(y=y.child;y!==null;)Ah(u,f,y),y=y.sibling}function Ah(u,f,y){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(eu,y)}catch{}switch(y.tag){case 26:if(wa){Bi||Gr(y,f),va(u,f,y),y.memoizedState?ic(y.memoizedState):y.stateNode&&X0(y.stateNode);break}case 27:if(hr){Bi||Gr(y,f);var S=Pi,N=Xi;Kc(y.type)&&(Pi=y.stateNode,Xi=!1),va(u,f,y),br(y.stateNode),Pi=S,Xi=N;break}case 5:Bi||Gr(y,f);case 6:if(Ln){if(S=Pi,N=Xi,Pi=null,va(u,f,y),Pi=S,Xi=N,Pi!==null)if(Xi)try{R0(Pi,y.stateNode)}catch(P){Zt(y,f,P)}else try{fx(Pi,y.stateNode)}catch(P){Zt(y,f,P)}}else va(u,f,y);break;case 18:Ln&&Pi!==null&&(Xi?Fp(Pi,y.stateNode):V0(Pi,y.stateNode));break;case 4:Ln?(S=Pi,N=Xi,Pi=y.stateNode.containerInfo,Xi=!0,va(u,f,y),Pi=S,Xi=N):(Xs&&c0(y.stateNode,y,L0()),va(u,f,y));break;case 0:case 11:case 14:case 15:So(2,y,f),Bi||So(4,y,f),va(u,f,y);break;case 1:Bi||(Gr(y,f),S=y.stateNode,typeof S.componentWillUnmount=="function"&&mp(y,f,S)),va(u,f,y);break;case 21:va(u,f,y);break;case 22:Bi=(S=Bi)||y.memoizedState!==null,va(u,f,y),Bi=S;break;default:va(u,f,y)}}function ya(u,f){if(wi&&f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Tw(u)}catch(y){Zt(f,f.return,y)}}}function Ch(u,f){if(wi&&f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Aw(u)}catch(y){Zt(f,f.return,y)}}function _a(u){switch(u.tag){case 31:case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new nv),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new nv),f;default:throw Error(r(435,u.tag))}}function al(u,f){var y=_a(u);f.forEach(function(S){if(!y.has(S)){y.add(S);var N=Mw.bind(null,u,S);S.then(N,N)}})}function _r(u,f){var y=f.deletions;if(y!==null)for(var S=0;S<y.length;S++){var N=y[S],P=u,H=f;if(Ln){var ae=H;e:for(;ae!==null;){switch(ae.tag){case 27:if(hr){if(Kc(ae.type)){Pi=ae.stateNode,Xi=!1;break e}break}case 5:Pi=ae.stateNode,Xi=!1;break e;case 3:case 4:Pi=ae.stateNode.containerInfo,Xi=!0;break e}ae=ae.return}if(Pi===null)throw Error(r(160));Ah(P,H,N),Pi=null,Xi=!1}else Ah(P,H,N);P=N.alternate,P!==null&&(P.return=null),N.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)Rh(f,u),f=f.sibling}function Rh(u,f){var y=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:_r(f,u),xr(u),S&4&&(So(3,u,u.return),bo(3,u),So(5,u,u.return));break;case 1:_r(f,u),xr(u),S&512&&(Bi||y===null||Gr(y,y.return)),S&64&&ki&&(u=u.updateQueue,u!==null&&(S=u.callbacks,S!==null&&(y=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:if(wa){var N=ni;if(_r(f,u),xr(u),S&512&&(Bi||y===null||Gr(y,y.return)),S&4){S=y!==null?y.memoizedState:null;var P=u.memoizedState;y===null?P===null?u.stateNode===null?u.stateNode=zx(N,u.type,u.memoizedProps,u):W0(N,u.type,u.stateNode):u.stateNode=G0(N,P,u.memoizedProps):S!==P?(S===null?y.stateNode!==null&&X0(y.stateNode):ic(S),P===null?W0(N,u.type,u.stateNode):G0(N,P,u.memoizedProps)):P===null&&u.stateNode!==null&&Eh(u,u.memoizedProps,y.memoizedProps)}break}case 27:if(hr){_r(f,u),xr(u),S&512&&(Bi||y===null||Gr(y,y.return)),y!==null&&S&4&&Eh(u,u.memoizedProps,y.memoizedProps);break}case 5:if(_r(f,u),xr(u),S&512&&(Bi||y===null||Gr(y,y.return)),Ln){if(u.flags&32){N=u.stateNode;try{N0(N)}catch(tt){Zt(u,u.return,tt)}}S&4&&u.stateNode!=null&&(N=u.memoizedProps,Eh(u,N,y!==null?y.memoizedProps:N)),S&1024&&(mf=!0)}else Xs&&u.alternate!==null&&(u.alternate.stateNode=u.stateNode);break;case 6:if(_r(f,u),xr(u),S&4&&Ln){if(u.stateNode===null)throw Error(r(162));S=u.memoizedProps,y=y!==null?y.memoizedProps:S,N=u.stateNode;try{ax(N,y,S)}catch(tt){Zt(u,u.return,tt)}}break;case 3:if(wa?(kx(),N=ni,ni=Vh(f.containerInfo),_r(f,u),ni=N):_r(f,u),xr(u),S&4){if(Ln&&wi&&y!==null&&y.memoizedState.isDehydrated)try{Lx(f.containerInfo)}catch(tt){Zt(u,u.return,tt)}if(Xs){S=f.containerInfo,y=f.pendingChildren;try{I0(S,y)}catch(tt){Zt(u,u.return,tt)}}}mf&&(mf=!1,vp(u));break;case 4:wa?(y=ni,ni=Vh(u.stateNode.containerInfo),_r(f,u),xr(u),ni=y):(_r(f,u),xr(u)),S&4&&Xs&&c0(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:_r(f,u),xr(u);break;case 31:_r(f,u),xr(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,al(u,S)));break;case 13:_r(f,u),xr(u),u.child.flags&8192&&u.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Kh=Wr()),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,al(u,S)));break;case 22:N=u.memoizedState!==null;var H=y!==null&&y.memoizedState!==null,ae=ki,Ce=Bi;if(ki=ae||N,Bi=Ce||H,_r(f,u),Bi=Ce,ki=ae,xr(u),S&8192&&(f=u.stateNode,f._visibility=N?f._visibility&-2:f._visibility|1,N&&(y===null||H||ki||Bi||Gl(u)),Ln)){e:if(y=null,Ln)for(f=u;;){if(f.tag===5||wa&&f.tag===26){if(y===null){H=y=f;try{P=H.stateNode,N?ww(P):dx(H.stateNode,H.memoizedProps)}catch(tt){Zt(H,H.return,tt)}}}else if(f.tag===6){if(y===null){H=f;try{var We=H.stateNode;N?hx(We):px(We,H.memoizedProps)}catch(tt){Zt(H,H.return,tt)}}}else if(f.tag===18){if(y===null){H=f;try{var at=H.stateNode;N?Ix(at):Ox(H.stateNode)}catch(tt){Zt(H,H.return,tt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}S&4&&(S=u.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,al(u,y))));break;case 19:_r(f,u),xr(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,al(u,S)));break;case 30:break;case 21:break;default:_r(f,u),xr(u)}}function xr(u){var f=u.flags;if(f&2){try{for(var y,S=u.return;S!==null;){if(l0(S)){y=S;break}S=S.return}if(Ln){if(y==null)throw Error(r(160));switch(y.tag){case 27:if(hr){var N=y.stateNode,P=sl(u);Th(u,P,N);break}case 5:var H=y.stateNode;y.flags&32&&(N0(H),y.flags&=-33);var ae=sl(u);Th(u,ae,H);break;case 3:case 4:var Ce=y.stateNode.containerInfo,We=sl(u);gp(u,We,Ce);break;default:throw Error(r(161))}}}catch(at){Zt(u,u.return,at)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function vp(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;vp(f),f.tag===5&&f.flags&1024&&M0(f.stateNode),u=u.sibling}}function ns(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Z_(u,f.alternate,f),f=f.sibling}function Gl(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:So(4,f,f.return),Gl(f);break;case 1:Gr(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&mp(f,f.return,y),Gl(f);break;case 27:hr&&br(f.stateNode);case 26:case 5:Gr(f,f.return),Gl(f);break;case 22:f.memoizedState===null&&Gl(f);break;case 30:Gl(f);break;default:Gl(f)}u=u.sibling}}function xa(u,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,N=u,P=f,H=P.flags;switch(P.tag){case 0:case 11:case 15:xa(N,P,y),bo(4,P);break;case 1:if(xa(N,P,y),S=P,N=S.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(We){Zt(S,S.return,We)}if(S=P,N=S.updateQueue,N!==null){var ae=S.stateNode;try{var Ce=N.shared.hiddenCallbacks;if(Ce!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Ce.length;N++)ue(Ce[N],ae)}catch(We){Zt(S,S.return,We)}}y&&H&64&&Zu(P),$u(P,P.return);break;case 27:hr&&Y_(P);case 26:case 5:xa(N,P,y),y&&S===null&&H&4&&Fc(P),$u(P,P.return);break;case 12:xa(N,P,y);break;case 31:xa(N,P,y),y&&H&4&&ya(N,P);break;case 13:xa(N,P,y),y&&H&4&&Ch(N,P);break;case 22:P.memoizedState===null&&xa(N,P,y),$u(P,P.return);break;case 30:break;default:xa(N,P,y)}f=f.sibling}}function Wl(u,f){var y=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==y&&(u!=null&&u.refCount++,y!=null&&Ue(y))}function f0(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Ue(u))}function Ri(u,f,y,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)yp(u,f,y,S),f=f.sibling}function yp(u,f,y,S){var N=f.flags;switch(f.tag){case 0:case 11:case 15:Ri(u,f,y,S),N&2048&&bo(9,f);break;case 1:Ri(u,f,y,S);break;case 3:Ri(u,f,y,S),N&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Ue(u)));break;case 12:if(N&2048){Ri(u,f,y,S),u=f.stateNode;try{var P=f.memoizedProps,H=P.id,ae=P.onPostCommit;typeof ae=="function"&&ae(H,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ce){Zt(f,f.return,Ce)}}else Ri(u,f,y,S);break;case 31:Ri(u,f,y,S);break;case 13:Ri(u,f,y,S);break;case 23:break;case 22:P=f.stateNode,H=f.alternate,f.memoizedState!==null?P._visibility&2?Ri(u,f,y,S):Ku(u,f):P._visibility&2?Ri(u,f,y,S):(P._visibility|=2,gs(u,f,y,S,(f.subtreeFlags&10256)!==0||!1)),N&2048&&Wl(H,f);break;case 24:Ri(u,f,y,S),N&2048&&f0(f.alternate,f);break;default:Ri(u,f,y,S)}}function gs(u,f,y,S,N){for(N=N&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var P=u,H=f,ae=y,Ce=S,We=H.flags;switch(H.tag){case 0:case 11:case 15:gs(P,H,ae,Ce,N),bo(8,H);break;case 23:break;case 22:var at=H.stateNode;H.memoizedState!==null?at._visibility&2?gs(P,H,ae,Ce,N):Ku(P,H):(at._visibility|=2,gs(P,H,ae,Ce,N)),N&&We&2048&&Wl(H.alternate,H);break;case 24:gs(P,H,ae,Ce,N),N&&We&2048&&f0(H.alternate,H);break;default:gs(P,H,ae,Ce,N)}f=f.sibling}}function Ku(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=u,S=f,N=S.flags;switch(S.tag){case 22:Ku(y,S),N&2048&&Wl(S.alternate,S);break;case 24:Ku(y,S),N&2048&&f0(S.alternate,S);break;default:Ku(y,S)}f=f.sibling}}function Mo(u,f,y){if(u.subtreeFlags&$s)for(u=u.child;u!==null;)Xl(u,f,y),u=u.sibling}function Xl(u,f,y){switch(u.tag){case 26:if(Mo(u,f,y),u.flags&$s)if(u.memoizedState!==null)Bx(y,ni,u.memoizedState,u.memoizedProps);else{var S=u.stateNode,N=u.type;u=u.memoizedProps,((f&335544128)===f||b0(N,u))&&Ip(y,S,N,u)}break;case 5:Mo(u,f,y),u.flags&$s&&(S=u.stateNode,N=u.type,u=u.memoizedProps,((f&335544128)===f||b0(N,u))&&Ip(y,S,N,u));break;case 3:case 4:wa?(S=ni,ni=Vh(u.stateNode.containerInfo),Mo(u,f,y),ni=S):Mo(u,f,y);break;case 22:u.memoizedState===null&&(S=u.alternate,S!==null&&S.memoizedState!==null?(S=$s,$s=16777216,Mo(u,f,y),$s=S):Mo(u,f,y));break;default:Mo(u,f,y)}}function _p(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Qu(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];Wi=S,js(S,u)}_p(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)xp(u),u=u.sibling}function xp(u){switch(u.tag){case 0:case 11:case 15:Qu(u),u.flags&2048&&So(9,u,u.return);break;case 3:Qu(u);break;case 12:Qu(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,Nh(u)):Qu(u);break;default:Qu(u)}}function Nh(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];Wi=S,js(S,u)}_p(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:So(8,f,f.return),Nh(f);break;case 22:y=f.stateNode,y._visibility&2&&(y._visibility&=-3,Nh(f));break;default:Nh(f)}u=u.sibling}}function js(u,f){for(;Wi!==null;){var y=Wi;switch(y.tag){case 0:case 11:case 15:So(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Ue(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,Wi=S;else e:for(y=u;Wi!==null;){S=Wi;var N=S.sibling,P=S.return;if(u0(S),S===y){Wi=null;break e}if(N!==null){N.return=P,Wi=N;break e}Wi=P}}}function ql(u){var f=an(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(r(364));return f}if(u=ji(u),u===null)throw Error(r(362));return u.stateNode.current}function Yl(u,f){var y=u.tag;switch(f.$$typeof){case La:if(u.type===f.value)return!0;break;case vf:e:{for(f=f.value,u=[u,0],y=0;y<u.length;){var S=u[y++],N=S.tag,P=u[y++],H=f[P];if(N!==5&&N!==26&&N!==27||!tc(S)){for(;H!=null&&Yl(S,H);)P++,H=f[P];if(P===f.length){f=!0;break e}else for(S=S.child;S!==null;)u.push(S,P),S=S.sibling}}f=!1}return f;case yf:if((y===5||y===26||y===27)&&T0(u.stateNode,f.value))return!0;break;case cc:if((y===5||y===6||y===26||y===27)&&(u=Bh(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case Zh:if((y===5||y===26||y===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Ju(u){switch(u.$$typeof){case La:return"<"+(g(u.value)||"Unknown")+">";case vf:return":has("+(Ju(u)||"")+")";case yf:return'[role="'+u.value+'"]';case cc:return'"'+u.value+'"';case Zh:return'[data-testname="'+u.value+'"]';default:throw Error(r(365))}}function ef(u,f){var y=[];u=[u,0];for(var S=0;S<u.length;){var N=u[S++],P=N.tag,H=u[S++],ae=f[H];if(P!==5&&P!==26&&P!==27||!tc(N)){for(;ae!=null&&Yl(N,ae);)H++,ae=f[H];if(H===f.length)y.push(N);else for(N=N.child;N!==null;)u.push(N,H),N=N.sibling}}return y}function vs(u,f){if(!fr)throw Error(r(363));u=ql(u),u=ef(u,f),f=[],u=Array.from(u);for(var y=0;y<u.length;){var S=u[y++],N=S.tag;if(N===5||N===26||N===27)tc(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)u.push(S),S=S.sibling}return f}function Mi(){return(wn&2)!==0&&Cn!==0?Cn&-Cn:Ht.T!==null?st():uf()}function ol(){if(ls===0)if((Cn&536870912)===0||An){var u=Jc;Jc<<=1,(Jc&3932160)===0&&(Jc=262144),ls=u}else ls=536870912;return u=Ms.current,u!==null&&(u.flags|=32),ls}function Ni(u,f,y){(u===gn&&(ii===2||ii===9)||u.cancelPendingCommit!==null)&&(Ui(u,0),Eo(u,Cn,ls,!1)),z(u,y),((wn&2)===0||u!==gn)&&(u===gn&&((wn&2)===0&&(hc|=y),Ii===4&&Eo(u,Cn,ls,!1)),lt(u))}function Ya(u,f,y){if((wn&6)!==0)throw Error(r(327));var S=!y&&(f&127)===0&&(f&u.expiredLanes)===0||R(u,f),N=S?Q_(u,f):To(u,f,!0),P=S;do{if(N===0){uc&&!S&&Eo(u,f,0,!1);break}else{if(y=u.current.alternate,P&&!$_(y)){N=To(u,f,!1),P=!1;continue}if(N===2){if(P=f,u.errorRecoveryDisabledLanes&P)var H=0;else H=u.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){f=H;e:{var ae=u;N=$h;var Ce=wi&&ae.current.memoizedState.isDehydrated;if(Ce&&(Ui(ae,H).flags|=256),H=To(ae,H,!1),H!==2){if(fc&&!Ce){ae.errorRecoveryDisabledLanes|=P,hc|=P,N=4;break e}P=Es,Es=N,P!==null&&(Es===null?Es=P:Es.push.apply(Es,P))}N=H}if(P=!1,N!==2)continue}}if(N===1){Ui(u,0),Eo(u,f,0,!0);break}e:{switch(S=u,P=N,P){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Eo(S,f,ls,!Qa);break e;case 2:Es=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(N=Kh+300-Wr(),10<N)){if(Eo(S,f,ls,!Qa),M(S,0,!0)!==0)break e;Fo=f,S.timeoutHandle=x0(wo.bind(null,S,y,Es,Qh,nm,f,ls,hc,xf,Qa,P,"Throttled",-0,0),N);break e}wo(S,y,Es,Qh,nm,f,ls,hc,xf,Qa,P,null,-0,0)}}break}while(!0);lt(u)}function wo(u,f,y,S,N,P,H,ae,Ce,We,at,tt,_t,sn){if(u.timeoutHandle=xs,tt=f.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt=S0(),Xl(f,P,tt);var qi=(P&62914560)===P?Kh-Wr():(P&4194048)===P?au-Wr():0;if(qi=sx(tt,qi),qi!==null){Fo=P,u.cancelPendingCommit=qi(Co.bind(null,u,f,P,y,S,N,H,ae,Ce,at,tt,null,_t,sn)),Eo(u,P,H,!We);return}}Co(u,f,P,y,S,N,H,ae,Ce)}function $_(u){for(var f=u;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var N=y[S],P=N.getSnapshot;N=N.value;try{if(!Gi(P(),N))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Eo(u,f,y,S){f&=~_f,f&=~hc,u.suspendedLanes|=f,u.pingedLanes&=~f,S&&(u.warmLanes|=f),S=u.expirationTimes;for(var N=f;0<N;){var P=31-bs(N),H=1<<P;S[P]=-1,N&=~H}y!==0&&F(u,y,f)}function bp(){return(wn&6)===0?(Ye(0),!1):!0}function Sp(){if(En!==null){if(ii===0)var u=En.return;else u=En,$a=pi=null,cr(u),ac=null,tu=0,u=En;for(;u!==null;)q_(u.alternate,u),u=u.return;En=null}}function Ui(u,f){var y=u.timeoutHandle;y!==xs&&(u.timeoutHandle=xs,rx(y)),y=u.cancelPendingCommit,y!==null&&(u.cancelPendingCommit=null,y()),Fo=0,Sp(),gn=u,En=y=Ws(u.current,null),Cn=f,ii=0,ir=null,Qa=!1,uc=R(u,f),fc=!1,xf=ls=_f=hc=_l=Ii=0,Es=$h=null,nm=!1,(f&8)!==0&&(f|=f&32);var S=u.entangledLanes;if(S!==0)for(u=u.entanglements,S&=f;0<S;){var N=31-bs(S),P=1<<N;f|=u[N],S&=~P}return Bo=f,Vt(),y}function di(u,f){on=null,Ht.H=Zs,f===mr||f===Na?(f=ht(),ii=3):f===em?(f=ht(),ii=4):ii=f===os?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ir=f,En===null&&(Ii=1,fp(u,pe(f,u.current)))}function Dn(){var u=Ms.current;return u===null?!0:(Cn&4194048)===Cn?ws===null:(Cn&62914560)===Cn||(Cn&536870912)!==0?u===ws:!1}function ll(){var u=Ht.H;return Ht.H=Zs,u===null?Zs:u}function Gs(){var u=Ht.A;return Ht.A=gf,u}function tf(){Ii=4,Qa||(Cn&4194048)!==Cn&&Ms.current!==null||(uc=!0),(_l&134217727)===0&&(hc&134217727)===0||gn===null||Eo(gn,Cn,ls,!1)}function To(u,f,y){var S=wn;wn|=2;var N=ll(),P=Gs();(gn!==u||Cn!==f)&&(Qh=null,Ui(u,f)),f=!1;var H=Ii;e:do try{if(ii!==0&&En!==null){var ae=En,Ce=ir;switch(ii){case 8:Sp(),H=6;break e;case 3:case 2:case 9:case 6:Ms.current===null&&(f=!0);var We=ii;if(ii=0,ir=null,Ao(u,ae,Ce,We),y&&uc){H=0;break e}break;default:We=ii,ii=0,ir=null,Ao(u,ae,Ce,We)}}K_(),H=Ii;break}catch(at){di(u,at)}while(!0);return f&&u.shellSuspendCounter++,$a=pi=null,wn=S,Ht.H=N,Ht.A=P,En===null&&(gn=null,Cn=0,Vt()),H}function K_(){for(;En!==null;)Zl(En)}function Q_(u,f){var y=wn;wn|=2;var S=ll(),N=Gs();gn!==u||Cn!==f?(Qh=null,dc=Wr()+500,Ui(u,f)):uc=R(u,f);e:do try{if(ii!==0&&En!==null){f=En;var P=ir;t:switch(ii){case 1:ii=0,ir=null,Ao(u,f,P,1);break;case 2:case 9:if(mt(P)){ii=0,ir=null,Mp(f);break}f=function(){ii!==2&&ii!==9||gn!==u||(ii=7),lt(u)},P.then(f,f);break e;case 3:ii=7;break e;case 4:ii=5;break e;case 7:mt(P)?(ii=0,ir=null,Mp(f)):(ii=0,ir=null,Ao(u,f,P,7));break;case 5:var H=null;switch(En.tag){case 26:H=En.memoizedState;case 5:case 27:var ae=En,Ce=ae.type,We=ae.pendingProps;if(H?Y0(H):Di(ae.stateNode,Ce,We)){ii=0,ir=null;var at=ae.sibling;if(at!==null)En=at;else{var tt=ae.return;tt!==null?(En=tt,rf(tt)):En=null}break t}}ii=0,ir=null,Ao(u,f,P,5);break;case 6:ii=0,ir=null,Ao(u,f,P,6);break;case 8:Sp(),Ii=6;break e;default:throw Error(r(462))}}nf();break}catch(_t){di(u,_t)}while(!0);return $a=pi=null,Ht.H=S,Ht.A=N,wn=y,En!==null?0:(gn=null,Cn=0,Vt(),Ii)}function nf(){for(;En!==null&&!Vx();)Zl(En)}function Zl(u){var f=r0(u.alternate,u,Bo);u.memoizedProps=u.pendingProps,f===null?rf(u):En=f}function Mp(u){var f=u,y=f.alternate;switch(f.tag){case 15:case 0:f=Qg(y,f,f.pendingProps,f.type,void 0,Cn);break;case 11:f=Qg(y,f,f.pendingProps,f.type.render,f.ref,Cn);break;case 5:cr(f);default:q_(y,f),f=En=Tp(f,Bo),f=r0(y,f,Bo)}u.memoizedProps=u.pendingProps,f===null?rf(u):En=f}function Ao(u,f,y,S){$a=pi=null,cr(f),ac=null,tu=0;var N=f.return;try{if(xw(u,N,f,y,Cn)){Ii=1,fp(u,pe(y,u.current)),En=null;return}}catch(P){if(N!==null)throw En=N,P;Ii=1,fp(u,pe(y,u.current)),En=null;return}f.flags&32768?(An||S===1?u=!0:uc||(Cn&536870912)!==0?u=!1:(Qa=u=!0,(S===2||S===9||S===3||S===6)&&(S=Ms.current,S!==null&&S.tag===13&&(S.flags|=16384))),$l(f,u)):rf(f)}function rf(u){var f=u;do{if((f.flags&32768)!==0){$l(f,Qa);return}u=f.return;var y=X_(f.alternate,f,Bo);if(y!==null){En=y;return}if(f=f.sibling,f!==null){En=f;return}En=f=u}while(f!==null);Ii===0&&(Ii=5)}function $l(u,f){do{var y=o0(u.alternate,u);if(y!==null){y.flags&=32767,En=y;return}if(y=u.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(u=u.sibling,u!==null)){En=u;return}En=u=y}while(u!==null);Ii=6,En=null}function Co(u,f,y,S,N,P,H,ae,Ce){u.cancelPendingCommit=null;do No();while(rr!==0);if((wn&6)!==0)throw Error(r(327));if(f!==null){if(f===u.current)throw Error(r(177));if(P=f.lanes|f.childLanes,P|=nu,k(u,y,P,H,ae,Ce),u===gn&&(En=gn=null,Cn=0),ou=f,bl=u,Fo=y,bf=P,im=N,iv=S,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,tr(jh,function(){return Dh(),null})):(u.callbackNode=null,u.callbackPriority=0),S=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||S){S=Ht.T,Ht.T=null,N=Ma(),Tn(2),H=wn,wn|=4;try{bw(u,f,y)}finally{wn=H,Tn(N),Ht.T=S}}rr=1,cl(),Ro(),wp()}}function cl(){if(rr===1){rr=0;var u=bl,f=ou,y=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||y){y=Ht.T,Ht.T=null;var S=Ma();Tn(2);var N=wn;wn|=4;try{Rh(f,u),ix(u.containerInfo)}finally{wn=N,Tn(S),Ht.T=y}}u.current=f,rr=2}}function Ro(){if(rr===2){rr=0;var u=bl,f=ou,y=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||y){y=Ht.T,Ht.T=null;var S=Ma();Tn(2);var N=wn;wn|=4;try{Z_(u,f.alternate,f)}finally{wn=N,Tn(S),Ht.T=y}}rr=3}}function wp(){if(rr===4||rr===3){rr=0,$0();var u=bl,f=ou,y=Fo,S=iv;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?rr=5:(rr=0,ou=bl=null,Ep(u,u.pendingLanes));var N=u.pendingLanes;if(N===0&&(xl=null),K(y),f=f.stateNode,Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(eu,f,void 0,(f.current.flags&128)===128)}catch{}if(S!==null){f=Ht.T,N=Ma(),Tn(2),Ht.T=null;try{for(var P=u.onRecoverableError,H=0;H<S.length;H++){var ae=S[H];P(ae.value,{componentStack:ae.stack})}}finally{Ht.T=f,Tn(N)}}(Fo&3)!==0&&No(),lt(u),N=u.pendingLanes,(y&261930)!==0&&(N&42)!==0?u===Jh?Vn++:(Vn=0,Jh=u):Vn=0,wi&&Fh(),Ye(0)}}function Ep(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Ue(f)))}function No(){return cl(),Ro(),wp(),Dh()}function Dh(){if(rr!==5)return!1;var u=bl,f=bf;bf=0;var y=K(Fo),S=32>y?32:y;y=Ht.T;var N=Ma();try{Tn(S),Ht.T=null,S=im,im=null;var P=bl,H=Fo;if(rr=0,ou=bl=null,Fo=0,(wn&6)!==0)throw Error(r(331));var ae=wn;if(wn|=4,xp(P.current),yp(P,P.current,H,S),wn=ae,Ye(0,!1),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(eu,P)}catch{}return!0}finally{Tn(N),Ht.T=y,Ep(u,f)}}function Kl(u,f,y){f=pe(y,f),f=$g(u.stateNode,f,2),u=zn(u,f,2),u!==null&&(z(u,2),lt(u))}function Zt(u,f,y){if(u.tag===3)Kl(u,u,y);else for(;f!==null;){if(f.tag===3){Kl(f,u,y);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(xl===null||!xl.has(S))){u=pe(y,u),y=I_(2),S=zn(f,y,2),S!==null&&(O_(y,S,f,u),z(S,2),lt(S));break}}f=f.return}}function sf(u,f,y){var S=u.pingCache;if(S===null){S=u.pingCache=new Ks;var N=new Set;S.set(f,N)}else N=S.get(f),N===void 0&&(N=new Set,S.set(f,N));N.has(y)||(fc=!0,N.add(y),u=J_.bind(null,u,f,y),f.then(u,u))}function J_(u,f,y){var S=u.pingCache;S!==null&&S.delete(f),u.pingedLanes|=u.suspendedLanes&y,u.warmLanes&=~y,gn===u&&(Cn&y)===y&&(Ii===4||Ii===3&&(Cn&62914560)===Cn&&300>Wr()-Kh?(wn&2)===0&&Ui(u,0):_f|=y,xf===Cn&&(xf=0)),lt(u)}function ex(u,f){f===0&&(f=L()),u=Fn(u,f),u!==null&&(z(u,f),lt(u))}function Sw(u){var f=u.memoizedState,y=0;f!==null&&(y=f.retryLane),ex(u,y)}function Mw(u,f){var y=0;switch(u.tag){case 31:case 13:var S=u.stateNode,N=u.memoizedState;N!==null&&(y=N.retryLane);break;case 19:S=u.stateNode;break;case 22:S=u.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(f),ex(u,y)}function tr(u,f){return Hh(u,f)}function h0(u,f,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Ws(u,f){var y=u.alternate;return y===null?(y=t(u.tag,f,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=f,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&65011712,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,f=u.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y.refCleanup=u.refCleanup,y}function Tp(u,f){u.flags&=65011714;var y=u.alternate;return y===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=y.childLanes,u.lanes=y.lanes,u.child=y.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=y.memoizedProps,u.memoizedState=y.memoizedState,u.updateQueue=y.updateQueue,u.type=y.type,f=y.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function ul(u,f,y,S,N,P){var H=0;if(S=u,typeof u=="function")Vc(u)&&(H=1);else if(typeof u=="string")H=wa&&hr?Vp(u,y,Sr.current)?26:Z0(u)?27:5:wa?Vp(u,y,Sr.current)?26:5:hr&&Z0(u)?27:5;else e:switch(u){case Oh:return u=t(31,y,f,N),u.elementType=Oh,u.lanes=P,u;case Wc:return ba(y.children,N,P,f);case Xc:H=8,N|=24;break;case qc:return u=t(12,y,f,N|2),u.elementType=qc,u.lanes=P,u;case Np:return u=t(13,y,f,N),u.elementType=Np,u.lanes=P,u;case fl:return u=t(19,y,f,N),u.elementType=fl,u.lanes=P,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Sa:H=10;break e;case Ih:H=9;break e;case af:H=11;break e;case Dp:H=14;break e;case is:H=16,S=null;break e}H=29,y=Error(r(130,u===null?"null":typeof u,"")),S=null}return f=t(H,y,f,N),f.elementType=u,f.type=S,f.lanes=P,f}function ba(u,f,y,S){return u=t(7,u,S,f),u.lanes=y,u}function d0(u,f,y){return u=t(6,u,null,f),u.lanes=y,u}function p0(u){var f=t(18,null,null,0);return f.stateNode=u,f}function m0(u,f,y){return f=t(4,u.children!==null?u.children:[],u.key,f),f.lanes=y,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function tx(u,f,y,S,N,P,H,ae,Ce){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xs,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=S,this.onUncaughtError=N,this.onCaughtError=P,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function Ql(u,f,y,S,N,P,H,ae,Ce,We,at,tt){return u=new tx(u,f,y,H,Ce,We,at,tt,ae),f=1,P===!0&&(f|=24),P=t(3,null,null,f),u.current=P,P.stateNode=u,f=Ee(),f.refCount++,u.pooledCache=f,f.refCount++,P.memoizedState={element:S,isDehydrated:y,cache:f},rn(P),u}function Ap(u){return u?(u=Lo,u):Lo}function Lh(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=c(f),u=u!==null?h(u):null,u===null?null:lf(u.stateNode)}function g0(u,f,y,S,N,P){N=Ap(N),S.context===null?S.context=N:S.pendingContext=N,S=bi(f),S.payload={element:y},P=P===void 0?null:P,P!==null&&(S.callback=P),y=zn(u,S,f),y!==null&&(Ni(y,u,f),Vi(y,u,f))}function Hc(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<f?y:f}}function Ph(u,f){Hc(u,f),(u=u.alternate)&&Hc(u,f)}var pn={},Cp=Pl,ys=Ite,Rp=Object.assign,jc=Symbol.for("react.element"),Do=Symbol.for("react.transitional.element"),Gc=Symbol.for("react.portal"),Wc=Symbol.for("react.fragment"),Xc=Symbol.for("react.strict_mode"),qc=Symbol.for("react.profiler"),Ih=Symbol.for("react.consumer"),Sa=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),fl=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),Oh=Symbol.for("react.activity"),v0=Symbol.for("react.memo_cache_sentinel"),hl=Symbol.iterator,Jl=Symbol.for("react.client.reference"),ec=Array.isArray,Ht=Cp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,y0=e.rendererVersion,Uh=e.rendererPackageName,of=e.extraDevToolsConfig,lf=e.getPublicInstance,nx=e.getRootHostContext,cf=e.getChildHostContext,Lp=e.prepareForCommit,ix=e.resetAfterCommit,_0=e.createInstance;e.cloneMutableInstance;var zh=e.appendInitialChild,_s=e.finalizeInitialChildren,rs=e.shouldSetTextContent,dl=e.createTextInstance;e.cloneMutableTextInstance;var x0=e.scheduleTimeout,rx=e.cancelTimeout,xs=e.noTimeout,Hi=e.isPrimaryRenderer;e.warnsIfNotActing;var Ln=e.supportsMutation,Xs=e.supportsPersistence,wi=e.supportsHydration,an=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var ai=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Tn=e.setCurrentUpdatePriority,Ma=e.getCurrentUpdatePriority,uf=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Yc=e.shouldAttemptEagerTransition,Pp=e.detachDeletedInstance;e.requestPostPaintCallback;var kh=e.maySuspendCommit,ff=e.maySuspendCommitOnUpdate,b0=e.maySuspendCommitInSyncRender,Di=e.preloadInstance,S0=e.startSuspendingCommit,Ip=e.suspendInstance;e.suspendOnActiveViewTransition;var sx=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Zc=e.NotPendingTransition,$c=e.HostTransitionContext,M0=e.resetFormInstance;e.bindToConsole;var w0=e.supportsMicrotasks,E0=e.scheduleMicrotask,fr=e.supportsTestSelectors,ji=e.findFiberRoot,Op=e.getBoundingRect,Bh=e.getTextContent,tc=e.isHiddenSubtree,T0=e.matchAccessibilityRole,pl=e.setFocusIfFocusable,Up=e.setupIntersectionObserver,A0=e.appendChild,C0=e.appendChildToContainer,ax=e.commitTextUpdate,ox=e.commitMount,lx=e.commitUpdate,cx=e.insertBefore,ux=e.insertInContainerBefore,fx=e.removeChild,R0=e.removeChildFromContainer,N0=e.resetTextContent,ww=e.hideInstance,hx=e.hideTextInstance,dx=e.unhideInstance,px=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var D0=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var mx=e.cloneInstance,L0=e.createContainerChildSet,P0=e.appendChildToContainerChildSet,gx=e.finalizeContainerChildren,I0=e.replaceContainerChildren,vx=e.cloneHiddenInstance,O0=e.cloneHiddenTextInstance,nc=e.isSuspenseInstancePending,zp=e.isSuspenseInstanceFallback,kp=e.getSuspenseInstanceFallbackErrorDetails,Bp=e.registerSuspenseInstanceRetry,yx=e.canHydrateFormStateMarker,U0=e.isFormStateMarkerMatching,_x=e.getNextHydratableSibling,xx=e.getNextHydratableSiblingAfterSingleton,bx=e.getFirstHydratableChild,Sx=e.getFirstHydratableChildWithinContainer,Mx=e.getFirstHydratableChildWithinActivityInstance,wx=e.getFirstHydratableChildWithinSuspenseInstance,z0=e.getFirstHydratableChildWithinSingleton,Ex=e.canHydrateInstance,Tx=e.canHydrateTextInstance,k0=e.canHydrateActivityInstance,Ax=e.canHydrateSuspenseInstance,Cx=e.hydrateInstance,Ew=e.hydrateTextInstance,B0=e.hydrateActivityInstance,Rx=e.hydrateSuspenseInstance,Nx=e.getNextHydratableInstanceAfterActivityInstance,F0=e.getNextHydratableInstanceAfterSuspenseInstance,Dx=e.commitHydratedInstance,Lx=e.commitHydratedContainer,Tw=e.commitHydratedActivityInstance,Aw=e.commitHydratedSuspenseInstance,Px=e.finalizeHydratedChildren,Fh=e.flushHydrationEvents;e.clearActivityBoundary;var V0=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var Fp=e.clearSuspenseBoundaryFromContainer,Ix=e.hideDehydratedBoundary,Ox=e.unhideDehydratedBoundary,hf=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Ux=e.validateHydratableInstance,H0=e.validateHydratableTextInstance,wa=e.supportsResources,Vp=e.isHostHoistableType,Vh=e.getHoistableRoot,j0=e.getResource,G0=e.acquireResource,ic=e.releaseResource,zx=e.hydrateHoistable,W0=e.mountHoistable,X0=e.unmountHoistable,Hp=e.createHoistableInstance,kx=e.prepareToCommitHoistables,q0=e.mayResourceSuspendCommit,Y0=e.preloadResource,Bx=e.suspendResource,hr=e.supportsSingletons,jp=e.resolveSingletonInstance,nr=e.acquireSingletonInstance,br=e.releaseSingletonInstance,Z0=e.isHostSingletonType,Kc=e.isSingletonScope,Gp=[],Qc=-1,Lo={},bs=Math.clz32?Math.clz32:T,Wp=Math.log,Fx=Math.LN2,Xp=256,Jc=262144,df=4194304,Hh=ys.unstable_scheduleCallback,qp=ys.unstable_cancelCallback,Vx=ys.unstable_shouldYield,$0=ys.unstable_requestPaint,Wr=ys.unstable_now,Yp=ys.unstable_ImmediatePriority,Hx=ys.unstable_UserBlockingPriority,jh=ys.unstable_NormalPriority,Zp=ys.unstable_IdlePriority,K0=ys.log,jx=ys.unstable_setDisableYieldValue,eu=null,Ss=null,Gi=typeof Object.is=="function"?Object.is:oe,$p=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Cw=Object.prototype.hasOwnProperty,Kp,Po,Gh=!1,Q0=new WeakMap,ml=[],Io=0,oi=null,Wh=0,Ea=[],qs=0,Ta=null,Pr=1,Za="",Sr=_(null),gl=_(null),Ir=_(null),Xh=_(null),dr=null,Ei=null,An=!1,Oo=null,ss=!1,Qp=Error(r(519)),Aa=_(null),pi=null,$a=null,Gx=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(y,S){u.push(S)}};this.abort=function(){f.aborted=!0,u.forEach(function(y){return y()})}},Mr=ys.unstable_scheduleCallback,Rw=ys.unstable_NormalPriority,Ti={$$typeof:Sa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},qh=null,ti=null,Xr=!1,Ca=!1,Jp=!1,rc=0,pf=null,J0=0,vl=0,pr=null,Ra=Ht.S;Ht.S=function(u,f){au=Wr(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&Xt(u,f),Ra!==null&&Ra(u,f)};var sc=_(null),mr=Error(r(460)),em=Error(r(474)),Na=Error(r(542)),Uo={then:function(){}},as=null,ac=null,tu=0,Or=It(!0),ev=It(!1),Ur=[],zo=0,nu=0,Ys=!1,tm=!1,iu=_(null),oc=_(0),Ms=_(null),ws=null,zi=_(0),yl=0,on=null,zt=null,en=null,mn=!1,fn=!1,On=!1,qr=0,Da=0,Ka=null,tv=0,Zs={readContext:Z,use:ur,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Zs.useEffectEvent=At;var Li={readContext:Z,use:ur,useCallback:function(u,f){return Ci().memoizedState=[u,f===void 0?null:f],u},useContext:Z,useEffect:vh,useImperativeHandle:function(u,f,y){y=y!=null?y.concat([u]):null,Oc(4194308,4,Hu.bind(null,f,u),y)},useLayoutEffect:function(u,f){return Oc(4194308,4,u,f)},useInsertionEffect:function(u,f){Oc(4,2,u,f)},useMemo:function(u,f){var y=Ci();f=f===void 0?null:f;var S=u();if(On){ne(!0);try{u()}finally{ne(!1)}}return y.memoizedState=[S,f],S},useReducer:function(u,f,y){var S=Ci();if(y!==void 0){var N=y(f);if(On){ne(!0);try{y(f)}finally{ne(!1)}}}else N=f;return S.memoizedState=S.baseState=N,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:N},S.queue=u,u=u.dispatch=_w.bind(null,on,u),[S.memoizedState,u]},useRef:function(u){var f=Ci();return u={current:u},f.memoizedState=u},useState:function(u){u=Hg(u);var f=u.queue,y=N_.bind(null,on,f);return f.dispatch=y,[u.memoizedState,y]},useDebugValue:_h,useDeferredValue:function(u,f){var y=Ci();return Gu(y,u,f)},useTransition:function(){var u=Hg(!1);return u=A_.bind(null,on,u.queue,!0,!1),Ci().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,y){var S=on,N=Ci();if(An){if(y===void 0)throw Error(r(407));y=y()}else{if(y=f(),gn===null)throw Error(r(349));(Cn&127)!==0||M_(S,f,y)}N.memoizedState=y;var P={value:y,getSnapshot:f};return N.queue=P,vh(Vg.bind(null,S,P,u),[u]),S.flags|=2048,Hs(9,{destroy:void 0},Fg.bind(null,S,P,y,f),null),y},useId:function(){var u=Ci(),f=gn.identifierPrefix;if(An){var y=Za,S=Pr;y=(S&~(1<<32-bs(S)-1)).toString(32)+y,f="_"+f+"R_"+y,y=qr++,0<y&&(f+="H"+y.toString(32)),f+="_"}else y=tv++,f="_"+f+"r_"+y.toString(32)+"_";return u.memoizedState=f},useHostTransitionStatus:qg,useFormState:Gg,useActionState:Gg,useOptimistic:function(u){var f=Ci();f.memoizedState=f.baseState=u;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=lp.bind(null,on,!0,y),y.dispatch=f,[u,f]},useMemoCache:Dr,useCacheRefresh:function(){return Ci().memoizedState=yw.bind(null,on)},useEffectEvent:function(u){var f=Ci(),y={impl:u};return f.memoizedState=y,function(){if((wn&2)!==0)throw Error(r(440));return y.impl.apply(void 0,arguments)}}},ko={readContext:Z,use:ur,useCallback:ap,useContext:Z,useEffect:Vu,useImperativeHandle:T_,useInsertionEffect:Hl,useLayoutEffect:yh,useMemo:ju,useReducer:Si,useRef:sp,useState:function(){return Si(ui)},useDebugValue:_h,useDeferredValue:function(u,f){var y=Mn();return Xg(y,zt.memoizedState,u,f)},useTransition:function(){var u=Si(ui)[0],f=Mn().memoizedState;return[typeof u=="boolean"?u:dn(u),f]},useSyncExternalStore:Pc,useId:op,useHostTransitionStatus:qg,useFormState:Bu,useActionState:Bu,useOptimistic:function(u,f){var y=Mn();return mh(y,zt,u,f)},useMemoCache:Dr,useCacheRefresh:R_};ko.useEffectEvent=es;var lc={readContext:Z,use:ur,useCallback:ap,useContext:Z,useEffect:Vu,useImperativeHandle:T_,useInsertionEffect:Hl,useLayoutEffect:yh,useMemo:ju,useReducer:ma,useRef:sp,useState:function(){return ma(ui)},useDebugValue:_h,useDeferredValue:function(u,f){var y=Mn();return zt===null?Gu(y,u,f):Xg(y,zt.memoizedState,u,f)},useTransition:function(){var u=ma(ui)[0],f=Mn().memoizedState;return[typeof u=="boolean"?u:dn(u),f]},useSyncExternalStore:Pc,useId:op,useHostTransitionStatus:qg,useFormState:Fu,useActionState:Fu,useOptimistic:function(u,f){var y=Mn();return zt!==null?mh(y,zt,u,f):(y.baseState=u,[u,y.queue.dispatch])},useMemoCache:Dr,useCacheRefresh:R_};lc.useEffectEvent=es;var Yh={enqueueSetState:function(u,f,y){u=u._reactInternals;var S=Mi(),N=bi(S);N.payload=f,y!=null&&(N.callback=y),f=zn(u,N,S),f!==null&&(Ni(f,u,S),Vi(f,u,S))},enqueueReplaceState:function(u,f,y){u=u._reactInternals;var S=Mi(),N=bi(S);N.tag=1,N.payload=f,y!=null&&(N.callback=y),f=zn(u,N,S),f!==null&&(Ni(f,u,S),Vi(f,u,S))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var y=Mi(),S=bi(y);S.tag=2,f!=null&&(S.callback=f),f=zn(u,S,y),f!==null&&(Ni(f,u,y),Vi(f,u,y))}},os=Error(r(461)),yi=!1,ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},ki=!1,Bi=!1,mf=!1,nv=typeof WeakSet=="function"?WeakSet:Set,Wi=null,Pi=null,Xi=!1,ni=null,$s=8192,gf={getCacheForType:function(u){var f=Z(Ti),y=f.data.get(u);return y===void 0&&(y=u(),f.data.set(u,y)),y},cacheSignal:function(){return Z(Ti).controller.signal}},La=0,vf=1,yf=2,Zh=3,cc=4;if(typeof Symbol=="function"&&Symbol.for){var su=Symbol.for;La=su("selector.component"),vf=su("selector.has_pseudo_class"),yf=su("selector.role"),Zh=su("selector.test_id"),cc=su("selector.text")}var Ks=typeof WeakMap=="function"?WeakMap:Map,wn=0,gn=null,En=null,Cn=0,ii=0,ir=null,Qa=!1,uc=!1,fc=!1,Bo=0,Ii=0,_l=0,hc=0,_f=0,ls=0,xf=0,$h=null,Es=null,nm=!1,Kh=0,au=0,dc=1/0,Qh=null,xl=null,rr=0,bl=null,ou=null,Fo=0,bf=0,im=null,iv=null,Vn=0,Jh=null;return pn.attemptContinuousHydration=function(u){if(u.tag===13||u.tag===31){var f=Fn(u,67108864);f!==null&&Ni(f,u,67108864),Ph(u,67108864)}},pn.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13||u.tag===31){var f=Mi();f=X(f);var y=Fn(u,f);y!==null&&Ni(y,u,f),Ph(u,f)}},pn.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=E(u.pendingLanes);if(f!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;f;){var y=1<<31-bs(f);u.entanglements[1]|=y,f&=~y}lt(u),(wn&6)===0&&(dc=Wr()+500,Ye(0))}}break;case 31:case 13:f=Fn(u,2),f!==null&&Ni(f,u,2),bp(),Ph(u,2)}},pn.batchedUpdates=function(u,f){return u(f)},pn.createComponentSelector=function(u){return{$$typeof:La,value:u}},pn.createContainer=function(u,f,y,S,N,P,H,ae,Ce,We){return Ql(u,f,!1,null,y,S,P,null,H,ae,Ce,We)},pn.createHasPseudoClassSelector=function(u){return{$$typeof:vf,value:u}},pn.createHydrationContainer=function(u,f,y,S,N,P,H,ae,Ce,We,at,tt,_t,sn){var qi;return u=Ql(y,S,!0,u,N,P,ae,sn,Ce,We,at,tt),u.context=Ap(null),y=u.current,S=Mi(),S=X(S),N=bi(S),N.callback=(qi=f)!=null?qi:null,zn(y,N,S),f=S,u.current.lanes=f,z(u,f),lt(u),u},pn.createPortal=function(u,f,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gc,key:S==null?null:""+S,children:u,containerInfo:f,implementation:y}},pn.createRoleSelector=function(u){return{$$typeof:yf,value:u}},pn.createTestNameSelector=function(u){return{$$typeof:Zh,value:u}},pn.createTextSelector=function(u){return{$$typeof:cc,value:u}},pn.defaultOnCaughtError=function(u){console.error(u)},pn.defaultOnRecoverableError=function(u){$p(u)},pn.defaultOnUncaughtError=function(u){$p(u)},pn.deferredUpdates=function(u){var f=Ht.T,y=Ma();try{return Tn(32),Ht.T=null,u()}finally{Tn(y),Ht.T=f}},pn.discreteUpdates=function(u,f,y,S,N){var P=Ht.T,H=Ma();try{return Tn(2),Ht.T=null,u(f,y,S,N)}finally{Tn(H),Ht.T=P,wn===0&&(dc=Wr()+500)}},pn.findAllNodes=vs,pn.findBoundingRects=function(u,f){if(!fr)throw Error(r(363));f=vs(u,f),u=[];for(var y=0;y<f.length;y++)u.push(Op(f[y]));for(f=u.length-1;0<f;f--){y=u[f];for(var S=y.x,N=S+y.width,P=y.y,H=P+y.height,ae=f-1;0<=ae;ae--)if(f!==ae){var Ce=u[ae],We=Ce.x,at=We+Ce.width,tt=Ce.y,_t=tt+Ce.height;if(S>=We&&P>=tt&&N<=at&&H<=_t){u.splice(f,1);break}else if(S!==We||y.width!==Ce.width||_t<P||tt>H){if(!(P!==tt||y.height!==Ce.height||at<S||We>N)){We>S&&(Ce.width+=We-S,Ce.x=S),at<N&&(Ce.width=N-We),u.splice(f,1);break}}else{tt>P&&(Ce.height+=tt-P,Ce.y=P),_t<H&&(Ce.height=H-tt),u.splice(f,1);break}}}return u},pn.findHostInstance=Lh,pn.findHostInstanceWithNoPortals=function(u){return u=c(u),u=u!==null?p(u):null,u===null?null:lf(u.stateNode)},pn.findHostInstanceWithWarning=function(u){return Lh(u)},pn.flushPassiveEffects=No,pn.flushSyncFromReconciler=function(u){var f=wn;wn|=1;var y=Ht.T,S=Ma();try{if(Tn(2),Ht.T=null,u)return u()}finally{Tn(S),Ht.T=y,wn=f,(wn&6)===0&&Ye(0)}},pn.flushSyncWork=bp,pn.focusWithin=function(u,f){if(!fr)throw Error(r(363));for(u=ql(u),f=ef(u,f),f=Array.from(f),u=0;u<f.length;){var y=f[u++],S=y.tag;if(!tc(y)){if((S===5||S===26||S===27)&&pl(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},pn.getFindAllNodesFailureDescription=function(u,f){if(!fr)throw Error(r(363));var y=0,S=[];u=[ql(u),0];for(var N=0;N<u.length;){var P=u[N++],H=P.tag,ae=u[N++],Ce=f[ae];if((H!==5&&H!==26&&H!==27||!tc(P))&&(Yl(P,Ce)&&(S.push(Ju(Ce)),ae++,ae>y&&(y=ae)),ae<f.length))for(P=P.child;P!==null;)u.push(P,ae),P=P.sibling}if(y<f.length){for(u=[];y<f.length;y++)u.push(Ju(f[y]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},pn.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return lf(u.child.stateNode);default:return u.child.stateNode}},pn.injectIntoDevTools=function(){var u={bundleType:0,version:y0,rendererPackageName:Uh,currentDispatcherRef:Ht,reconcilerVersion:"19.2.0"};if(of!==null&&(u.rendererConfig=of),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{eu=f.inject(u),Ss=f}catch{}u=!!f.checkDCE}}return u},pn.isAlreadyRendering=function(){return(wn&6)!==0},pn.observeVisibleRects=function(u,f,y,S){if(!fr)throw Error(r(363));u=vs(u,f);var N=Up(u,y,S).disconnect;return{disconnect:function(){N()}}},pn.shouldError=function(){return null},pn.shouldSuspend=function(){return!1},pn.startHostTransition=function(u,f,y,S){if(u.tag!==5)throw Error(r(476));var N=C_(u).queue;A_(u,N,f,Zc,y===null?n:function(){var P=C_(u);return P.next===null&&(P=u.alternate.memoizedState),xh(u,P.next.queue,{},Mi()),y(S)})},pn.updateContainer=function(u,f,y,S){var N=f.current,P=Mi();return g0(N,P,u,f,y,S),P},pn.updateContainerSync=function(u,f,y,S){return g0(f.current,2,u,f,y,S),2},pn},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(HI)),HI.exports}var GI;function cne(){return GI||(GI=1,VI.exports=lne()),VI.exports}var une=cne();const fne=one(une);function hne(i){const e=fne(i);return e.injectIntoDevTools(),e}const fF=0,wg={},dne=/^three(?=[A-Z])/,vw=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let pne=0;const mne=i=>typeof i=="function";function gne(i){if(mne(i)){const e=`${pne++}`;return wg[e]=i,e}else Object.assign(wg,i)}function hF(i,e){const t=vw(i),n=wg[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function vne(i,e,t){var n;return i=vw(i)in wg?i:i.replace(dne,""),hF(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,fM(e.object,t,i,e)}function yne(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?dM(i.parent,i):za(i.object)&&(i.object.visible=!1),i.isHidden=!0,kg(i)}}function dF(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?hM(i.parent,i):za(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,kg(i)}}function E3(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var r,s;const o=wg[vw(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(Vf(e.object,e.props),e.props.attach)hM(i,e);else if(za(e.object)&&za(i.object)){const o=i.object.children.indexOf(t?.object);if(t&&o!==-1){const c=i.object.children.indexOf(e.object);if(c!==-1){i.object.children.splice(c,1);const h=c<o?o-1:o;i.object.children.splice(h,0,e.object)}else e.object.parent=i.object,i.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const o of e.children)E3(e,o);kg(e)}}function VT(i,e){e&&(e.parent=i,i.children.push(e),E3(i,e))}function WI(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),E3(i,e,t)}function pF(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():dC.unstable_scheduleCallback(dC.unstable_IdlePriority,e)}}function mC(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?dM(i,e):za(e.object)&&za(i.object)&&(i.object.remove(e.object),Kte(iF(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const o=e.children[s];mC(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&pF(e.object),t===void 0&&kg(e)}function _ne(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const qS=[];function xne(){for(const[t]of qS){const n=t.parent;if(n){t.props.attach?dM(n,t):za(t.object)&&za(n.object)&&n.object.remove(t.object);for(const r of t.children)r.props.attach?dM(t,r):za(r.object)&&za(t.object)&&t.object.remove(r.object)}t.isHidden&&dF(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&pF(t.object)}for(const[t,n,r]of qS){t.props=n;const s=t.parent;if(s){var i,e;const o=wg[vw(t.type)];t.object=(i=t.props.object)!=null?i:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,_ne(r,t.object),Vf(t.object,t.props),t.props.attach?hM(s,t):za(t.object)&&za(s.object)&&s.object.add(t.object);for(const c of t.children)c.props.attach?hM(t,c):za(c.object)&&za(t.object)&&t.object.add(c.object);kg(t)}}qS.length=0}const HT=()=>{},XI={};let bS=fF;const bne=0,Sne=4,gC=hne({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:vne,removeChild:mC,appendChild:VT,appendInitialChild:VT,insertBefore:WI,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||VT(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||mC(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||WI(n,e,t)},getRootHostContext:()=>XI,getChildHostContext:()=>XI,commitUpdate(i,e,t,n,r){var s,o,c;hF(e,n);let h=!1;if((i.type==="primitive"&&t.object!==n.object||((s=n.args)==null?void 0:s.length)!==((o=t.args)==null?void 0:o.length)||(c=n.args)!=null&&c.some((m,g)=>{var _;return m!==((_=t.args)==null?void 0:_[g])}))&&(h=!0),h)qS.push([i,{...n},r]);else{const m=qte(i,n);Object.keys(m).length&&(Object.assign(i.props,m),Vf(i.object,m))}(r.sibling===null||(r.flags&Sne)===bne)&&xne()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>fM(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:yne,unhideInstance:dF,createTextInstance:HT,hideTextInstance:HT,unhideTextInstance:HT,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:j.createContext(null),setCurrentUpdatePriority(i){bS=i},getCurrentUpdatePriority(){return bS},resolveUpdatePriority(){var i;if(bS!==fF)return bS;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return sne;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ine;default:return rne}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:ane.version,applyViewTransitionName(i,e,t){},restoreViewTransitionName(i,e){},cancelViewTransitionName(i,e,t){},cancelRootViewTransitionName(i){},restoreRootViewTransitionName(i){},InstanceMeasurement:null,measureInstance:i=>null,wasInstanceInViewport:i=>!0,hasInstanceChanged:(i,e)=>!1,hasInstanceAffectedParent:(i,e)=>!1,suspendOnActiveViewTransition(i,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(i){},createViewTransitionInstance:i=>null,getCurrentGestureOffset(i){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(i,e){return i},cloneMutableTextInstance(i){return i},cloneRootViewTransitionContainer(i){throw new Error("Not implemented.")},removeRootViewTransitionClone(i,e){throw new Error("Not implemented.")},createFragmentInstance:i=>null,updateFragmentInstanceFiber(i,e){},commitNewChildToFragmentInstance(i,e){},deleteChildFromFragmentInstance(i,e){},measureClonedInstance:i=>null,maySuspendCommitOnUpdate:(i,e,t)=>!1,maySuspendCommitInSyncRender:(i,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(i,e)=>null}),Zd=new Map,Im={objects:"shallow",strict:!1};function Mne(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:s}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function wne(i){const e=Zd.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||Jte(_C,YI),o=t||gC.createContainer(s,nne,null,!1,null,"",r,r,r,null);e||Zd.set(i,{fiber:o,store:s});let c,h,p=!1,m=null;return{async configure(g={}){let _;m=new Promise(Y=>_=Y);let{gl:x,size:b,scene:T,events:E,onCreated:M,shadows:R=!1,linear:D=!1,flat:L=!1,legacy:I=!1,orthographic:z=!1,frameloop:k="always",dpr:F=[1,2],performance:O,raycaster:U,camera:X,onPointerMissed:K}=g,ne=s.getState(),oe=ne.gl;if(!ne.gl){const Y={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},he=typeof x=="function"?await x(Y):x;FI(he)?oe=he:oe=new sB({...Y,...x}),ne.set({gl:oe})}let le=ne.raycaster;le||ne.set({raycaster:le=new Kk});const{params:q,...J}=U||{};if(Yi.equ(J,le,Im)||Vf(le,{...J}),Yi.equ(q,le.params,Im)||Vf(le,{params:{...le.params,...q}}),!ne.camera||ne.camera===h&&!Yi.equ(h,X,Im)){h=X;const Y=X?.isCamera,he=Y?X:z?new v_(0,0,0,0,.1,1e3):new Qr(75,0,.1,1e3);Y||(he.position.z=5,X&&(Vf(he,X),he.manual||("aspect"in X||"left"in X||"right"in X||"bottom"in X||"top"in X)&&(he.manual=!0,he.updateProjectionMatrix())),!ne.camera&&!(X!=null&&X.rotation)&&he.lookAt(0,0,0)),ne.set({camera:he}),le.camera=he}if(!ne.scene){let Y;T!=null&&T.isScene?(Y=T,fM(Y,s,"",{})):(Y=new gR,fM(Y,s,"",{}),T&&Vf(Y,T)),ne.set({scene:Y})}E&&!ne.events.handlers&&ne.set({events:E(s)});const ie=Mne(i,b);if(Yi.equ(ie,ne.size,Im)||ne.setSize(ie.width,ie.height,ie.top,ie.left),F&&ne.viewport.dpr!==aF(F)&&ne.setDpr(F),ne.frameloop!==k&&ne.setFrameloop(k),ne.onPointerMissed||ne.set({onPointerMissed:K}),O&&!Yi.equ(O,ne.performance,Im)&&ne.set(Y=>({performance:{...Y.performance,...O}})),!ne.xr){var pe;const Y=(Le,Ze)=>{const me=s.getState();me.frameloop!=="never"&&YI(Le,!0,me,Ze)},he=()=>{const Le=s.getState();Le.gl.xr.enabled=Le.gl.xr.isPresenting,Le.gl.xr.setAnimationLoop(Le.gl.xr.isPresenting?Y:null),Le.gl.xr.isPresenting||_C(Le)},De={connect(){const Le=s.getState().gl;Le.xr.addEventListener("sessionstart",he),Le.xr.addEventListener("sessionend",he)},disconnect(){const Le=s.getState().gl;Le.xr.removeEventListener("sessionstart",he),Le.xr.removeEventListener("sessionend",he)}};typeof((pe=oe.xr)==null?void 0:pe.addEventListener)=="function"&&De.connect(),ne.set({xr:De})}if(oe.shadowMap){const Y=oe.shadowMap.enabled,he=oe.shadowMap.type;if(oe.shadowMap.enabled=!!R,Yi.boo(R))oe.shadowMap.type=ay;else if(Yi.str(R)){var $;const De={basic:lz,percentage:DM,soft:ay,variance:Cl};oe.shadowMap.type=($=De[R])!=null?$:ay}else Yi.obj(R)&&Object.assign(oe.shadowMap,R);(Y!==oe.shadowMap.enabled||he!==oe.shadowMap.type)&&(oe.shadowMap.needsUpdate=!0)}return Hn.enabled=!I,p||(oe.outputColorSpace=D?rh:Ps,oe.toneMapping=L?Tc:tR),ne.legacy!==I&&ne.set(()=>({legacy:I})),ne.linear!==D&&ne.set(()=>({linear:D})),ne.flat!==L&&ne.set(()=>({flat:L})),x&&!Yi.fun(x)&&!FI(x)&&!Yi.equ(x,oe,Im)&&Vf(oe,x),c=M,p=!0,_(),this},render(g){return!p&&!m&&this.configure(),m.then(()=>{gC.updateContainer(C.jsx(Ene,{store:s,children:g,onCreated:c,rootElement:i}),o,null,()=>{})}),s},unmount(){mF(i)}}}function Ene({store:i,children:e,onCreated:t,rootElement:n}){return S_(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),C.jsx(cF.Provider,{value:i,children:e})}function mF(i,e){const t=Zd.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),gC.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,o,c,h;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(c=r.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(h=r.gl)!=null&&h.xr&&r.xr.disconnect(),Gte(r.scene),Zd.delete(i)}catch{}},500)})}}const Tne=new Set,Ane=new Set,Cne=new Set;function jT(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function xy(i,e){switch(i){case"before":return jT(Tne,e);case"after":return jT(Ane,e);case"tail":return jT(Cne,e)}}let GT,WT;function vC(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),GT=e.internal.subscribers;for(let r=0;r<GT.length;r++)WT=GT[r],WT.ref.current(WT.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let pM=!1,yC=!1,XT,qI,Om;function gF(i){qI=requestAnimationFrame(gF),pM=!0,XT=0,xy("before",i),yC=!0;for(const t of Zd.values()){var e;Om=t.store.getState(),Om.internal.active&&(Om.frameloop==="always"||Om.internal.frames>0)&&!((e=Om.gl.xr)!=null&&e.isPresenting)&&(XT+=vC(i,Om))}if(yC=!1,xy("after",i),XT===0)return xy("tail",i),pM=!1,cancelAnimationFrame(qI)}function _C(i,e=1){var t;if(!i)return Zd.forEach(n=>_C(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):yC?i.internal.frames=2:i.internal.frames=1,pM||(pM=!0,requestAnimationFrame(gF)))}function YI(i,e=!0,t,n){if(e&&xy("before",i),t)vC(i,t,n);else for(const r of Zd.values())vC(i,r.store.getState());e&&xy("after",i)}const qT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Rne(i){const{handlePointer:e}=Qte(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(qT).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const o=r.handlers[s],[c,h]=qT[s];t.addEventListener(c,o,{passive:h})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const s=n.handlers[r],[o]=qT[r];n.connected.removeEventListener(o,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function ZI(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function Nne({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=j.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=j.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),h=i?typeof i=="number"?i:i.scroll:null,p=i?typeof i=="number"?i:i.resize:null,m=j.useRef(!1);j.useEffect(()=>(m.current=!0,()=>{m.current=!1}));const[g,_,x]=j.useMemo(()=>{const M=()=>{if(!c.current.element)return;const{left:R,top:D,width:L,height:I,bottom:z,right:k,x:F,y:O}=c.current.element.getBoundingClientRect(),U={left:R,top:D,width:L,height:I,bottom:z,right:k,x:F,y:O};c.current.element instanceof HTMLElement&&n&&(U.height=c.current.element.offsetHeight,U.width=c.current.element.offsetWidth),Object.freeze(U),m.current&&!Ine(c.current.lastBounds,U)&&o(c.current.lastBounds=U)};return[M,p?ZI(M,p):M,h?ZI(M,h):M]},[o,n,h,p]);function b(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",x,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function T(){c.current.element&&(c.current.resizeObserver=new r(x),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(M=>M.addEventListener("scroll",x,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const E=M=>{!M||M===c.current.element||(b(),c.current.element=M,c.current.scrollContainers=vF(M),T())};return Lne(x,!!e),Dne(_),j.useEffect(()=>{b(),T()},[e,x,_]),j.useEffect(()=>b,[]),[E,s,g]}function Dne(i){j.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[i])}function Lne(i,e){j.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[i,e])}function vF(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...vF(i.parentElement)]}const Pne=["x","y","top","bottom","left","right","width","height"],Ine=(i,e)=>Pne.every(t=>i[t]===e[t]);function One({ref:i,children:e,fallback:t,resize:n,style:r,gl:s,events:o=Rne,eventSource:c,eventPrefix:h,shadows:p,linear:m,flat:g,legacy:_,orthographic:x,frameloop:b,dpr:T,performance:E,raycaster:M,camera:R,scene:D,onPointerMissed:L,onCreated:I,...z}){j.useMemo(()=>gne(fY),[]);const k=Vte(),[F,O]=Nne({scroll:!0,debounce:{scroll:50,resize:0},...n}),U=j.useRef(null),X=j.useRef(null);j.useImperativeHandle(i,()=>U.current);const K=sF(L),[ne,oe]=j.useState(!1),[le,q]=j.useState(!1);if(ne)throw ne;if(le)throw le;const J=j.useRef(null);S_(()=>{const pe=U.current;if(O.width>0&&O.height>0&&pe){J.current||(J.current=wne(pe));async function $(){await J.current.configure({gl:s,scene:D,events:o,shadows:p,linear:m,flat:g,legacy:_,orthographic:x,frameloop:b,dpr:T,performance:E,raycaster:M,camera:R,size:O,onPointerMissed:(...Y)=>K.current==null?void 0:K.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(c?Bte(c)?c.current:c:X.current),h&&Y.setEvents({compute:(he,De)=>{const Le=he[h+"X"],Ze=he[h+"Y"];De.pointer.set(Le/De.size.width*2-1,-(Ze/De.size.height)*2+1),De.raycaster.setFromCamera(De.pointer,De.camera)}}),I?.(Y)}}),J.current.render(C.jsx(k,{children:C.jsx(jte,{set:q,children:C.jsx(j.Suspense,{fallback:C.jsx(Hte,{set:oe}),children:e??null})})}))}$()}}),j.useEffect(()=>{const pe=U.current;if(pe)return()=>mF(pe)},[]);const ie=c?"none":"auto";return C.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ie,...r},...z,children:C.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function Une(i){return C.jsx(tF,{children:C.jsx(One,{...i})})}const zne=`varying vec2 vUv;\r
\r
void main() {\r
  vUv = uv;\r
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r
}\r
`,kne=`uniform vec2 uMouse;\r
uniform vec2 uResolution;\r
uniform float uTime;\r
uniform int uPointCount;\r
uniform vec3 uColors[10];    // max 10 points\r
uniform vec3 uPositions[10]; // x, y, weight\r
varying vec2 vUv;\r
\r
// 2D Smooth Noise\r
float hash(vec2 p) {\r
  return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);\r
}\r
\r
float smoothNoise(vec2 p) {\r
  vec2 i = floor(p);\r
  vec2 f = fract(p);\r
\r
  // Four corners\r
  float a = hash(i);\r
  float b = hash(i + vec2(1.0, 0.0));\r
  float c = hash(i + vec2(0.0, 1.0));\r
  float d = hash(i + vec2(1.0, 1.0));\r
\r
  // Smooth interpolation\r
  vec2 u = f * f * (3.0 - 2.0 * f);\r
\r
  return mix(mix(a, b, u.x), mix(c, d, u.x), u.y);\r
}\r
\r
float whiteNoise(vec2 p) {\r
  return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\r
}\r
\r
float getIntensity(vec2 uv) {\r
  float radious = 0.002;\r
  float intensity = 0.0;\r
\r
  for(int i = 0; i < uPointCount; i++) {\r
    float dist = distance(uv, uPositions[i].xy);\r
    intensity += (radious / (dist * dist));\r
\r
    float _smoothNoise = (smoothNoise(uv * 40.0 + uTime / 0.5) - 0.5) * 0.003;  // animate with time\r
    float _whiteNoise = (whiteNoise(uv * 20.0 + uTime / 20.0) - 0.5) * 0.01;  // animate with time\r
    //float _whiteNoise = 0.0;\r
    intensity += (_smoothNoise + _whiteNoise);\r
\r
  }\r
\r
  intensity = min(1.0, intensity);\r
\r
  // float m = smoothNoise(uv * 1000.0 + (floor(uTime * 5.0)));\r
  // float noiseAmountM = 0.15;\r
  // intensity -= m * noiseAmountM;\r
\r
  // // Add noise variation: scale uv for frequency, multiply for amplitude\r
  // float n = smoothNoise(uv * 10.0 + uTime);  // animate with time\r
  // float noiseAmount = 0.12;\r
  // intensity += (n - 0.5) * noiseAmount;\r
\r
  return 1.0 - smoothstep(1.0, 0.0, intensity);\r
}\r
\r
vec3 getColor(vec2 uv) {\r
  vec3 sumWeighted = vec3(0.0);\r
  float sumWeights = 0.0;\r
\r
  for(int i = 0; i < uPointCount; i++) {\r
    vec2 delta = uv - uPositions[i].xy;\r
\r
    float _smoothNoise = (smoothNoise(uv * 40.0 + uTime / 0.5) - 0.5) * 0.015;  // animate with time\r
    //float _smoothNoise2 = (smoothNoise(uv * 200.0 + uTime / 0.5) - 0.5) * 0.005;  // animate with time\r
    float _whiteNoise = (whiteNoise(uv * 20.0 + floor(uTime * 20.0) / 40.0) - 0.5) * 0.07; \r
    //float _whiteNoise = (smoothNoise(uv * 2000.0 + floor(uTime * 5000.0) / 40.0) - 0.5) * 0.07;\r
    float _mouseDist = max(distance(uMouse, uv), 0.000005);\r
    //float _mouseNoise = min((smoothNoise(uv * 40.0 + uTime / 1.0) - 0.5) * (0.0005 / (_mouseDist * _mouseDist)), 0.005);\r
    \r
    delta += (_smoothNoise + _whiteNoise);\r
\r
    float distSq = dot(delta, delta);\r
\r
    // Use inverse squared distance as weight (avoid division by zero)\r
    float weight = 1.0 / max(distSq, 0.000001);\r
\r
    sumWeighted += uColors[i] * weight;\r
    sumWeights += weight;\r
  }\r
\r
  return sumWeighted / sumWeights;\r
}\r
\r
void main() {\r
  vec2 aspect = vec2(uResolution.x / uResolution.y, 1.0);\r
  vec2 mouse = uMouse * aspect;\r
\r
  vec3 color = getColor(vUv);\r
  float intesity = getIntensity(vUv);\r
  gl_FragColor = vec4(color, intesity);\r
}\r
`,Lv=i=>i.reduce((e,t)=>t.map((n,r)=>n+e[r]),new Array(i[0].length).fill(0)),ea=(i,e)=>i.map((t,n)=>t-e[n]),ia=(i,e)=>i.map(t=>t*e),Bne=(i,e)=>i.map(t=>t/e),Go=i=>Math.sqrt(i.reduce((e,t,n)=>e+t*t,0)),Fne=(i,e,t,n)=>({spheres:i.spheres.map((s,o,c)=>{const h=(k,F,O,U,X,K,ne,oe,le)=>{const q=F[k],J=()=>{let ie=[0,0,0];for(let pe=0;pe<F.length;pe++)pe!==k&&(ie=Lv([ie,q.getIntraSpheresForce(O,U,X,K,ne,oe,le,F[pe])]));return ie};return Lv([q.getInternalForce(O,U,X,K,ne,oe,le),q.getDragForce(O,U,X,K,ne,oe,le),q.getCenterForce(O,U,X,K,ne,oe,le),q.getMouseForce(O,U,X,K,ne,oe,le,[n.x,n.y,0]),J()])},p={...s},{position:m,velocity:g,acceleration:_,mass:x,radius:b,color:T}=p.lastState,E=p.getColor(e,m,g,_,x,b,T),M=p.getColor(e,m,g,_,x,b,T),R=p.getMass(e,m,g,_,x,b,T),D=h(o,c,e,m,g,_,x,b,T),L=Lv([_,ia(Bne(D,R),t)]),I=Lv([g,ia(L,t)]),z=Lv([m,ia(I,t)]);return p.lastState.color=E,p.lastState.radius=M,p.lastState.mass=R,p.lastState.force=D,p.lastState.acceleration=L,p.lastState.velocity=I,p.lastState.position=z,p})}),Vne=i=>({spheres:[{lastState:{position:[.45,.55,0],velocity:[0,0,0],acceleration:[0,0,0],mass:50.1,radius:.2,color:"#5CC0FF"},getRadius:(e,t,n,r,s,o,c)=>.1,getMass:(e,t,n,r,s,o,c)=>5.2,getDragForce:(e,t,n,r,s,o,c)=>ia(n,-1800*Go(n)*Go(n)),getInternalForce:(e,t,n,r,s,o,c)=>{const h=[.5+.12*Math.sin(e/3+1),.5+.18*Math.cos(e),0],p=ea(h,t);return ia(p,.05)},getIntraSpheresForce:(e,t,n,r,s,o,c,h)=>{const p=ea(h.lastState.position,t);return ia(p,Go(p)-.08)},getCenterForce:(e,t,n,r,s,o,c)=>{const p=ea([.5,.5,0],t);return ia(p,0)},getMouseForce:(e,t,n,r,s,o,c,h)=>(ea(h,t),Go(ea(h,t))*1e3,[0,0,0]),getColor:(e,t,n,r,s,o,c)=>"#5CC0FF"},{lastState:{position:[.55,.55,0],velocity:[0,0,0],acceleration:[0,0,0],mass:40,radius:.25,color:"#5C78FF"},getMass:(e,t,n,r,s,o,c)=>5.2,getDragForce:(e,t,n,r,s,o,c)=>ia(n,-1800*Go(n)*Go(n)),getInternalForce:(e,t,n,r,s,o,c)=>{const h=[.5+.14*Math.sin(2*e/5+1),.5+.18*Math.cos(-e),0],p=ea(h,t);return ia(p,.05)},getIntraSpheresForce:(e,t,n,r,s,o,c,h)=>{const p=ea(h.lastState.position,t);return ia(p,Go(p)-.08)},getCenterForce:(e,t,n,r,s,o,c)=>{const p=ea([.5,.5,0],t);return ia(p,0)},getMouseForce:(e,t,n,r,s,o,c,h)=>(ea(h,t),Go(ea(h,t))*1e3,[0,0,0]),getColor:(e,t,n,r,s,o,c)=>"#5C78FF"},{lastState:{position:[.5,.45,0],velocity:[0,0,0],acceleration:[0,0,0],mass:30,radius:.18,color:"#F538FF"},getRadius:(e,t,n,r,s,o,c)=>.1,getMass:(e,t,n,r,s,o,c)=>5.2,getDragForce:(e,t,n,r,s,o,c)=>ia(n,-1800*Go(n)*Go(n)),getInternalForce:(e,t,n,r,s,o,c)=>{const h=[.5+.14*Math.sin(-1.5*e/3+1),.5-.18*Math.cos(-2*e),0],p=ea(h,t);return ia(p,.05)},getIntraSpheresForce:(e,t,n,r,s,o,c,h)=>{const p=ea(h.lastState.position,t);return ia(p,Go(p)-.08)},getCenterForce:(e,t,n,r,s,o,c)=>{const p=ea([.5,.5,0],t);return ia(p,0)},getMouseForce:(e,t,n,r,s,o,c,h)=>(ea(h,t),Go(ea(h,t))*1e3,[0,0,0]),getColor:(e,t,n,r,s,o,c)=>"#F538FF"}],interSpheresForce:(e,t)=>3}),Hne=10;function yF(i){const e=parseInt(i.replace("#",""),16);return new Q((e>>16&255)/255,(e>>8&255)/255,(e&255)/255)}function jne(i){const e=[],t=[];for(let n=0;n<Hne;n++)if(n<i.length){const r=i[n].lastState;e.push(yF(r.color)),t.push(new Q(...r.position))}else e.push(new Q(0,0,0)),t.push(new Q(0,0,0));return{colors:e,positions:t}}let SS=null;function Gne(){const i=j.useRef(),{viewport:e}=ene();SS||(SS=Vne());const t=j.useRef(SS),{colors:n,positions:r}=jne(t.current.spheres),s=j.useRef({uMouse:{value:new je(0,0)},uResolution:{value:new je(e.width,e.height)},uTime:{value:0},uPointCount:{value:t.current.spheres.length},uColors:{value:n},uPositions:{value:r}});function o(c,h){h.uPointCount.value=c.spheres.length,c.spheres.forEach((p,m)=>{const g=p.lastState,_=yF(g.color);h.uColors.value[m].copy(_),h.uPositions.value[m].set(...g.position)})}return tne((c,h)=>{const{pointer:p,clock:m}=c;h=Math.min(.02,h),s.current.uTime.value=m.elapsedTime;const g=new je((p.x+1)/2,(p.y+1)/2);t.current=Fne(t.current,s.current.uTime.value,h,g),SS=t.current,s.current.uMouse.value.copy(g),s.current.uResolution.value.set(e.width,e.height),o(t.current,s.current)}),C.jsxs("mesh",{ref:i,children:[C.jsx("planeGeometry",{args:[e.width,e.height]}),C.jsx("shaderMaterial",{uniforms:s.current,vertexShader:zne,fragmentShader:kne,transparent:!0})]})}function Wne(){const i=nl(),{pathname:e}=i,t=e==="/"||e==="/molecule";return C.jsx("div",{style:{display:!t&&"none",position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:1,pointerEvents:"none"},children:C.jsx(Une,{orthographic:!0,camera:{zoom:100,position:[0,0,1]},children:C.jsx(Gne,{})})})}const Xne="modulepreload",qne=function(i){return"/rts-clone/"+i},$I={},kt=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let p=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var o=p;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");r=p(t.map(m=>{if(m=qne(m),m in $I)return;$I[m]=!0;const g=m.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":Xne,g||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((b,T)=>{x.addEventListener("load",b),x.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&s(h.reason);return e().catch(s)})},Bg={oilgas:{hero:{title:"Oil & Gas",img:()=>kt(()=>import("./hero_oilgas-BdiD0i9E.js"),[])},clientsSection:{title:"A dense and high-pressure orbit, where precision and safety define every move.",info:"We enhance operational reliability and efficiency through OT/IT integration, ensuring safe, data-driven, and continuous performance across upstream, midstream, and downstream operations.",clientsLogos:{repsolLogo:()=>kt(()=>import("./repsol-I7Z27Jed.js"),[]),ypfLogo:()=>kt(()=>import("./ypf-CHhh--lm.js"),[]),shellLogo:()=>kt(()=>import("./shell-CZCksl0H.js"),[]),cepsaLogo:()=>kt(()=>import("./cepsa-BunaLdp2.js"),[]),centralPuertoLogo:()=>kt(()=>import("./centralPuerto-LLG9D0Q9.js"),[]),sipetrolLogo:()=>kt(()=>import("./sipetrol-Bf_2F4bi.js"),[]),tgsLogo:()=>kt(()=>import("./tgs-Cdtu17li.js"),[])}},projectSection:{location:"PAE Argentina",sumary:"Maximizing operational insight through PI System & advanced analytics",info:`We design and implement cohesive systems where all technologies work 
seamlessly together, tailored to the  clients specific needs.`,technicalItems:["Custom PI Vision symbols (Java / HTML)","Advanced analytics in Seeq (Hexane Dry Point, TMT inference, catalytic activity monitoring)","Machine Learning applied to process optimization","Integration across PI System, Honeywell PHD, and Seeq","Automated reporting via Seeq Organizer","Timedepth data transformation to enhance decision-making"],img:()=>kt(()=>import("./project_oilgas-Cjb34Hb_.js"),[]),companyLogo:()=>kt(()=>import("./ypf-CHhh--lm.js"),[])}},power:{hero:{title:"Power generation",img:()=>kt(()=>import("./hero_power-D88RiLlS.js"),[])},clientsSection:{title:"Where uptime is currency and control is everything this universe demands robust, adaptive systems.",info:"We design and implement high-availability control architectures and digitalization strategies, that maximize efficiency, stability, and asset longevity in both conventional and renewable power plants.",clientsLogos:{repsolLogo:()=>kt(()=>import("./repsol-I7Z27Jed.js"),[]),ypfLogo:()=>kt(()=>import("./ypf-CHhh--lm.js"),[]),shellLogo:()=>kt(()=>import("./shell-CZCksl0H.js"),[]),cepsaLogo:()=>kt(()=>import("./cepsa-BunaLdp2.js"),[]),centralPuertoLogo:()=>kt(()=>import("./centralPuerto-LLG9D0Q9.js"),[]),sipetrolLogo:()=>kt(()=>import("./sipetrol-Bf_2F4bi.js"),[]),tgsLogo:()=>kt(()=>import("./tgs-Cdtu17li.js"),[])}},projectSection:{location:"Argentina",sumary:"Enterprise-level implementation for operational, maintenance, and executive intelligence",info:"Comprehensive PI System implementation for data capture, historization, and multi-level information consumption (operations, maintenance, management). Work included full AF modeling, creation of reusable templates, event notifications, and advanced interactive dashboards. Also included Seeq deployment for advance analytics and an AI pilot project developed in Workbench and DataLab.",technicalItems:["Full AF modeling across critical equipment and areas considering internarional KKS standard","Centralized historization in PI Data Archive","Template creation for scalable asset onboarding","Event notifications for critical equipment behavior","High-complexity operational dashboards with rich interaction","End-to-end PI System implementation and development","Seeq deployment and AI pilot integration","Foundation for corporate digital transformation"],img:()=>kt(()=>import("./project_power-spikQk7a.js"),[]),companyLogo:()=>kt(()=>import("./centralPuerto-LLG9D0Q9.js"),[])}},chemicals:{hero:{title:"Chemicals & Petrochemicals",img:()=>kt(()=>import("./hero_chemicals-CYpPlBYq.js"),[])},clientsSection:{title:"A volatile but high-potential galaxy, where operational efficiency and data intelligence rule.",info:"We help petrochemical plants achieve smarter, safer, and more efficient operations by digitalizing processes and connecting critical data from field to boardroom.",clientsLogos:{repsolLogo:()=>kt(()=>import("./repsol-I7Z27Jed.js"),[]),ypfLogo:()=>kt(()=>import("./ypf-CHhh--lm.js"),[]),shellLogo:()=>kt(()=>import("./shell-CZCksl0H.js"),[]),cepsaLogo:()=>kt(()=>import("./cepsa-BunaLdp2.js"),[]),centralPuertoLogo:()=>kt(()=>import("./centralPuerto-LLG9D0Q9.js"),[]),sipetrolLogo:()=>kt(()=>import("./sipetrol-Bf_2F4bi.js"),[]),tgsLogo:()=>kt(()=>import("./tgs-Cdtu17li.js"),[])}},projectSection:{location:"Argentina  Sierras Blancas,  Bajada de Aelo",sumary:"PI System governance, advanced analytics, and remote operations enablement",info:"End-to-end PI System and Data Analytics support for Shells upstream operations. The project included the commissioning of the ROC (Remote Operations Center), AF structuring, migration and optimization of 450+ PI Vision displays, and data reliability work for future predictive maintenance initiatives.",technicalItems:["ROC (Remote Operation Control) enablement","AF hierarchy structuring and template development","Migration and optimization of 450+ PI Vision screens","Standardization across Facilities and WellPads","PI System + Seeq integration within the Data-Driven POD","Data reliability and validation for critical assets","Technical review of databoooks, alarm catalogs, Modbus tables, etc."],img:()=>kt(()=>import("./project_chemicals-CajGgFeJ.js"),[]),companyLogo:()=>kt(()=>import("./shell-CZCksl0H.js"),[])}},pulpPaper:{hero:{title:"Pulp & Paper",img:()=>kt(()=>import("./hero_pulp-Btphbe6K.js"),[])},clientsSection:{title:"Heavily industrial terrain requiring resilient networks and smooth modernization paths.",info:"We support sustainable pulp and paper production through automation, energy optimization, and process digitalization  driving efficiency, circularity, and lower environmental impact.",clientsLogos:{repsolLogo:()=>kt(()=>import("./repsol-I7Z27Jed.js"),[]),ypfLogo:()=>kt(()=>import("./ypf-CHhh--lm.js"),[]),shellLogo:()=>kt(()=>import("./shell-CZCksl0H.js"),[]),cepsaLogo:()=>kt(()=>import("./cepsa-BunaLdp2.js"),[]),centralPuertoLogo:()=>kt(()=>import("./centralPuerto-LLG9D0Q9.js"),[]),sipetrolLogo:()=>kt(()=>import("./sipetrol-Bf_2F4bi.js"),[]),tgsLogo:()=>kt(()=>import("./tgs-Cdtu17li.js"),[])}},projectSection:{location:"Pilar, Argentina ",sumary:"Unified asset modeling and real-time visibility across distributed field operations",info:"Recuperation of PlantScape R120 server. R200.1 installation, R120 data  base recuperation. Migration towards  the new installed database release,  screens, menus, users, historization.  Creation of disk image using Norton  Ghost. Start up of plant system. PM tasks for PlantScape R200.1. Firmware revisin of PlantScape with Ntools  modules. Firmware actualization of C200, CNI, AI, DIs, DOs. ",technicalItems:[],img:()=>kt(()=>import("./project_pulp-8avcsGwS.js"),[]),companyLogo:()=>kt(()=>import("./honeywell-Bo6KzQdS.js"),[])}},mining:{hero:{title:"Metals & Mining",img:()=>kt(()=>import("./hero_mining-XEjwbrQK.js"),[])},clientsSection:{title:"Harsh environments and remote locationsrequiring diagnostics that go deep and networks that endure.",info:"We enable sustainable, efficient, and safe mining operations through advanced automation, digital monitoring, and environmental performance tracking that reduce impact and optimize resources.",clientsLogos:{repsolLogo:()=>kt(()=>import("./repsol-I7Z27Jed.js"),[]),ypfLogo:()=>kt(()=>import("./ypf-CHhh--lm.js"),[]),shellLogo:()=>kt(()=>import("./shell-CZCksl0H.js"),[]),cepsaLogo:()=>kt(()=>import("./cepsa-BunaLdp2.js"),[]),centralPuertoLogo:()=>kt(()=>import("./centralPuerto-LLG9D0Q9.js"),[]),sipetrolLogo:()=>kt(()=>import("./sipetrol-Bf_2F4bi.js"),[]),tgsLogo:()=>kt(()=>import("./tgs-Cdtu17li.js"),[])}},projectSection:{location:"Argentina ",sumary:"Unified asset modeling and real-time visibility across distributed field operations",info:"Implementation of a centralized asset model in PI System for 25,000+ tags collected through EXEMYS, covering geographically distributed compression units. Hybrid visualization (PI Vision + Ignition) and KPI dashboards were developed to support daily operations, trend analysis, and management decision-making.",technicalItems:["Full Asset Framework model for the entire compression fleet","PI Data Archive historization for all process variables","Hybrid visualization: PI Vision + Ignition","Remote queries via PI DAS  RTQP (MySQL)","Customized PI Web API integration","Interfacing with ARIEL compressor software","Unified monitoring for Caterpillar, Waukesha, and other OEMs","Standardized KPIs, analytics and operational dashboards"],img:()=>kt(()=>import("./project_mining-gyWSfAp4.js"),[]),companyLogo:()=>kt(()=>import("./honeywell-Bo6KzQdS.js"),[])}},pharmaceuticals:{hero:{title:"Pharmaceuticals",img:()=>kt(()=>import("./hero_pharmaceuticals-DCv6_OrC.js"),[])},clientsSection:{title:"An emerging universe with strict laws of motiontraceability, accuracy, and real-time compliance.",info:"An emerging universe with strict laws of motiontraceability, accuracy, and real-time compliance.",clientsLogos:{repsolLogo:()=>kt(()=>import("./repsol-I7Z27Jed.js"),[]),ypfLogo:()=>kt(()=>import("./ypf-CHhh--lm.js"),[]),shellLogo:()=>kt(()=>import("./shell-CZCksl0H.js"),[]),cepsaLogo:()=>kt(()=>import("./cepsa-BunaLdp2.js"),[]),centralPuertoLogo:()=>kt(()=>import("./centralPuerto-LLG9D0Q9.js"),[]),sipetrolLogo:()=>kt(()=>import("./sipetrol-Bf_2F4bi.js"),[]),tgsLogo:()=>kt(()=>import("./tgs-Cdtu17li.js"),[])}},projectSection:{location:"Cauelas, Argentina:",sumary:"Unified asset modeling and real-time visibility across distributed field operations",info:`Industrial Automation Upgrade  Oil Processing Unit Advanced diagnostics, system enhancement, and control optimization using FactoryLink SCADA and Mystic (OPTO 22 / Intellution) controllers.Performed comprehensive diagnostic, optimization, and maintenance activities within the Oil Section of one of Argentinas most important agro-industrial facilities. Worked extensively with FactoryLink SCADA development tools and Mystic controllers (OPTO 22 / Intellution) to enhance system stability, refine process logic, and modernize key automation functionalities.
 
The role involved deep troubleshooting, reverse engineering of legacy configurations, and deploying improvements that increased operational reliability and ensured consistent production performance. Collaboration with plant engineers and maintenance teams was essential to integrate upgrades seamlessly into live operations without disrupting critical process flows.`,technicalItems:[],img:()=>kt(()=>import("./project_pharmaceuticals-C7ZKmlzp.js"),[]),companyLogo:()=>kt(()=>import("./molinos-DvwKOL4y.js"),[])}}};function Yne(){return C.jsx(zg,{content:Bg.oilgas})}function Zne(){return C.jsx(zg,{content:Bg.power})}function $ne(){return C.jsx(zg,{content:Bg.mining})}function Kne(){return C.jsx(zg,{content:Bg.chemicals})}function Qne(){return C.jsx(zg,{content:Bg.pulpPaper})}function Jne(){return C.jsx(zg,{content:Bg.pharmaceuticals})}const eie="/rts-clone/assets/heroDigitalServices-DAZvUz_0.png";function tie(){const i=j.useRef(null);return C.jsxs("section",{id:"hero-digital-services",ref:i,className:"relative w-full h-full min-h-screen",style:{backgroundImage:`url(${eie})`,backgroundSize:"contain",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},children:[C.jsx("div",{className:"absolute inset-0 bg-black/60"}),C.jsx("div",{className:"relative z-10 w-full h-full md:px-7 py-9 px-3",children:C.jsxs("div",{className:"pt-9 flex flex-col gap-6 md:gap-4",children:[C.jsx(Fe,{variant:"headline-large",className:"md:text-display-lg",children:"DIGITAL SKILLS"}),C.jsx("div",{className:"flex justify-center pr-3",children:C.jsx(Fe,{variant:"title-medium",className:"w-2/3 md:w-1/3",children:" turns industrial data into actionable intelligence."})})]})})]})}const nie="/rts-clone/assets/nebulosa_blue-CLWH26s4.png",iie=[[{children:"Data-Driven",variant:"title-small",Icon:C.jsx(Yf,{className:"w-6 h-6 text-core-violet md:text-text-primary"})},{children:`From initial data gathering 
to final value creation`,variant:"title-body"},{children:"By focusing on defined objectives, advanced analytics,  and measurable impact, we turn overwhelming data streams into powerful tools for decision-making and business growth.",variant:"body-sm"},{children:["Smart Data Gathering","Advanced Data Processing","Value Creation at Scale"],variant:"body-sm"}],[{children:"Networking",variant:"title-small",Icon:C.jsx(Yf,{className:"w-6 h-6 text-core-violet md:text-text-primary"})},{children:`Connecting systems, 
empowering industries`,variant:"title-body"},{children:"Designed to establish, optimize, and maintain robust communication infrastructures that enable seamless connectivity across industrial systems. Its focus is on ensuring reliable, secure, and efficient data exchange  for modern industrial operations.",variant:"body-sm"},{children:["Network design & architecture","Protocol integration","Secure connectivity","Real-Time communication","System optimization & troubleshooting","Industrial IoT integration"],variant:"body-sm"}],[{children:`IT/OT
 Convergence`,variant:"title-small",Icon:C.jsx(Yf,{className:"w-6 h-6 text-core-violet md:text-text-primary"})},{children:`Bridging operational
and digital worlds with 
culture approach`,variant:"title-body"},{children:`Guiding organizations in developing a culture that bridges the gap between Information Technology (IT)  and Operational Technology (OT). This POD emphasizes fostering collaboration, shared goals, and mutual understanding between teams, unlocking 
the full potential of digital transformation.`,variant:"body-sm"},{children:["Cultural alignment","Organizational change management","Consultative roadmap development","Skill development & training","Governance & Best practices","Strategic alignment with business goals"],variant:"body-sm"}],[{children:"AVEVA PI System",variant:"title-small",Icon:C.jsx(Yf,{className:"w-6 h-6 text-core-violet md:text-text-primary"})},{children:"Maximizing the value of your AVEVA PI System",variant:"title-body"},{children:"Specializes in providing comprehensive services for AVEVA PI System, the industry-leading platform for real-time operational data management. Our focus is on helping organizations fully leverage the capabilities of their PI System to drive operational efficiency, enhance decision- making, and unlock the power of their data.",variant:"body-sm"},{children:["Design and Implementation","Migration and Upgrade","Integration with Third-Party Systems","Data Integration and Connectivity","Advanced Analytics and Process Optimization","Support and Maintenance","Training and Knowledge Transfer","Cloud and Edge Integration"],variant:"body-sm"}]],rie=[{title:"What is a POD?",body:"A POD is a multidisciplinary team designed to collaborate and consolidate diverse skills to meet client requirements. Each POD operates autonomously, setting short-term, reviewable goals based on defined objectives and specifications."},{title:"What's the impact on project execution?",body:"This systematic and agile approach ensures efficient project execution while adhering to all documentation and programming requirements. Our POD Services strategy ensures we achieve project objectives with maximum agility and precision, delivering exceptional results every time."},{title:"What is the technology advantage?",body:"We bring deep expertise in the entire technological stack available to our clients, leveraging this knowledge to develop services and deploy the most efficient solutions for each project."}];function sie(){const i=j.useRef(null),{setTheme:e}=lh();return j.useEffect(()=>{if(!i.current){console.log(" whiteBlockRef.current an no existe");return}const t=new IntersectionObserver(n=>{n.forEach(r=>{console.log(" IntersectionObserver entry:",{isIntersecting:r.isIntersecting,intersectionRatio:r.intersectionRatio,boundingClientRect:r.boundingClientRect,rootBounds:r.rootBounds,time:r.time}),r.isIntersecting?(e("light"),window.dispatchEvent(new Event("navLight"))):(e("dark"),window.dispatchEvent(new Event("navDark")))})},{threshold:.1,rootMargin:"0px"});return t.observe(i.current),()=>{console.log(" Limpiando observer"),t.disconnect()}},[e]),C.jsxs(C.Fragment,{children:[C.jsx(tie,{}),C.jsxs("section",{id:"digital-pod",className:"flex flex-col md:flex-row gap-8 pt-9 pb-9 md:pb-7 px-3 md:px-8  bg-background-primary ",children:[C.jsxs("div",{className:"flex flex-col gap-5 md:gap-7 w-full md:w-1/2 ",children:[C.jsx(Fe,{variant:"title-medium",className:"text-text-secondary font-base",children:"Through our POD services framework, we merge OT experience, process knowledge, and computer science to engineer the digital core of industrial operations."}),C.jsx(Fs,{variant:"filled-dark",children:"Book a meeting now",className:"w-fit"})]}),C.jsx("div",{className:"flex flex-col gap-4  w-full md:w-1/2",children:C.jsx(uM,{items:rie,defaultOpen:0,allowCollapse:!0})})]}),C.jsxs("section",{id:"meet-our-pods",className:"felx flex-col gap-4 md:gap-7 py-9 px-3 md:px-7 bg-background-primary",children:[C.jsx("div",{children:C.jsxs(Fe,{variant:"headline-medium",className:"md:text-center text-text-primary pb-7",children:["MEET OUR "," ",C.jsx("span",{className:"      bg-gradient-to-b  from-[#6343f3]  to-[#0093CE]      bg-clip-text text-transparent    ",children:"PODS"})]})}),C.jsx("div",{children:C.jsx(J4,{rows:iie,columns:["Service","Focus","Description","Main technologies"],mode:"dark"})})]}),C.jsx("div",{ref:i,children:C.jsxs("section",{id:"partners",className:"flex flex-col md:flex-row px-3 md:px-7 py-9 gap-6 md:gap-4 relative overflow-hidden ",children:[C.jsx("div",{className:"absolute block md:hidden",style:{backgroundImage:`url(${nie})`,backgroundSize:"650px auto",backgroundRepeat:"no-repeat",transform:"rotate(-45deg)",opacity:"40%",width:"650px",height:"718px",top:"-35%",left:"-70%",backgroundPosition:"center"}}),C.jsxs("div",{className:"relative z-10 flex flex-col gap-6 w-full md:w-3/5",children:[C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsx(Fe,{variant:"subtitle-md",className:"text-text-on-white-secondary",children:"DIGITAL SOLUTIONS"}),C.jsx(Fe,{variant:"headline-small",className:"md:text-headline-medium",children:"WE CAREFULLY SELECT AND IMPLEMENT CUTTING-EDGE PLATFORMS"})]}),C.jsx("div",{className:"flex w-full md:justify-center",children:C.jsx(Fe,{variant:"body-lg",className:"text-text-on-white-secondary md:w-ds-parteners-img",children:"At RTS Group, we seamlessly integrate industry-leading technology solutions into our PODs to achieve the specific outcomes of each project."})})]}),C.jsx("div",{className:"relative z-10",children:C.jsx("img",{src:ote,alt:"Partners",className:"md:h-ds-parteners-img md:w-ds-parteners-img w-full h-auto"})})]})}),C.jsx(ep,{variant:"image",backgroundImage:S3,overlay:50,variantMobile:"headline-small",variantDesktop:"headline-medium",titleDesktop:`WOULD YOU LIKE TO KNOW 
MORE ABOUT OUR EXPERIENCE?`,titleMobile:"WOULD YOU LIKE TO KNOW MORE ABOUT OUR EXPERIENCE?",buttons:[{label:"Download the full document",href:"#contact",variant:"outlined-dark"},{label:"Book a meeting now",href:"#book",variant:"filled-dark"}],start:"top top"})]})}function aie(){return C.jsx("section",{id:"molecule",className:"min-h-screen"})}typeof window<"u"&&(Qn.registerPlugin($t),window.gsap&&(window.gsap.globalTimeline.clear(),window.gsap.killTweensOf("*")));function oie(){const i=nl(),e=j.useRef(null),[t,n]=j.useState(0),[r,s]=j.useState(0),[o,c]=j.useState(!1),[h,p]=j.useState(!1),m=j.useRef(null),g=j.useRef(0),_=j.useRef(null);return j.useEffect(()=>{const x=setTimeout(()=>c(!0),1200);return()=>clearTimeout(x)},[]),j.useEffect(()=>{if(!h)return;const x=new o6({duration:1.2,smoothWheel:!0,wheelMultiplier:.7,easing:E=>1-Math.pow(1-E,3)});m.current=x;const b=E=>{x.raf(E),g.current=requestAnimationFrame(b)};g.current=requestAnimationFrame(b);const T=()=>$t.update();return _.current=T,Qn.ticker.add(T),$t.scrollerProxy(".scroll-container",{scrollTop(E){return arguments.length?x.scrollTo(E,{immediate:!0}):x.scroll},getBoundingClientRect(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}}}),$t.defaults({scroller:".scroll-container"}),requestAnimationFrame(()=>$t.refresh()),()=>{cancelAnimationFrame(g.current),_.current&&Qn.ticker.remove(_.current),x.destroy(),m.current=null,$t.getAll().forEach(E=>E.kill())}},[h]),j.useEffect(()=>{h&&i.pathname==="/"&&(Qn.set("#hero",{visibility:"visible"}),window.__heroEnter=!0,window.dispatchEvent(new Event("hero:enter")))},[h]),j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),console.log("App mounted, scroll reset")},[i.pathname]),C.jsxs(C.Fragment,{children:[!h&&C.jsx(hY,{isReady:o,onDone:()=>p(!0)}),C.jsx(Wne,{}),C.jsxs(eZ,{ref:e,enabled:h,lenisRef:m,children:[C.jsx(_ee,{}),C.jsx(xee,{phase:r}),C.jsx("div",{className:"main-container",style:{background:"transparent"},children:C.jsxs("div",{className:"scroll-container",style:{position:"relative",zIndex:3,background:"transparent"},children:[C.jsxs(sV,{children:[C.jsx(Ns,{path:"/",element:C.jsx(RI,{onPhase:s})}),C.jsx(Ns,{path:"/molecule",element:C.jsx(aie,{})}),C.jsx(Ns,{path:"/hub",element:C.jsx(Kee,{onPhase:s})}),C.jsx(Ns,{path:"/automation-controls",element:C.jsx(Ste,{},"automation")}),C.jsx(Ns,{path:"/digital",element:C.jsx(sie,{},"digital")}),C.jsx(Ns,{path:"/energy",element:C.jsx(dte,{},"energy")}),C.jsx(Ns,{path:"/culture",element:C.jsx(rte,{},"culture")}),C.jsxs(Ns,{path:"/industries",children:[C.jsx(Ns,{path:"oil-and-gas",element:C.jsx(Yne,{},"oil-gas")}),C.jsx(Ns,{path:"chemicals",element:C.jsx(Kne,{},"chemicals")}),C.jsx(Ns,{path:"pulp-and-paper",element:C.jsx(Qne,{},"pulp-paper")}),C.jsx(Ns,{path:"pharma",element:C.jsx(Jne,{},"pharma")}),C.jsx(Ns,{path:"power-generation",element:C.jsx(Zne,{},"power")}),C.jsx(Ns,{path:"mining",element:C.jsx($ne,{},"mining")})]}),C.jsx(Ns,{path:"*",element:C.jsx(RI,{onPhase:s},"default")})]}),C.jsx(ate,{})]})})]})]})}const lie=()=>{if(window.location.hostname==="laurapajaro-cpu.github.io"){const i=window.location.pathname.split("/").filter(Boolean);return i[0]&&i[0]!=="rts-clone"?`/${i[0]}/`:"/rts-clone/"}return"/"},cie=lie();l5.createRoot(document.getElementById("root")).render(C.jsx(Pl.StrictMode,{children:C.jsx(tH,{store:n6,children:C.jsx(RV,{basename:cie,children:C.jsx(i6,{children:C.jsx(oie,{})})})})}));
